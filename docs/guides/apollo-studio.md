---
title: Apollo Studio
---

This guide illustrates how to configure `tailcall` to send usage metrics to [Apollo Studio](https://studio.apollographql.com).<br/><br/>
_Note: Before proceeding make sure you have an Apollo Enterprise account. If not, you can get a free 28 days trial by going [here](https://studio.apollographql.com/signup?type=enterprise-trial)._

## Creating a monolith graph

Before you configure `tailcall`, you will need to create a `Monolith` graph on Apollo Studio.

![home.png](../../static/images/apollo-studio/home.png)

- Go to your organization's home page.
- Click on `Create your first graph`, if this is your first graph or `Create New Graph` if you have existing graphs.

![create-graph.png](../../static/images/apollo-studio/create-graph.png)

- Change the `Graph title`, `Graph ID` and other fields as desired.
- Make sure to change `Graph Architecture` to Monolith, since only Monolith graphs are currently supported by `tailcall`.
- Once you are done, click on `Next`. You'll see the following screen.

![insert-gql-schema.png](../../static/images/apollo-studio/insert-gql-schema.png)

- Copy the fields `APOLLO_KEY` and `APOLLO_GRAPH_REF` as they are required by `tailcall` to be able to send the usage metrics.
- Navigate to `Local Schema` and insert your schema generated by `tailcall` and click `Upload`.<br/>_Note: you can get the schema by running `tailcall check --schema <path-to-config>`_(click [here](./cli.md) to know more).

![local-schema.png](../../static/images/apollo-studio/local-schema.png)

You have now successfully created a Monolith graph in Apollo Studio. The next step is to configure `tailcall` to use the `APOLLO_API_KEY` and `APOLLO_GRAPH_REF`. Follow instructions [here](../operators/telemetry.md).

## Check the metrics in Apollo Studio

To see the metrics for you queries follow these instructions:

- Start `tailcall` with the appropriate configuration for Apollo.
- Create a query like below and run it multiple times to send it to Apollo Studio.

```graphql
query MyQuery {
  posts {
    id
    title
  }
}
```

- To see the metrics click on the `VARIANT NAME` of your graph. In the example below, the variant name is `current`.

![graph-home.png](../../static/images/apollo-studio/graph-home.png)

- You will see the following page. From here click on insights icon as highlighted on the left side of the image.

![insights-nav.png](../../static/images/apollo-studio/insights-nav.png)

- You will now be able to see all the information related to your queries here

![insights.png](../../static/images/apollo-studio/insights.png)

![insights-graph.png](../../static/images/apollo-studio/insights-graph.png)

_Note: If you don't see the name of your query here, try running the query multiple times and waiting for some time. Since the metric isn't sent to Apollo Studio for each query, instead they are batched together and sent at once for efficiency reasons._
