<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-directives" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">GraphQL Configuration | Tailcall</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tailcall.run/icons/companies/taicall.svg"><meta data-rh="true" name="twitter:image" content="https://tailcall.run/icons/companies/taicall.svg"><meta data-rh="true" property="og:url" content="https://tailcall.run/docs/tailcall-dsl-graphql-custom-directives/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GraphQL Configuration | Tailcall"><meta data-rh="true" name="description" content="Enhance your GraphQL API with Tailcall DSL&#x27;s custom directives. These directives offer powerful compile-time guarantees, ensuring robust and optimized API composition. Tailcall automates the generation of resolver logic for improved performance."><meta data-rh="true" property="og:description" content="Enhance your GraphQL API with Tailcall DSL&#x27;s custom directives. These directives offer powerful compile-time guarantees, ensuring robust and optimized API composition. Tailcall automates the generation of resolver logic for improved performance."><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://tailcall.run/docs/tailcall-dsl-graphql-custom-directives/"><link data-rh="true" rel="alternate" href="https://tailcall.run/docs/tailcall-dsl-graphql-custom-directives/" hreflang="en"><link data-rh="true" rel="alternate" href="https://tailcall.run/docs/tailcall-dsl-graphql-custom-directives/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X27WDVHRQ3-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JEP3QDWT0G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JEP3QDWT0G",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Tailcall" href="/opensearch.xml">

<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tailcall RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tailcall Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Tailcall JSON Feed">



<script async="true" src="https://tag.clearbitscripts.com/v1/pk_498a76355e253f5c7f4e7c7bed78748e/tags.js" referrerpolicy="strict-origin-when-cross-origin"></script>
<script>!function(){var t=window.reb2b=window.reb2b||[];if(!t.invoked){t.invoked=!0,t.methods=["identify","collect"],t.factory=function(e){return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),t.push(r),t}};for(var e=0;e<t.methods.length;e++){var r=t.methods[e];t[r]=t.factory(r)}t.load=function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://s3-us-west-2.amazonaws.com/b2bjsstore/b/"+t+"/reb2b.js.gz";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)},t.SNIPPET_VERSION="1.0.1",t.load("0OV0VHL3P56Z")}}()</script>
<script type="application/ld+json">{"@context":"https://schema.org/","@type":"WebSite","name":"Tailcall","url":"https://tailcall.run/"}</script><link rel="stylesheet" href="/assets/css/styles.12277f58.css">
<script src="/assets/js/runtime~main.40bb4142.js" defer="defer"></script>
<script src="/assets/js/main.af192dcb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/icons/companies/taicall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="2.5rem"><img src="/icons/companies/taicall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="2.5rem"></div></a><a class="navbar__item navbar__link" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/graphql/">Learn</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/kRZBPpkgwq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-button header-button-discord">      
              <svg width="28" height="22" viewBox="0 0 28 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.2405 2.2332C21.5408 1.42782 19.7182 0.834436 17.8125 0.494586C17.7779 0.488038 17.7432 0.504423 17.7253 0.53721C17.4909 0.967757 17.2312 1.52944 17.0494 1.97092C14.9998 1.65402 12.9607 1.65402 10.953 1.97092C10.7712 1.51963 10.5021 0.967757 10.2666 0.53721C10.2488 0.505525 10.2141 0.489124 10.1794 0.494586C8.2748 0.83335 6.45219 1.42673 4.75149 2.2332C4.73677 2.23977 4.72414 2.25071 4.71577 2.26489C1.25866 7.59877 0.311625 12.8016 0.776218 17.9398C0.778307 17.9649 0.791981 17.9889 0.810899 18.0042C3.0918 19.7341 5.30124 20.7843 7.46966 21.4804C7.50435 21.4913 7.54112 21.4781 7.56321 21.4486C8.07614 20.7252 8.53339 19.9626 8.92543 19.1604C8.94856 19.1134 8.92648 19.0577 8.8792 19.0391C8.15394 18.755 7.46334 18.4086 6.79905 18.0152C6.7465 17.9836 6.74229 17.9058 6.79063 17.8687C6.93043 17.7605 7.07025 17.648 7.20374 17.5344C7.22789 17.5135 7.26154 17.5093 7.28994 17.5223C11.6542 19.5801 16.3789 19.5801 20.6915 17.5223C20.7199 17.508 20.7536 17.5125 20.7788 17.5333C20.9122 17.647 21.0521 17.7605 21.193 17.8687C21.2413 17.9058 21.2382 17.9836 21.1856 18.0152C20.5213 18.4162 19.8306 18.755 19.1044 19.038C19.0571 19.0565 19.0361 19.1134 19.0592 19.1604C19.4596 19.9613 19.9168 20.7242 20.4204 21.4475C20.4414 21.4781 20.4792 21.4913 20.5139 21.4804C22.6928 20.7843 24.9023 19.7341 27.1832 18.0042C27.2032 17.9889 27.2158 17.966 27.2179 17.9409C27.7739 12.0005 26.2866 6.84038 23.2752 2.26598C23.2678 2.25071 23.2552 2.23977 23.2405 2.2332ZM9.57715 14.8112C8.26323 14.8112 7.1806 13.5653 7.1806 12.0355C7.1806 10.5056 8.24223 9.25986 9.57715 9.25986C10.9225 9.25986 11.9948 10.5164 11.9737 12.0355C11.9737 13.5653 10.912 14.8112 9.57715 14.8112ZM18.438 14.8112C17.1241 14.8112 16.0414 13.5653 16.0414 12.0355C16.0414 10.5056 17.103 9.25986 18.438 9.25986C19.7833 9.25986 20.8555 10.5164 20.8345 12.0355C20.8345 13.5653 19.7833 14.8112 18.438 14.8112Z" fill="#121315"/>
              </svg></a><a href="https://github.com/tailcallhq/tailcall" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-button header-button-github"><div class="hidden lg:block button-grid-bg-section-dark h-full w-40 scale-90 opacity-0 hover:scale-[1] hover:opacity-100 transform transition-all ease-out duration-250 active:hidden"></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><g clip-path="url(#a)"><path fill="#121315" fill-rule="evenodd" d="M11.967 1C5.903 1 1 6.042 1 12.279c0 4.986 3.141 9.206 7.5 10.7.544.112.743-.243.743-.542 0-.261-.017-1.157-.017-2.091C6.175 21.018 5.539 19 5.539 19c-.49-1.307-1.216-1.643-1.216-1.643-.999-.69.072-.69.072-.69 1.108.074 1.69 1.157 1.69 1.157.98 1.718 2.56 1.232 3.195.934.09-.729.381-1.233.69-1.513-2.433-.261-4.993-1.232-4.993-5.565 0-1.232.435-2.24 1.125-3.025-.109-.28-.49-1.438.11-2.988 0 0 .925-.298 3.013 1.158a10.3 10.3 0 0 1 2.742-.373c.926 0 1.87.13 2.742.373 2.088-1.456 3.014-1.158 3.014-1.158.6 1.55.218 2.708.109 2.988.708.784 1.126 1.793 1.126 3.025 0 4.333-2.56 5.285-5.012 5.565.4.355.745 1.027.745 2.092 0 1.512-.018 2.726-.018 3.1 0 .298.2.653.744.54 4.358-1.493 7.5-5.713 7.5-10.7C22.933 6.043 18.013 1 11.966 1" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M1 1h22v22H1z"></path></clipPath></defs></svg><span>Star <span class="min-w-[3ch] inline-block"></span></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><div class="sidebar-search-container place-items-center flex flex-col lg:mb-[100px]"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/icons/companies/taicall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="2.5rem"><img src="/icons/companies/taicall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="2.5rem"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/">Usage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tailcall-graphql-cli/">Command Line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tailcall-dsl-graphql-custom-directives/">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-resolver-context-tailcall/">Resolver Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-playground-guide/">GraphQL Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-best-practices-tailcall/">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-data-access-parallel-vs-sequence/">Sequence vs Parallel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/graphql-watch-mode-tailcall/">Watch Mode</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/graphql-n-plus-one-problem-solved-tailcall/">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/integrate-apollo-studio-graphql-tailcall/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/deploy-graphql-github-actions/">Production</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/contribution-guidelines/">Contributors</a></div></li></ul></nav></div></div></aside></div><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Usage</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GraphQL Configuration</h1></header><p>Tailcall DSL builds on your existing GraphQL knowledge by allowing the addition of some custom directives. These directives provide powerful compile time guarantees to ensure your API composition is tight and robust. Tailcall automatically generates highly optimized resolver logic for your types using the information in the directives.</p>
<p>Here is a list of all the custom directives supported by Tailcall:</p>
<table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#addfield-directive"><code>@addField</code></a></td><td>Simplifies data structures and queries by adding, inlining, or flattening fields or nodes within the schema.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#cache-directive"><code>@cache</code></a></td><td>Enables caching for the query, field or type applied to.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#call-directive"><code>@call</code></a></td><td>Invokes a query or mutation from another query or mutation field.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#expr-directive"><code>@expr</code></a></td><td>Allows embedding of a constant response within the schema.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#graphql-directive"><code>@graphQL</code></a></td><td>Resolves a field or node by a GraphQL API.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#grpc-directive"><code>@grpc</code></a></td><td>Resolves a field or node by a gRPC API.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive"><code>@http</code></a></td><td>Resolves a field or node by a REST API.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#link-directive"><code>@link</code></a></td><td>Imports external resources such as config files, certs, protobufs, etc in the schema.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#modify-directive"><code>@modify</code></a></td><td>Enables changes to attributes of fields or nodes in the schema.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#omit-directive"><code>@omit</code></a></td><td>Excludes fields or nodes from the generated schema, making them inaccessible through the GraphQL API.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#rest-directive"><code>@rest</code></a></td><td>Allows exposing REST endpoints on top of GraphQL.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#server-directive"><code>@server</code></a></td><td>Provides server configurations for behavior tuning and tailcall optimization in specific use-cases.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#telemetry-directive"><code>@telemetry</code></a></td><td>Integrates with open-telemetry to provide observability of the running tailcall service.</td></tr><tr><td><a href="/docs/tailcall-dsl-graphql-custom-directives/#upstream-directive"><code>@upstream</code></a></td><td>Controls aspects of the upstream server connection, including timeouts and keep-alive settings.</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="addfield-directive">@addField Directive<a class="hash-link" aria-label="Direct link to @addField Directive" title="Direct link to @addField Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#addfield-directive">â€‹</a></h2>
<p>The <code>@addField</code> directive simplifies data structures and queries by adding a field that <em>inline</em> or flattens a nested field or node within your schema. It modifies the schema and the data transformation process, making nested data more accessible and straightforward to present.</p>
<p>For instance, consider a schema:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@addField</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;street&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;address&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;street&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">username</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">phone</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">website</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">address</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Address</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@modify</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">omit</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Address</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">street</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">city</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">state</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.args.id}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Suppose we focus on the <code>street</code> field in <code>Address</code>.</p>
<p>In this case, applying the <code>@addField</code> directive to the <code>User</code> type creates a <code>street</code> field within the <code>User</code> type. It uses a <code>path</code> argument to specify the sequence of fields from a declared field (<code>address</code>), leading to the <code>Address</code> field to add. We also can apply <code>@modify(omit: true)</code> to remove the <code>address</code> field from the schema, as the <code>street</code> field from <code>Address</code> is now directly accessible on the <code>User</code> type.</p>
<p>Post application, the schema becomes:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">username</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">phone</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">website</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">street</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In the above example, since we added a <code>@modify(omit: true)</code> on the <code>address</code> field, the schema no longer includes the <code>Address</code> type.</p>
<p>The <code>@addField</code> directive also take cares of nullablity of the fields. If any of the fields in the path is nullable, the resulting type will be nullable.</p>
<p><code>@addField</code> also supports indexing, allowing for the specification of an array index for inline inclusion. For instance, if a field <code>posts</code> is of type <code>[Post]</code>, and the goal is to access the title of the first post, specify the path as [<code>&quot;posts&quot;</code>,<code>&quot;0&quot;</code>,<code>&quot;title&quot;</code>].</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@addField</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">firstPostTitle</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;posts&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;0&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;title&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">username</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">phone</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">website</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.value.id}}/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In conclusion, the <code>@addField</code> directive helps tidy up your schema and streamline data fetching by reducing query depth, promoting better performance and simplicity.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cache-directive">@cache Directive<a class="hash-link" aria-label="Direct link to @cache Directive" title="Direct link to @cache Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#cache-directive">â€‹</a></h2>
<p>The <code>@cache</code> directive provides a protocol agnostic mechanism for caching the results of fields within a GraphQL schema. Like any other cache implementation, this feature is useful for optimizing performance by reducing the need to fetch data that doesn&#x27;t change frequently.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="maxage">maxAge<a class="hash-link" aria-label="Direct link to maxAge" title="Direct link to maxAge" href="/docs/tailcall-dsl-graphql-custom-directives/#maxage">â€‹</a></h3>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token punctuation" style="color:#fff">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This parameter is a non-zero unsigned integer specifying the duration, in milliseconds, that retains the cached value.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="/docs/tailcall-dsl-graphql-custom-directives/#usage">â€‹</a></h3>
<p>Consider the following GraphQL schema example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">200</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this configuration, the system caches the result of the <code>user</code> field due to its association with an HTTP resolver. But it does not cache the values of <code>userId</code> and <code>title</code> because they lack individual resolvers; the resolver for the <code>posts</code> field retrieves their values, employing the <code>@http(path: &quot;/posts&quot;)</code> directive.</p>
<p>Applying the <code>@cache</code> directive at the type level affects all fields within that type. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can simplify this configuration to show that applying the <code>@cache</code> directive to a type means every field within that type inherits it:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Since the <code>@cache</code> directive does not affect fields without resolvers, the effective configuration can be further reduced as follows:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>When applying the <code>@cache</code> directive both at the type level and on individual fields within that type, the field-level directive takes precedence:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">200</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@cache</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Thus, in the configuration above, while all fields inherit the <code>@cache(maxAge: 200)</code> directive at the type level, the <code>user</code> field&#x27;s explicit <code>@cache(maxAge: 100)</code> directive takes precedence.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cache-key">Cache Key<a class="hash-link" aria-label="Direct link to Cache Key" title="Direct link to Cache Key" href="/docs/tailcall-dsl-graphql-custom-directives/#cache-key">â€‹</a></h3>
<p>The caching mechanism generates a hash based on information related to the applied query to serve as the cache key for the corresponding value.</p>
<p>For instance, the system caches the <code>user</code> field in the following configuration, using the hash of the interpolated string <code>&quot;/user/{{.value.userId}}&quot;</code> as the cache key. For example, if <code>Post.userId</code> equals <code>1</code>, the system generates the cache key by hashing the string <code>&quot;/users/1&quot;</code>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="call-directive">@call Directive<a class="hash-link" aria-label="Direct link to @call Directive" title="Direct link to @call Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#call-directive">â€‹</a></h2>
<p>The <code>@call</code> directive in GraphQL signifies a shift towards more efficient configuration management by introducing a methodology akin to function invocations in conventional programming. This directive is pivotal for developers navigating the intricacies of elaborate GraphQL schemas, where minimizing redundancy and adhering to the DRY (Don&#x27;t Repeat Yourself) principle are paramount. Consider the following schema example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.args.id}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this schema, at lines <code>9</code> and <code>18</code>, a pattern of configuration duplication emerges when fetching user&#x27;s data by its id, demonstrating a prime use case for the <code>@call</code> directive. Through refactoring the <code>Post</code> type to incorporate the <code>@call</code> directive, we can eliminate this redundancy.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@call</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">steps</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Here, the <code>@call</code> directive invokes the <code>user</code> query from the <code>Query</code> type, leveraging the data-fetching process that&#x27;s already defined in the root <code>query</code>. The <code>query</code> parameter specifies the target field, while the <code>args</code> parameter delineates the arguments to be passed.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="steps">steps<a class="hash-link" aria-label="Direct link to steps" title="Direct link to steps" href="/docs/tailcall-dsl-graphql-custom-directives/#steps">â€‹</a></h3>
<p><code>@call</code> directive can compose together other resolvers, allowing to create a chain of resolvers that can be executed in sequence. This is done by using the <code>steps</code> parameter, which is an array of objects that define the operations to be executed.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query">query<a class="hash-link" aria-label="Direct link to query" title="Direct link to query" href="/docs/tailcall-dsl-graphql-custom-directives/#query">â€‹</a></h3>
<p>Specify the root <strong>query</strong> field to invoke, alongside the requisite arguments, using the <code>@call</code> directive for a concise and efficient query structure.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@call</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">steps</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mutation">mutation<a class="hash-link" aria-label="Direct link to mutation" title="Direct link to mutation" href="/docs/tailcall-dsl-graphql-custom-directives/#mutation">â€‹</a></h3>
<p>Similarly, the <code>@call</code> directive can facilitate calling a mutation from another mutation field, employing the <code>mutation</code> parameter for field specification and the <code>args</code> parameter for argument delineation.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">insertPost</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">PostInput</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">overwrite</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Boolean</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">{{.args.input}}</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">POST</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/posts</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">overwrite</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.overwrite}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">upsertPost</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">PostInput</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@call</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">steps</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">insertPost</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input}}&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">overwrite</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="args">args<a class="hash-link" aria-label="Direct link to args" title="Direct link to args" href="/docs/tailcall-dsl-graphql-custom-directives/#args">â€‹</a></h3>
<p>The <code>args</code> parameter in the <code>@call</code> directive facilitates passing arguments to the targeted query or mutation, represented as a key-value mapping where each key corresponds to an argument name and its associated value.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@call</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">steps</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The <code>@call</code> directive is predominantly advantageous in complex, large-scale configurations. For those new to GraphQL or Tailcall, it may be beneficial to explore this directive after familiarizing yourself with the foundational aspects of GraphQL.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="composition">Composition<a class="hash-link" aria-label="Direct link to Composition" title="Direct link to Composition" href="/docs/tailcall-dsl-graphql-custom-directives/#composition">â€‹</a></h3>
<p><code>@call</code> directive provides the ability to express a sequence of steps that one might need to compose. These steps are executed such that the result of each step is passed as an argument to the next step. The <code>query</code> and <code>mutation</code> parameters are used to specify the target field, while the <code>args</code> parameter is used to pass arguments to the target field.</p>
<p>Let&#x27;s explain this with an example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">a</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.a}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">b</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.b}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">c</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.c}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Here we have defined there operations viz. <code>a</code>, <code>b</code> &amp; <code>c</code> each of them pluck their respective keys from the given input value. Let&#x27;s run this query with some test input:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">a</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">a</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">b</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">b</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">200</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">c</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">c</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">300</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Here is how the response would look like:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;data&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;a&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;value&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;b&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;value&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;c&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;value&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>As you can see the <a href="/docs/tailcall-dsl-graphql-custom-directives/#expr-directive"><code>@expr</code></a> directive plucks the inner value and returns the result. How about we implement an <code>abc</code> operation that could leverage the existing operations and unwrap the following input value:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;a&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;b&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;c&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token property" style="color:#C586C0">&quot;d&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1000</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Given the above input if we wish to extract the last inner number <code>1000</code> then we could define a new operation as follows</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">a</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.a}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">b</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.b}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">c</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input.c}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">abc</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@call</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">steps</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;a&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;b&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.value}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;c&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.value}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We use the <code>@call</code> directive to compose the operations together. The <code>args</code> specify how we would like to pass the arguments to the operation and the result of that operation is passed to the next step. We can test the new <code>abc</code> operation with the following query:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">abc</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">a</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">b</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">c</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1000</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The server returns the response that we expected:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property" style="color:#C586C0">&quot;data&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">&quot;abc&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">&quot;value&quot;</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This way you can compose combine multiple operations can compose them together using the <code>@call</code> directive.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>We use <code>JSON</code> scalar here because we don&#x27;t care about the type safety of this option. In a real world example you might want to use proper input and output types.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="expr-directive">@expr Directive<a class="hash-link" aria-label="Direct link to @expr Directive" title="Direct link to @expr Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#expr-directive">â€‹</a></h2>
<p>The <code>@expr</code> directive in GraphQL is a powerful tool for embedding data directly into your schema, offering two primary functionalities:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="static">Static<a class="hash-link" aria-label="Direct link to Static" title="Direct link to Static" href="/docs/tailcall-dsl-graphql-custom-directives/#static">â€‹</a></h3>
<p>This feature allows for the inclusion of a constant response within the schema definition itself. It is useful for scenarios where the response is unchanging. e.g:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;John&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">age</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">12</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">age</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The <code>@expr</code> directive also checks the provided value at compile time to ensure it matches the field&#x27;s schema. If not, the console displays a descriptive error message.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dynamic">Dynamic<a class="hash-link" aria-label="Direct link to Dynamic" title="Direct link to Dynamic" href="/docs/tailcall-dsl-graphql-custom-directives/#dynamic">â€‹</a></h3>
<p>Beyond static data embedding, the <code>@expr</code> directive extends its utility to support dynamic data injection through Mustache template syntax. This feature enables the use of placeholders within the constant data, which are then dynamically replaced with actual values at runtime. It supports both scalar values and complex objects, including lists and nested objects, offering flexibility in tailoring responses to specific needs. e.g:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">John</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">workEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">john@xyz.com</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">personalEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;john@xyz.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">age</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">personalEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">workEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">emails</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Emails</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@expr</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">emails</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">workEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">{{.value.workEmail}}</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">personalEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.personalEmail}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Emails</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">workEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">personalEmail</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, the <code>@expr</code> directive dynamically generate an <code>Emails</code> object based on the provided template data. The placeholders within the template (<code>{{.value.workEmail}}</code> and <code>{{.value.personalEmail}}</code>) gets replaced with the actual values specified in the <code>User</code> type, allowing for dynamic content generation while still adhering to the schema&#x27;s structure.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="graphql-directive">@graphQL Directive<a class="hash-link" aria-label="Direct link to @graphQL Directive" title="Direct link to @graphQL Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#graphql-directive">â€‹</a></h2>
<p>The <code>@graphQL</code> directive allows to specify GraphQL API server request to fetch data from.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;userList&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The <code>@graphQL</code> directive facilitates fetching a list of users from the GraphQL API upstream. The <a href="/docs/tailcall-dsl-graphql-custom-directives/#name">name</a> argument specifies the root field&#x27;s name on the upstream server. The upcoming request to the GraphQL server determines the <code>User</code> type&#x27;s inner fields for the request. Depending on the operation type within which one finds the <code>@graphQL</code> directive, the GraphQL configuration determines the query&#x27;s operation type.</p>
<p>For the next request with the config above:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token object">users</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#C586C0">id</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Tailcall will request the next query for the upstream:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token object">userList</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#C586C0">id</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="baseurl">baseURL<a class="hash-link" aria-label="Direct link to baseURL" title="Direct link to baseURL" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl">â€‹</a></h3>
<p>This refers to the base URL of the API. If not specified, the default base URL is the one specified in the <a href="/docs/tailcall-dsl-graphql-custom-directives/#upstream-directive"><code>@upstream</code></a> directive.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://graphqlzero.almansi.me/api&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="name">name<a class="hash-link" aria-label="Direct link to name" title="Direct link to name" href="/docs/tailcall-dsl-graphql-custom-directives/#name">â€‹</a></h3>
<p>The root field&#x27;s name on the upstream to request data from. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;userList&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>When Tailcall receives a query for the <code>users</code> field, it will request a query for <code>userList</code> from the upstream.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="args-1">args<a class="hash-link" aria-label="Direct link to args" title="Direct link to args" href="/docs/tailcall-dsl-graphql-custom-directives/#args-1">â€‹</a></h3>
<p>Named arguments for the requested field. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">user</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">args</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;id&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Will request the next query from the upstream for the first user&#x27;s name:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property-query">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers">headers<a class="hash-link" aria-label="Direct link to headers" title="Direct link to headers" href="/docs/tailcall-dsl-graphql-custom-directives/#headers">â€‹</a></h3>
<p>The <code>headers</code> parameter allows customizing the headers of the GraphQL request made by the <code>@graphQL</code> directive. Specifying a key-value map of header names and their values achieves this.</p>
<p>For instance:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-Server&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Tailcall&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, a request to <code>/users</code> will include the HTTP header <code>X-Server</code> with the value <code>Tailcall</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batch">batch<a class="hash-link" aria-label="Direct link to batch" title="Direct link to batch" href="/docs/tailcall-dsl-graphql-custom-directives/#batch">â€‹</a></h3>
<p>In case the upstream GraphQL server supports request batching, we can specify the <code>batch</code> argument to batch requests to a single upstream into a single batch request. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">batch</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">maxSize</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">delay</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;X-Server&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;users&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">batch</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@graphQL</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;posts&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">batch</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Make sure you have also specified batch settings to the <code>@upstream</code> and to the <code>@graphQL</code> directive.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpc-directive">@grpc Directive<a class="hash-link" aria-label="Direct link to @grpc Directive" title="Direct link to @grpc Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#grpc-directive">â€‹</a></h2>
<p>The <code>@grpc</code> directive enables the resolution of GraphQL fields via gRPC services. Below is an illustrative example of how to apply this directive within a GraphQL schema:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@link</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">src</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;./users.proto&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">type</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Protobuf</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;users.UserService.ListUsers&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This schema snippet demonstrates the directive&#x27;s application, where a query for <code>users</code> triggers a gRPC request to the <code>UserService</code>&#x27;s <code>ListUsers</code> method, thereby fetching the user data.</p>
<p>The <code>.proto</code> file delineates the structure and methods of the gRPC service. A simplified example of such a file is as follows:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-proto codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-proto codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">syntax = &quot;proto3&quot;;</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">package users;</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">service UserService {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  rpc ListUsers (UserListRequest) returns (UserListReply) {}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  rpc GetUser (UserGetRequest) returns (UserGetReply) {}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">message UserListRequest {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  // Definitions of request parameters</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">message UserListReply {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  // Structure of the reply</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">message UserGetRequest {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  // Definitions of request parameters</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">message UserGetReply {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  // Structure of the reply</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>It is mandatory to have a package name in a protobuf file.</p></div></div>
<p>Linking this file within a GraphQL schema is facilitated by the <code>@link</code> directive, as shown below:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@link</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">src</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;./users.proto&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">type</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Protobuf</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Tailcall automatically resolves the protobuf file for any methods referenced in the <code>@grpc</code> directive.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="method">method<a class="hash-link" aria-label="Direct link to method" title="Direct link to method" href="/docs/tailcall-dsl-graphql-custom-directives/#method">â€‹</a></h3>
<p>This parameter specifies the gRPC service and method to be invoked, formatted as <code>&lt;package&gt;.&lt;service&gt;.&lt;method&gt;</code>:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;proto.users.UserService.ListUsers&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="baseurl-1">baseURL<a class="hash-link" aria-label="Direct link to baseURL" title="Direct link to baseURL" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-1">â€‹</a></h3>
<p>Defines the base URL for the gRPC API. If not specified, the URL set in the <code>@upstream</code> directive is used by default:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">https://grpc-server.example.com</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;proto.users.UserService.ListUsers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="body">body<a class="hash-link" aria-label="Direct link to body" title="Direct link to body" href="/docs/tailcall-dsl-graphql-custom-directives/#body">â€‹</a></h3>
<p>This parameter outlines the arguments for the gRPC call, allowing for both static and dynamic inputs:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">{{.args.id}}</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;proto.users.UserService.GetUser&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers-1">headers<a class="hash-link" aria-label="Direct link to headers" title="Direct link to headers" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-1">â€‹</a></h3>
<p>Custom headers for the gRPC request can be defined, facilitating the transmission of authentication tokens or other contextual data:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-CUSTOM-HEADER&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;custom-value&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;proto.users.UserService.ListUsers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batchkey">batchKey<a class="hash-link" aria-label="Direct link to batchKey" title="Direct link to batchKey" href="/docs/tailcall-dsl-graphql-custom-directives/#batchkey">â€‹</a></h3>
<p>This argument is employed to optimize batch requests by grouping them based on specified response keys, enhancing performance in scenarios requiring multiple, similar requests:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">batchKey</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;id&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">proto.users.UserService.ListUsers</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://grpc-server.example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Read about <a href="/docs/graphql-n-plus-one-problem-solved-tailcall/">n + 1</a> to learn how to use the <code>batchKey</code> setting.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http-directive">@http Directive<a class="hash-link" aria-label="Direct link to @http Directive" title="Direct link to @http Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive">â€‹</a></h2>
<p>The <code>@http</code> directive indicates a field or node relies on a REST API. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, adding the <code>@http</code> directive to the <code>users</code> field of the <code>Query</code> type indicates reliance on a REST API for the <code>users</code> field. The <a href="/docs/tailcall-dsl-graphql-custom-directives/#path">path</a> argument specifies the REST API&#x27;s path, which is <code>/users</code> in this scenario.Querying the <code>users</code> field prompts the GraphQL server to issue a GET request to <code>https://jsonplaceholder.typicode.com/users</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="baseurl-2">baseURL<a class="hash-link" aria-label="Direct link to baseURL" title="Direct link to baseURL" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-2">â€‹</a></h3>
<p>Specifies the API&#x27;s base URL. If unspecified, it defaults to the URL in the <a href="/docs/tailcall-dsl-graphql-custom-directives/#upstream-directive"><code>@upstream</code></a> directive.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="path">path<a class="hash-link" aria-label="Direct link to path" title="Direct link to path" href="/docs/tailcall-dsl-graphql-custom-directives/#path">â€‹</a></h3>
<p>Refers to the API endpoint, for example, <code>https://jsonplaceholder.typicode.com/users</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>If your API endpoint contains dynamic segments, you can substitute variables using Mustache templates. For example, to fetch a specific user, you can write the path as <code>/users/{{.args.id}}</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.args.id}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="method-1">method<a class="hash-link" aria-label="Direct link to method" title="Direct link to method" href="/docs/tailcall-dsl-graphql-custom-directives/#method-1">â€‹</a></h3>
<p>Specifies the HTTP method for the API call. The default method is GET if not specified.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createUser</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;POST&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query-1">query<a class="hash-link" aria-label="Direct link to query" title="Direct link to query" href="/docs/tailcall-dsl-graphql-custom-directives/#query-1">â€‹</a></h3>
<p>Represents the API call&#x27;s query parameters, either as a static object or with dynamic parameters using Mustache templates. These parameters append to the URL.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/posts</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">userId</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">{{.args.id}}</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">skipEmpty</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The <code>query</code> field and be further configured using the following fields:</p>
<ol>
<li><strong>key</strong> : Represents the name of the query parameter.</li>
<li><strong>value</strong> : A string literal or a mustache template representing the value of query parameter.</li>
<li><strong>skipEmpty</strong> : When set to <code>true</code> the query parameter is skipped if the value of the parameter is null, defaults to false.</li>
</ol>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>When <code>batchKey</code> is present, Tailcall considers the first <code>query</code> parameter to be the batch query key, so remember to adjust the order of the items accordingly.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="body-1">body<a class="hash-link" aria-label="Direct link to body" title="Direct link to body" href="/docs/tailcall-dsl-graphql-custom-directives/#body-1">â€‹</a></h3>
<p>Defines the API call&#x27;s body, necessary for methods like POST or PUT. Pass it as a static object or use Mustache templates for variable substitution from the GraphQL variables.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createUser</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">POST</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.input}}&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In the example above, the <code>createUser</code> mutation sends a POST request to <code>/users</code>, with the input object converted to JSON and included in the request body.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers-2">headers<a class="hash-link" aria-label="Direct link to headers" title="Direct link to headers" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-2">â€‹</a></h3>
<p>Customizes the HTTP request headers made by the <code>@http</code> directive. Specify a key-value map of header names and values.</p>
<p>For instance:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createUser</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UserInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-Server&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Tailcall&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, a request to <code>/users</code> will include a HTTP header <code>X-Server</code> with the value <code>Tailcall</code>.</p>
<p>You can make use of mustache templates to provide dynamic values for headers, derived from the arguments or <a href="/docs/graphql-resolver-context-tailcall/">context</a> provided in the request. For example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">users</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-Server&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Tailcall&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;User-Name&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.name}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this scenario, the <code>User-Name</code> header&#x27;s value will dynamically adjust according to the <code>name</code> argument passed in the request.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batchkey-1">batchKey<a class="hash-link" aria-label="Direct link to batchKey" title="Direct link to batchKey" href="/docs/tailcall-dsl-graphql-custom-directives/#batchkey-1">â€‹</a></h3>
<p>Groups data requests into a single call, enhancing efficiency. Refer to our <a href="/docs/graphql-n-plus-one-problem-solved-tailcall/">n + 1 guide</a> for more details.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>When <code>batchKey</code> is present, Tailcall considers the first <code>query</code> parameter to be the batch query key, so remember to adjust the order of the items accordingly. Whereas, the last item from <code>batchKey</code> is used to instruct which field is the ID of an object. In case that the returned result is a nested property <code>batchKey</code> can be used as a path to extract and group the items for the returned result.</p></div></div>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/users</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user_id&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.value.userId}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">batchKey</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;users&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;id&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<ul>
<li><code>query: {key: &quot;user_id&quot;, value: &quot;{{.value.userId}}&quot;}]</code>: Instructs Tailcall CLI to generate a URL aligning the user id with <code>userId</code> from the parent <code>Post</code>, compiling a single URL for a batch of posts, such as <code>/users?user_id=1&amp;user_id=2&amp;user_id=3...user_id=10</code>, consolidating requests into one.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="onrequest">onRequest<a class="hash-link" aria-label="Direct link to onRequest" title="Direct link to onRequest" href="/docs/tailcall-dsl-graphql-custom-directives/#onrequest">â€‹</a></h3>
<p>The <code>onRequest</code> property accepts a string value representing the remote function to be called every time an HTTP request is initiated. Typically the remote function is defined in a linked JavaScript worker file.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>For defining a request middleware globally for all requests, refer to the <a href="/docs/tailcall-dsl-graphql-custom-directives/#onrequest-1">upstream directive documentation</a>.</p></div></div>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/posts</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;userId&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.args.id}}&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">onRequest</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;someFunctionName&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="js-directive">@js Directive<a class="hash-link" aria-label="Direct link to @js Directive" title="Direct link to @js Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#js-directive">â€‹</a></h2>
<p>The <code>@js</code> directive allows you to use JavaScript functions to resolve fields in your GraphQL schema. This can be useful
for custom data transformations or complex field resolutions.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage-1">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="/docs/tailcall-dsl-graphql-custom-directives/#usage-1">â€‹</a></h3>
<p>The <code>@js</code> directive is used to specify a JavaScript function that will resolve the value of a field. The directive takes
a single argument, <code>name</code>, which is the name of the JavaScript function to be used.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="syntax">Syntax<a class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax" href="/docs/tailcall-dsl-graphql-custom-directives/#syntax">â€‹</a></h3>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token attr-name" style="color:#8DFFF8">fieldName</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">FieldType</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@js</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;functionName&quot;</span><span class="token punctuation" style="color:#fff">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example">Example<a class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" href="/docs/tailcall-dsl-graphql-custom-directives/#example">â€‹</a></h3>
<p>Let&#x27;s consider a <code>foo.js</code> file which contains a <code>resolve</code> function:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">resolve</span><span class="token punctuation" style="color:#fff">(</span><span class="token parameter" style="color:#953800">val</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> json </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">parse</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">stringify</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#fff">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Here is an example of how the <code>@js</code> directive is used within a GraphQL schema:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-gql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">schema</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  @link(type: Script, src: &quot;./scripts/foo.js&quot;)</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  @server(port: 8000)</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  @upstream(</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    baseURL: &quot;http://jsonplaceholder.typicode.com&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    httpCache: true</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  ) {</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  query: Query</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">}</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">type Query {</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  posts: [Post] @http(path: &quot;/posts&quot;)</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">}</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">type Post {</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  id: Int!</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  idx: Int! @js(name: &quot;resolve&quot;)</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  userId: Int!</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  title: String!</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  body: String!</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="/docs/tailcall-dsl-graphql-custom-directives/#error-handling">â€‹</a></h3>
<p>When using the <code>@js</code> directive, it is important to handle errors within your JavaScript functions. For example, you can use try-catch blocks to catch and handle any errors that occur during the resolution process.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">resolve</span><span class="token punctuation" style="color:#fff">(</span><span class="token parameter" style="color:#953800">val</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> json </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">parse</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">stringify</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#fff">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token console class-name" style="color:#C586C0">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">&quot;Error resolving value:&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">&quot;Failed to resolve value&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance-considerations">Performance Considerations<a class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations" href="/docs/tailcall-dsl-graphql-custom-directives/#performance-considerations">â€‹</a></h3>
<p>When using the <code>@js</code> directive, keep in mind that JavaScript functions can introduce performance overhead, especially if they perform complex operations or are called frequently. To minimize performance impact, ensure that your functions are optimized and avoid unnecessary computations.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="link-directive">@link Directive<a class="hash-link" aria-label="Direct link to @link Directive" title="Direct link to @link Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#link-directive">â€‹</a></h2>
<p>The <code>@link</code> directive is used for bringing external resources into your GraphQL schema. It makes it easier to include configurations, .proto files for gRPC services, and other files into your schema. With this directive, external resources are either merged with or used effectively in the importing configuration.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-it-works">How it Works<a class="hash-link" aria-label="Direct link to How it Works" title="Direct link to How it Works" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works">â€‹</a></h3>
<p>The <code>@link</code> directive requires specifying a source <code>src</code>, the resource&#x27;s type <code>type</code>, and an optional identifier <code>id</code>.</p>
<ul>
<li>
<p><code>src</code>: The source of the link is defined here. It can be either a URL or a file path. When a file path is given, it&#x27;s relative to the file&#x27;s location that is importing the link.</p>
</li>
<li>
<p><code>type</code>: This specifies the link&#x27;s type, which determines how the imported resource is integrated into the schema. For a list of supported types, see the <a href="/docs/tailcall-dsl-graphql-custom-directives/#supported-types">Supported Types</a> section.</p>
</li>
<li>
<p><code>id</code>: This is an optional field that assigns a unique identifier to the link. It&#x27;s helpful for referring to the link within the schema.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example-1">Example<a class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" href="/docs/tailcall-dsl-graphql-custom-directives/#example-1">â€‹</a></h3>
<p>The following example illustrates how to utilize the <code>@link</code> directive to incorporate a Protocol Buffers (.proto) file for a gRPC service into your GraphQL schema.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8000</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">http://news.local</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">httpCache</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">42</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">batch</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">delay</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@link</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">news</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">src</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">./src/grpc/news.proto</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">type</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Protobuf</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">news</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">NewsData</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@grpc</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;news.NewsService.GetAllNews&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">News</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">postImage</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">NewsData</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">news</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">News</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="supported-types">Supported Types<a class="hash-link" aria-label="Direct link to Supported Types" title="Direct link to Supported Types" href="/docs/tailcall-dsl-graphql-custom-directives/#supported-types">â€‹</a></h3>
<p>The <code>@link</code> directive enriches your configuration by supporting the integration of external resources. Each link type is designed to serve a specific purpose, enhancing the functionality and flexibility of your schema. Below is a detailed overview of each supported link type:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="config">Config<a class="hash-link" aria-label="Direct link to Config" title="Direct link to Config" href="/docs/tailcall-dsl-graphql-custom-directives/#config">â€‹</a></h3>
<p>The <code>Config</code> link type is essential for importing other configuration files. This feature enables a modular approach to schema management by allowing configurations from the imported file to override overlapping settings in the main schema. This functionality is useful in large projects, where maintaining a single monolithic schema file becomes impractical. By using <code>Config</code>, developers can split their schema configurations into manageable pieces, thus promoting better organization and scalability.</p>
<p>Example use case:</p>
<ul>
<li>Modularizing schema configurations for different environments (development, staging, production).</li>
<li>Reusing common configurations across multiple schema files.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protobuf">Protobuf<a class="hash-link" aria-label="Direct link to Protobuf" title="Direct link to Protobuf" href="/docs/tailcall-dsl-graphql-custom-directives/#protobuf">â€‹</a></h3>
<p>The <code>Protobuf</code> link type integrates Protocol Buffers definitions by importing .proto files. This integration is crucial for Tailcall to communicate with gRPC services. By including <code>.proto</code> definitions, the GraphQL server can directly interact with gRPC services, allowing for efficient and type-safe communication.</p>
<p>For detailed integration steps and best practices, refer to the <a href="/docs/graphql-grpc-tailcall/">gRPC Integration Guide</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="script">Script<a class="hash-link" aria-label="Direct link to Script" title="Direct link to Script" href="/docs/tailcall-dsl-graphql-custom-directives/#script">â€‹</a></h3>
<p>The <code>Script</code> link type allows the config to link to an external JavaScript file. This file can contain custom logic that is executed in response to HTTP request-response events. This feature enables developers to implement custom behaviors, such as adding headers to responses or filtering requests based on specific criteria.</p>
<p>Example script for adding a custom header to all outgoing requests:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">onRequest</span><span class="token punctuation" style="color:#fff">(</span><span class="token parameter punctuation" style="color:#fff">{</span><span class="token parameter" style="color:#953800">request</span><span class="token parameter punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Add a custom header for all outgoing requests</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  request</span><span class="token punctuation" style="color:#fff">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;X-Custom-Header&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Processed&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Return the updated request</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">request</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cert">Cert<a class="hash-link" aria-label="Direct link to Cert" title="Direct link to Cert" href="/docs/tailcall-dsl-graphql-custom-directives/#cert">â€‹</a></h3>
<p>The <code>Cert</code> link type is designed for importing SSL/TLS certificates, a crucial component for enabling HTTPS in your GraphQL server. This link type ensures that the server can expose connections over HTTPS.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>When using the <code>Cert</code> link type, specify the path to the certificate file. Ensure the certificate is up-to-date and issued by a trusted certificate authority (CA) to avoid security warnings or connection issues.</p></div></div>
<p>Example use case:</p>
<ul>
<li>Securing communication between the GraphQL server and clients.</li>
<li>Enhancing privacy and security by encrypting data in transit.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="key">Key<a class="hash-link" aria-label="Direct link to Key" title="Direct link to Key" href="/docs/tailcall-dsl-graphql-custom-directives/#key">â€‹</a></h3>
<p>The <code>Key</code> link type imports the private key associated with your SSL/TLS certificate, enabling HTTPS for your GraphQL server. The private key is a critical security element that decrypts information encrypted by the corresponding public key in the SSL/TLS certificate.</p>
<p>When configuring the <code>Key</code> link type, provide the path to your private key file. Ensure the private key matches the imported certificate specified by the <a href="/docs/tailcall-dsl-graphql-custom-directives/#cert">Cert</a> link above, and is protected by appropriate file permissions to maintain security.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="operation">Operation<a class="hash-link" aria-label="Direct link to Operation" title="Direct link to Operation" href="/docs/tailcall-dsl-graphql-custom-directives/#operation">â€‹</a></h3>
<p>The <code>Operation</code> link type connects your schema to a set of predefined, GraphQL spec-compliant queries and mutations. This functionality allows for the validation and optimization of these operations by the GraphQL server.</p>
<p>Each type serves a specific purpose, enabling the flexible integration of external resources into your GraphQL schema.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="htpasswd">Htpasswd<a class="hash-link" aria-label="Direct link to Htpasswd" title="Direct link to Htpasswd" href="/docs/tailcall-dsl-graphql-custom-directives/#htpasswd">â€‹</a></h3>
<p>The <code>Htpasswd</code> link type allows the importation of an <a href="https://httpd.apache.org/docs/2.4/programs/htpasswd.html" target="_blank" rel="noopener noreferrer"><code>htpasswd</code></a> file. This file is utilized to set up <a href="/docs/field-level-access-control-graphql-authentication/#basic-authentication">Basic authentication</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jwks">Jwks<a class="hash-link" aria-label="Direct link to Jwks" title="Direct link to Jwks" href="/docs/tailcall-dsl-graphql-custom-directives/#jwks">â€‹</a></h3>
<p>The <code>Jwks</code> link type enables the importation of a <a href="https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-sets" target="_blank" rel="noopener noreferrer"><code>JWKS</code></a> file. This file facilitates the provision of detailed access control through <a href="/docs/field-level-access-control-graphql-authentication/#jwt-authentication">JWT authentication</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modify-directive">@modify Directive<a class="hash-link" aria-label="Direct link to @modify Directive" title="Direct link to @modify Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#modify-directive">â€‹</a></h2>
<p>The <code>@modify</code> directive in GraphQL provides the flexibility to alter the attributes of a field or a node within your GraphQL schema. Here&#x27;s how you can use this directive:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="name-1">name<a class="hash-link" aria-label="Direct link to name" title="Direct link to name" href="/docs/tailcall-dsl-graphql-custom-directives/#name-1">â€‹</a></h3>
<p>You can rename a field or a node in your GraphQL schema using the <code>name</code> argument in the <code>@modify</code> directive. This can be helpful when the field name in your underlying data source doesn&#x27;t match the desired field name in your schema. For instance:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@modify</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;userId&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><code>@modify(name: &quot;userId&quot;)</code> informs GraphQL to present the field known as <code>id</code> in the underlying data source as <code>userId</code> in your schema.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="omit">omit<a class="hash-link" aria-label="Direct link to omit" title="Direct link to omit" href="/docs/tailcall-dsl-graphql-custom-directives/#omit">â€‹</a></h3>
<p>You can exclude a field or a node from your GraphQL schema using the <code>omit</code> argument in the <code>@modify</code> directive. This can be useful if you want to keep certain data hidden from the client. For instance:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@modify</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">omit</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><code>@modify(omit: true)</code> instructs GraphQL to exclude the <code>id</code> field from the schema, making it inaccessible to the client.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><code>@omit</code> is a standalone directive and is an alias/shorthand for <code>modify(omit: true)</code> checkout <a href="/docs/tailcall-dsl-graphql-custom-directives/#omit-directive">documentation</a></p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="omit-directive">@omit Directive<a class="hash-link" aria-label="Direct link to @omit Directive" title="Direct link to @omit Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#omit-directive">â€‹</a></h2>
<p>Within a GraphQL schema, the <code>@omit</code> directive excludes fields or nodes from the generated schema, making them inaccessible through the GraphQL API. This directive is useful for hiding sensitive information or simplifying your API by removing unnecessary fields.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-it-works-1">How it works<a class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works-1">â€‹</a></h3>
<p>When applied to a field or node, the <code>@omit</code> directive instructs the Tailcall not to include that field or node in the schema. This means that clients cannot query or mutate data in those fields.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example-2">Example<a class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" href="/docs/tailcall-dsl-graphql-custom-directives/#example-2">â€‹</a></h3>
<p>Consider a scenario where you have a <code>User</code> type with an embedded <code>Address</code> type. If you want to exclude the <code>Address</code> type from the schema to simplify the API, you can use the <code>@omit</code> directive:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Address</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">city</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">street</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">address</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Address</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@omit</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, the <code>address</code> field will not be accessible or visible through the GraphQL API.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="comparison-with-modify">Comparison with <code>modify</code><a class="hash-link" aria-label="Direct link to comparison-with-modify" title="Direct link to comparison-with-modify" href="/docs/tailcall-dsl-graphql-custom-directives/#comparison-with-modify">â€‹</a></h3>
<p>The <code>@omit</code> directive and <code>@modify(omit: true)</code> essentially serve the same purpose in excluding fields from the schema, but they differ in syntax and flexibility. In fact, one can consider <code>@omit</code> as a shorthand or alias for the more verbose <code>@modify(omit: true)</code>.</p>
<ul>
<li>
<p><code>@omit</code> offers a concise way to directly exclude a field or node without additional arguments.</p>
</li>
<li>
<p><code>@modify(omit: true)</code>, as part of the broader <a href="/docs/tailcall-dsl-graphql-custom-directives/#omit-directive"><code>@modify</code></a> directive, provides more options, such as field renaming through the <code>name</code> argument. This makes it a more flexible choice when you need more than field exclusion.</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protected-directive">@protected Directive<a class="hash-link" aria-label="Direct link to @protected Directive" title="Direct link to @protected Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#protected-directive">â€‹</a></h2>
<p>The <code>@protected</code> annotation designates a type or field as protected, meaning that a user must be authenticated to access that data.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">protected</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@protected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">protectedType</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ProtectedType</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ProtectedType</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@protected</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">nested</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>To utilize the <code>@protected</code> directive, you must link at least one authentication provider in the configuration using the <a href="/docs/tailcall-dsl-graphql-custom-directives/#link-directive"><code>@link</code></a> directive (<code>Htpasswd</code> or <code>Jwks</code>).</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-it-works-2">How It Works<a class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works-2">â€‹</a></h3>
<ul>
<li>When a field is annotated with <code>@protected</code>, an authentication check is performed upon receiving the request. Depending on the authentication result, either the requested data is provided in the response, or an authentication error is returned.</li>
<li>If a type is annotated with <code>@protected</code>, all fields within that type inherit the protection, requiring user authentication for any field that&#x27;s queried.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rest-directive">@rest Directive<a class="hash-link" aria-label="Direct link to @rest Directive" title="Direct link to @rest Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#rest-directive">â€‹</a></h2>
<p>API orchestration is essential, yet not all can adopt GraphQL despite its benefits. The Tailcall DSL feature leverages GraphQL at compile time to generate REST endpoints, aligning with traditional API infrastructure like CDNs and Gateways.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage-2">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="/docs/tailcall-dsl-graphql-custom-directives/#usage-2">â€‹</a></h3>
<ul>
<li><strong>method</strong>: Specifies the HTTP method (GET, POST, etc.).</li>
<li><strong>path</strong>: Sets the endpoint URL, with support for dynamic values from query arguments.</li>
<li><strong>query</strong>: Defines the query parameters as key-value pairs.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example-3">Example<a class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" href="/docs/tailcall-dsl-graphql-custom-directives/#example-3">â€‹</a></h3>
<p>Define GraphQL types and queries, using the <code>@rest</code> directive to map fields to REST API endpoints.</p>
<p><code>schema.graphql</code></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@link</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">type</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Operation</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">src</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;user-operation.graphql&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@rest</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;GET&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/users/{{.args.id}}&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><code>user-operation.graphql</code></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token variable" style="color:#E36209">$id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@rest</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">method</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">GET</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/user/$id&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token variable" style="color:#E36209">$id</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="REST Demo" src="/assets/images/rest-user-03cf9e415f57084d2cbfcaebac90df2b.png" width="2992" height="1686" class="img_ev3q"></p>
<p>This example demonstrates how to define a simple query to fetch user data from a REST endpoint using the <code>@rest</code> directive. By leveraging <code>@rest</code>, GraphQL can serve as a layer over RESTful services, combining REST&#x27;s simplicity with GraphQL&#x27;s flexibility.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="server-directive">@server Directive<a class="hash-link" aria-label="Direct link to @server Directive" title="Direct link to @server Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#server-directive">â€‹</a></h2>
<p>The <code>@server</code> directive, applied at the schema level, provides a comprehensive set of server configurations. It dictates server behavior and helps tune Tailcall for a range of use-cases.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">...</span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">ServerSettings</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">...</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this templated structure, replace <code>...[ServerSettings]...</code> with specific configurations tailored to your project&#x27;s needs. Adjust and expand these settings as necessary.</p>
<p>The <code>ServerSettings</code> options and their details appear below.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workers">workers<a class="hash-link" aria-label="Direct link to workers" title="Direct link to workers" href="/docs/tailcall-dsl-graphql-custom-directives/#workers">â€‹</a></h3>
<p>Setting <code>workers</code> to <code>32</code> means that the GraphQL server will use 32 worker threads.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">workers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">32</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This example sets the <code>workers</code> to <code>32</code>, meaning the GraphQL server will use 32 worker threads.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="port">port<a class="hash-link" aria-label="Direct link to port" title="Direct link to port" href="/docs/tailcall-dsl-graphql-custom-directives/#port">â€‹</a></h3>
<p>Setting the <code>port</code> to <code>8090</code> means that Tailcall will be accessible at <code>http://localhost:8000</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8090</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This example sets the <code>port</code> to <code>8090</code>, making Tailcall accessible at <code>http://localhost:8090</code>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Always choose non-standard ports, avoiding typical ones like 80 or 8080. Make sure your chosen port is free.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers-3">headers<a class="hash-link" aria-label="Direct link to headers" title="Direct link to headers" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-3">â€‹</a></h3>
<p>Allows intelligent configuration of the final response headers that&#x27;s produced by Tailcall.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cachecontrol">cacheControl<a class="hash-link" aria-label="Direct link to cacheControl" title="Direct link to cacheControl" href="/docs/tailcall-dsl-graphql-custom-directives/#cachecontrol">â€‹</a></h3>
<p>Activating the <code>cacheControl</code> configuration directs Tailcall to send <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener noreferrer">Cache-Control</a> headers in its responses. The <code>max-age</code> value in the header matches the lowest of the values in the responses that Tailcall receives from its upstream. By default, this is <code>false</code>, which means Tailcall does not set any header.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">cacheControl</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="custom">custom<a class="hash-link" aria-label="Direct link to custom" title="Direct link to custom" href="/docs/tailcall-dsl-graphql-custom-directives/#custom">â€‹</a></h3>
<p>The <code>custom</code> is an array of key-value pairs. These headers get added to the response of every request made to the server. This can be useful for adding headers like <code>Access-Control-Allow-Origin</code> to allow cross-origin requests, or some headers like <code>X-Allowed-Roles</code> for use by downstream services.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">custom</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-Allowed-Roles&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;admin,user&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="experimental">experimental<a class="hash-link" aria-label="Direct link to experimental" title="Direct link to experimental" href="/docs/tailcall-dsl-graphql-custom-directives/#experimental">â€‹</a></h3>
<p>When the <code>experimental</code> configuration is enabled, Tailcall can include headers starting with <code>X-</code> in its responses, which are sourced from its upstream. By default, this feature is disabled (<code>[]</code>), meaning Tailcall does not forward any such headers unless explicitly configured to do so.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">experimental</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;X-Experimental-Header&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setcookies">setCookies<a class="hash-link" aria-label="Direct link to setCookies" title="Direct link to setCookies" href="/docs/tailcall-dsl-graphql-custom-directives/#setcookies">â€‹</a></h3>
<p>Enabling the <code>setCookies</code> option instructs Tailcall to include <code>set-cookie</code> headers in its responses, which are obtained from the headers of upstream responses.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">setCookies</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cors">cors<a class="hash-link" aria-label="Direct link to cors" title="Direct link to cors" href="/docs/tailcall-dsl-graphql-custom-directives/#cors">â€‹</a></h3>
<p>The <code>cors</code> configuration allows you to enable <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">CORS</a> on Tailcall. This is useful when you want to access Tailcall in the browser. Here is a simple configuration to get started with cors:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">cors</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">allowHeaders</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;*&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">allowOrigins</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;*&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The above setting will enable CORS on the server for all headers, origins &amp; methods. You can further configure the cors settings to make it more secure with the following fields:</p>
<ul>
<li><code>allowCredentials</code>: Indicates whether the server allows credentials (e.g., cookies, authorization headers) to be sent in cross-origin requests.</li>
<li><code>allowHeaders</code>: A list of allowed headers in cross-origin requests. This can be used to specify custom headers that are allowed to be included in cross-origin requests.</li>
<li><code>allowMethods</code>: A list of allowed HTTP methods in cross-origin requests. These methods specify the actions that are permitted in cross-origin requests.</li>
<li><code>allowOrigins</code>: A list of origins that are allowed to access the server&#x27;s resources in cross-origin requests. An origin can be a domain, a subdomain, or even &#x27;null&#x27; for local file schemes.</li>
<li><code>allowPrivateNetwork</code>: Indicates whether requests from private network addresses are allowed in cross-origin requests. Private network addresses typically include IP addresses reserved for internal networks.</li>
<li><code>exposeHeaders</code>: A list of headers that the server exposes to the browser in cross-origin responses. Exposing certain headers allows client-side code to access them in the response.</li>
<li><code>maxAge</code>: The maximum time (in seconds) that the client should cache preflight OPTIONS requests to avoid sending excessive requests to the server.</li>
<li><code>vary</code>: A list of header names that indicate the values of which might cause the server&#x27;s response to vary, potentially affecting caching.</li>
</ul>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">hostname</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">0.0.0.0</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">cors</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">allowCredentials</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">allowHeaders</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">allowMethods</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token constant" style="color:#C586C0">POST</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">GET</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">OPTIONS</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">allowOrigins</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;abc.xyz&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">allowPrivateNetwork</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">exposeHeaders</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;Content-Type&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">maxAge</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">360</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">vary</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;Origin&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="vars">vars<a class="hash-link" aria-label="Direct link to vars" title="Direct link to vars" href="/docs/tailcall-dsl-graphql-custom-directives/#vars">â€‹</a></h3>
<p>This configuration allows defining local variables for use during the server&#x27;s operations. These variables are handy for storing constant configurations, secrets, or other shared information that operations might need.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">vars</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;apiKey&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;YOUR_API_KEY_HERE&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">externalData</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Data</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">/external-api/data</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">Authorization</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Bearer {{.vars.apiKey}}&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In the provided example, setting a variable named <code>apiKey</code> with a placeholder value of &quot;YOUR_API_KEY_HERE&quot; implies that whenever Tailcall fetches data from the <code>externalData</code> endpoint, it includes the <code>apiKey</code> in the Authorization header of the HTTP request.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Local variables, like <code>apiKey</code>, are instrumental in securing access to external services or providing a unified place for configurations. Ensure that sensitive information stored this way is well protected and not exposed unintentionally, if your GraphQL configuration is publicly accessible.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introspection">introspection<a class="hash-link" aria-label="Direct link to introspection" title="Direct link to introspection" href="/docs/tailcall-dsl-graphql-custom-directives/#introspection">â€‹</a></h3>
<p>This setting controls the server&#x27;s allowance of introspection queries. Introspection, a core feature of GraphQL, allows clients to directly fetch schema information. This capability proves crucial for tools and client applications in comprehending the available types, fields, and operations. By default, the server enables this setting (<code>true</code>).</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">introspection</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Although introspection is beneficial during development and debugging stages, consider disabling it in production environments. Turning off introspection in live deployments can enhance security by preventing potential attackers from discerning the schema and any associated business logic or data structures.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="queryvalidation">queryValidation<a class="hash-link" aria-label="Direct link to queryValidation" title="Direct link to queryValidation" href="/docs/tailcall-dsl-graphql-custom-directives/#queryvalidation">â€‹</a></h3>
<p>The <code>queryValidation</code> configuration determines if the server checks incoming GraphQL queries against the defined schema. Each query check ensures it matches the schema, preventing errors from incorrect or malformed queries. In some situations, you might want to disable it, notably to <strong>enhance server performance</strong> at the cost of these checks. This defaults to <code>false</code> if not specified.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">queryValidation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The example above sets <code>queryValidation</code> to <code>true</code>, enabling the validation phase for incoming queries.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Enable this in the development environment to ensure the queries sent are correct and validated. In the production environment, consider disabling it for improved performance.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responsevalidation">responseValidation<a class="hash-link" aria-label="Direct link to responseValidation" title="Direct link to responseValidation" href="/docs/tailcall-dsl-graphql-custom-directives/#responsevalidation">â€‹</a></h3>
<p>Tailcall can automatically infer the schema of the HTTP endpoints for you. This information can check responses received from the upstream services. Enabling this setting allows you to do that. If not specified, the default setting for <code>responseValidation</code> is <code>false</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">responseValidation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Disabling this setting will offer major performance improvements, but at the potential expense of data integrity.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="globalresponsetimeout">globalResponseTimeout<a class="hash-link" aria-label="Direct link to globalResponseTimeout" title="Direct link to globalResponseTimeout" href="/docs/tailcall-dsl-graphql-custom-directives/#globalresponsetimeout">â€‹</a></h3>
<p>The <code>globalResponseTimeout</code> configuration sets the max duration a query can run before the server terminates it. Essentially, it acts as a safeguard against long-running queries that could strain resources or pose security concerns.</p>
<p>If not explicitly defined, there might be a system-specific or default value that applies.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">globalResponseTimeout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">5000</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this given example, setting the <code>globalResponseTimeout</code> to <code>5000</code> milliseconds, or 5 seconds, means any query execution taking longer than this duration will be automatically terminated by</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Setting an appropriate response timeout in production environments is crucial. This optimizes resource use and serves as a security measure against potential denial-of-service attacks, where adversaries might run complex queries to exhaust server resources.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="version">version<a class="hash-link" aria-label="Direct link to version" title="Direct link to version" href="/docs/tailcall-dsl-graphql-custom-directives/#version">â€‹</a></h3>
<p>The server uses the HTTP version. If not specified, the default value is <code>HTTP1</code>. The available options are <code>HTTP1</code> and <code>HTTP2</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">version</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">HTTP2</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cert-1">cert<a class="hash-link" aria-label="Direct link to cert" title="Direct link to cert" href="/docs/tailcall-dsl-graphql-custom-directives/#cert-1">â€‹</a></h3>
<p>The path to certificate(s) for running the server over HTTP2 (HTTPS). If not specified, the default value is <code>null</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">cert</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;./cert.pem&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The certificate can be of any extension, but it&#x27;s highly recommended to use standards (<code>pem</code>, <code>crt</code>, <code>key</code>).</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="key-1">key<a class="hash-link" aria-label="Direct link to key" title="Direct link to key" href="/docs/tailcall-dsl-graphql-custom-directives/#key-1">â€‹</a></h3>
<p>The path to the key for running the server over HTTP2 (HTTPS). If not specified, the default value is <code>null</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;./key.pem&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The key can be of any extension, but it&#x27;s highly recommended to use standards (<code>pem</code>, <code>crt</code>, <code>key</code>).</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="showcase">showcase<a class="hash-link" aria-label="Direct link to showcase" title="Direct link to showcase" href="/docs/tailcall-dsl-graphql-custom-directives/#showcase">â€‹</a></h3>
<p>The <code>@server</code> directive&#x27;s <code>showcase</code> option allows for hands-on experimentation with server configurations in a controlled environment. This feature simplifies the process of exploring and testing different settings.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">showcase</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batchrequests">batchRequests<a class="hash-link" aria-label="Direct link to batchRequests" title="Direct link to batchRequests" href="/docs/tailcall-dsl-graphql-custom-directives/#batchrequests">â€‹</a></h3>
<p>Batching in GraphQL combines requests into one, reducing server round trips.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">batchRequests</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Batching can improve performance but may introduce latency if one request in the batch takes longer. It also makes network traffic debugging harder.</p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dedupe">dedupe<a class="hash-link" aria-label="Direct link to dedupe" title="Direct link to dedupe" href="/docs/tailcall-dsl-graphql-custom-directives/#dedupe">â€‹</a></h3>
<p>A boolean flag, if set to <code>true</code>, will enable deduplication of IO operations to enhance performance. This flag prevents duplicate IO requests from being executed concurrently, reducing resource load. If not specified, this feature defaults to <code>false</code>.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">dedupe</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="routes">routes<a class="hash-link" aria-label="Direct link to routes" title="Direct link to routes" href="/docs/tailcall-dsl-graphql-custom-directives/#routes">â€‹</a></h3>
<p>This optional field allows you to customize the server&#x27;s endpoint paths, enabling you to override the default values for the GraphQL and status endpoints. If not specified, the following default paths will be used:</p>
<ul>
<li>graphQL: <code>/graphql</code></li>
<li>status: <code>/status</code></li>
</ul>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">routes</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">graphQL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/tailcall-gql&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">status</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/health&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this example, the GraphQL endpoint is changed to <code>/tailcall-gql</code> and the status endpoint to <code>/health</code>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="telemetry-directive">@telemetry Directive<a class="hash-link" aria-label="Direct link to @telemetry Directive" title="Direct link to @telemetry Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#telemetry-directive">â€‹</a></h2>
<p>The <code>@telemetry</code> directive facilitates seamless integration with <a href="https://open-telemetry.io" target="_blank" rel="noopener noreferrer">OpenTelemetry</a>, enhancing the observability of your GraphQL services powered by Tailcall. By leveraging this directive, developers gain access to valuable insights into the performance and behavior of their applications.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="traces">Traces<a class="hash-link" aria-label="Direct link to Traces" title="Direct link to Traces" href="/docs/tailcall-dsl-graphql-custom-directives/#traces">â€‹</a></h3>
<p>Here are the traces that are captured by the <code>@telemetry</code> directive:</p>
<table><thead><tr><th style="text-align:right">Trace Name</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:right">request</td><td style="text-align:left">Captures the span for processing the HTTP request on the server side, providing foundational observability.</td></tr><tr><td style="text-align:right">graphQL</td><td style="text-align:left"><em>Only for GraphQL ingress</em>. Span for processing GraphQL call</td></tr><tr><td style="text-align:right"><code>REST &lt;http_method&gt; &lt;http_route&gt;</code></td><td style="text-align:left"><em>Only for REST ingress</em>. Span for processing REST API call</td></tr><tr><td style="text-align:right"><code>&lt;field_name&gt;</code></td><td style="text-align:left">Denotes spans for fields with defined resolvers, offering insights into field names and execution times for resolver logic.</td></tr><tr><td style="text-align:right"><code>&lt;expr_name&gt;</code></td><td style="text-align:left">Nested within the <code>&lt;field_name&gt;</code> spans, these granulated spans detail the execution of expressions in resolving a field, highlighting the hierarchical execution pattern of nested expressions.</td></tr><tr><td style="text-align:right">upstream_request</td><td style="text-align:left">Request that were made from tailcall service to upstream</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="metrics">Metrics<a class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics" href="/docs/tailcall-dsl-graphql-custom-directives/#metrics">â€‹</a></h3>
<p>The <code>@telemetry</code> directive also captures the following metrics:</p>
<table><thead><tr><th style="text-align:right">Metric</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:right">cache.hit_rate</td><td style="text-align:left">Reflects the cache hit rate for the cache powered by the <a href="/docs/tailcall-dsl-graphql-custom-directives/#cache-directive"><code>@cache</code></a> directive</td></tr><tr><td style="text-align:right">http.server.request.count</td><td style="text-align:left">Counts the number of incoming requests made to specific route. Optionally enriched with selected headers by <a href="/docs/tailcall-dsl-graphql-custom-directives/#requestheaders"><code>requestHeaders</code></a></td></tr><tr><td style="text-align:right">http.client.request.count</td><td style="text-align:left">Counts the number of outgoing requests to specific upstream</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="export">export<a class="hash-link" aria-label="Direct link to export" title="Direct link to export" href="/docs/tailcall-dsl-graphql-custom-directives/#export">â€‹</a></h3>
<p>The <code>export</code> field defines how the open-telemetry data should be exported and in which format. The following are the supported formats:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="otlp">otlp<a class="hash-link" aria-label="Direct link to otlp" title="Direct link to otlp" href="/docs/tailcall-dsl-graphql-custom-directives/#otlp">â€‹</a></h3>
<p>Utilizes the OTLP format to export telemetry data to backend systems, supported by most modern tracing and analytics platforms. Here is an example using [honeycomb.io]:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@telemetry</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">export</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">otlp</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">url</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">https://api.honeycomb.io:443</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">x-honeycomb-team</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;{{.env.HONEYCOMB_API_KEY}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;x-honeycomb-dataset&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">value</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;tailcall&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can configure the OTLP exporter with the following options:</p>
<table><thead><tr><th style="text-align:right">Field</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:right">url</td><td>Defines the URL for the OTLP Collector.</td></tr><tr><td style="text-align:right">headers</td><td>Sets additional headers for requests to the OTLP Collector.</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prometheus">prometheus<a class="hash-link" aria-label="Direct link to prometheus" title="Direct link to prometheus" href="/docs/tailcall-dsl-graphql-custom-directives/#prometheus">â€‹</a></h3>
<p>Facilitates metrics export in a Prometheus compatible format, providing a dedicated endpoint for metrics.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@telemetry</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">export</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">prometheus</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;/metrics&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can configure the Prometheus exporter with the following options:</p>
<table><thead><tr><th style="text-align:right">Field</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:right">path</td><td>Designates the endpoint path for Prometheus metrics, defaulting to <code>/metrics</code>.</td></tr><tr><td style="text-align:right">format</td><td>Controls the format viz. <strong>text</strong> or <strong>protobuf</strong>, for sending data to Prometheus.</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="stdout">stdout<a class="hash-link" aria-label="Direct link to stdout" title="Direct link to stdout" href="/docs/tailcall-dsl-graphql-custom-directives/#stdout">â€‹</a></h3>
<p>Outputs all telemetry data to stdout, ideal for testing or local development environments.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@telemetry</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">export</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">stdout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">pretty</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can configure the stdout exporter with the following options:</p>
<table><thead><tr><th style="text-align:right">Field</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:right">pretty</td><td>Enables formatted output of telemetry data for enhanced readability.</td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="requestheaders">requestHeaders<a class="hash-link" aria-label="Direct link to requestHeaders" title="Direct link to requestHeaders" href="/docs/tailcall-dsl-graphql-custom-directives/#requestheaders">â€‹</a></h3>
<p>Specifies list of headers of ingress request the value of which will be sent to the telemetry as attributes.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@telemetry</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">requestHeaders</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;X-User-Id&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apollo">apollo<a class="hash-link" aria-label="Direct link to apollo" title="Direct link to apollo" href="/docs/tailcall-dsl-graphql-custom-directives/#apollo">â€‹</a></h3>
<p>Facilitates seamless integration with <a href="https://studio.apollographql.com/" target="_blank" rel="noopener noreferrer">Apollo Studio</a>, enhancing the observability of GraphQL services. By leveraging this field, developers gain access to valuable insights into the performance and behavior of their GraphQL APIs.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@telemetry</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">export</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">otlp</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">api_key</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">{{.env.APOLLO_API_KEY}}</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">graph_ref</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">graph-id@current</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">platform</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">website.com</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token attr-name" style="color:#8DFFF8">version</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You can configure the apollo exporter with the following options:</p>
<table><thead><tr><th style="text-align:right">Field</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:right">api_key</td><td>The API Key generated from Apollo Studio.</td></tr><tr><td style="text-align:right">graph_ref</td><td>The Graph Ref, which is the <code>graph_id</code> and the <code>variant</code> concatenated using <code>@</code>(i.e. &lt;graph_id&gt;@&lt;variant&gt;)</td></tr><tr><td style="text-align:right">platform</td><td>An arbitrary value which can contain the name of your website or some other value to identify your deployment uniqely, in case you have multiple deployments.</td></tr><tr><td style="text-align:right">version</td><td>Version of Apollo which is being used.</td></tr></tbody></table>
<p>By integrating the <code>@telemetry</code> directive into your GraphQL schema, you empower your development teams with critical insights into application performance, enabling proactive optimization and maintenance.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="upstream-directive">@upstream Directive<a class="hash-link" aria-label="Direct link to @upstream Directive" title="Direct link to @upstream Directive" href="/docs/tailcall-dsl-graphql-custom-directives/#upstream-directive">â€‹</a></h2>
<p>The <code>upstream</code> directive enables control over specific aspects of the upstream server connection, including settings such as connection timeouts, keep-alive intervals, and more. The system applies default values if you do not specify them.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">...</span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">UpstreamSetting</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">...</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The document below details the options for <code>UpstreamSetting</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="poolidletimeout">poolIdleTimeout<a class="hash-link" aria-label="Direct link to poolIdleTimeout" title="Direct link to poolIdleTimeout" href="/docs/tailcall-dsl-graphql-custom-directives/#poolidletimeout">â€‹</a></h3>
<p>The connection pool waits for this duration in seconds before closing idle connections.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">poolIdleTimeout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="poolmaxidleperhost">poolMaxIdlePerHost<a class="hash-link" aria-label="Direct link to poolMaxIdlePerHost" title="Direct link to poolMaxIdlePerHost" href="/docs/tailcall-dsl-graphql-custom-directives/#poolmaxidleperhost">â€‹</a></h3>
<p>The max number of idle connections each host will maintain.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">poolMaxIdlePerHost</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keepaliveinterval">keepAliveInterval<a class="hash-link" aria-label="Direct link to keepAliveInterval" title="Direct link to keepAliveInterval" href="/docs/tailcall-dsl-graphql-custom-directives/#keepaliveinterval">â€‹</a></h3>
<p>The time in seconds between each keep-alive message sent to maintain the connection.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">keepAliveInterval</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keepalivetimeout">keepAliveTimeout<a class="hash-link" aria-label="Direct link to keepAliveTimeout" title="Direct link to keepAliveTimeout" href="/docs/tailcall-dsl-graphql-custom-directives/#keepalivetimeout">â€‹</a></h3>
<p>The time in seconds that the connection will wait for a keep-alive message before closing.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">keepAliveTimeout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keepalivewhileidle">keepAliveWhileIdle<a class="hash-link" aria-label="Direct link to keepAliveWhileIdle" title="Direct link to keepAliveWhileIdle" href="/docs/tailcall-dsl-graphql-custom-directives/#keepalivewhileidle">â€‹</a></h3>
<p>A boolean value that determines whether to send keep-alive messages while the connection is idle.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">keepAliveWhileIdle</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proxy">proxy<a class="hash-link" aria-label="Direct link to proxy" title="Direct link to proxy" href="/docs/tailcall-dsl-graphql-custom-directives/#proxy">â€‹</a></h3>
<p>The <code>proxy</code> setting defines an intermediary server that routes upstream requests before they reach their intended endpoint. By specifying a proxy URL, you introduce a layer, enabling custom routing and security policies.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">proxy</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">url</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://localhost:3000&quot;</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In the provided example, we&#x27;ve set the proxy&#x27;s <code>url</code> to &quot;<a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>&quot;. This configuration ensures that all requests aimed at the designated <code>baseURL</code> first go through this proxy. To illustrate, if the <code>baseURL</code> is &quot;<a href="http://jsonplaceholder.typicode.com" target="_blank" rel="noopener noreferrer">http://jsonplaceholder.typicode.com</a>&quot;, any request targeting it initially goes to &quot;<a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>&quot; before the proxy redirects it to its final destination.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="connecttimeout">connectTimeout<a class="hash-link" aria-label="Direct link to connectTimeout" title="Direct link to connectTimeout" href="/docs/tailcall-dsl-graphql-custom-directives/#connecttimeout">â€‹</a></h3>
<p>The time in seconds that the connection will wait for a response before timing out.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">connectTimeout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="timeout">timeout<a class="hash-link" aria-label="Direct link to timeout" title="Direct link to timeout" href="/docs/tailcall-dsl-graphql-custom-directives/#timeout">â€‹</a></h3>
<p>The max time in seconds that the connection will wait for a response.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">timeout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tcpkeepalive">tcpKeepAlive<a class="hash-link" aria-label="Direct link to tcpKeepAlive" title="Direct link to tcpKeepAlive" href="/docs/tailcall-dsl-graphql-custom-directives/#tcpkeepalive">â€‹</a></h3>
<p>The time in seconds between each TCP keep-alive message sent to maintain the connection.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">tcpKeepAlive</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">60</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="useragent">userAgent<a class="hash-link" aria-label="Direct link to userAgent" title="Direct link to userAgent" href="/docs/tailcall-dsl-graphql-custom-directives/#useragent">â€‹</a></h3>
<p>The User-Agent header value for HTTP requests.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">userAgent</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token description string language-markdown" style="color:#FDB869">Tailcall/1.0</span><span class="token description string" style="color:#FDB869">&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="allowedheaders">allowedHeaders<a class="hash-link" aria-label="Direct link to allowedHeaders" title="Direct link to allowedHeaders" href="/docs/tailcall-dsl-graphql-custom-directives/#allowedheaders">â€‹</a></h3>
<p>The <code>allowedHeaders</code> configuration defines a set of whitelisted HTTP headers that can be forwarded to upstream services during requests.
Without specifying <code>allowedHeaders</code>, the system will not forward any incoming headers to upstream services, offering an extra security layer but potentially limiting necessary data flow. Tailcall compares the provided whitelisted headers in a case-insensitive format.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">allowedHeaders</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;X-Api-Key&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In the example above, the configuration for <code>allowedHeaders</code> permits <code>Authorization</code> and <code>X-Api-Key</code> headers. Thus, requests with these headers will forward them to upstream services; the system ignores all others. This configuration ensures communication of the expected headers to dependent services, emphasizing security and consistency.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="baseurl-3">baseURL<a class="hash-link" aria-label="Direct link to baseURL" title="Direct link to baseURL" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-3">â€‹</a></h3>
<p>This refers to the default base URL for your APIs. If it&#x27;s not explicitly mentioned in the <code>@upstream</code> directive, then each <a href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive"><code>@http</code></a> directive must specify its own <code>baseURL</code>. If neither <code>@upstream</code> nor <a href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive"><code>@http</code></a> provides a <code>baseURL</code>, it results in a compilation error.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;http://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>In this representation, <code>http://jsonplaceholder.typicode.com</code> serves as the <code>baseURL</code>. Thus, all API calls made by <code>@http</code> prepend this URL to their respective paths.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Ensure that your base URL remains free from specific path segments.</p><ul>
<li><strong>GOOD:</strong> <code>@upstream(baseURL: http://jsonplaceholder.typicode.com)</code></li>
<li><strong>BAD:</strong> <code>@upstream(baseURL: http://jsonplaceholder.typicode.com/api)</code></li>
</ul></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="httpcache">httpCache<a class="hash-link" aria-label="Direct link to httpCache" title="Direct link to httpCache" href="/docs/tailcall-dsl-graphql-custom-directives/#httpcache">â€‹</a></h3>
<p>When httpCache passed with value greater than 0 it directs Tailcall to use HTTP caching mechanisms, following the <a href="https://tools.ietf.org/html/rfc7234" target="_blank" rel="noopener noreferrer">HTTP Caching RFC</a> to enhance performance by minimizing unnecessary data fetches. If left unspecified, this feature defaults to <code>0</code> disabling the caching mechanism.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">httpCache</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">42</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tips">Tips<a class="hash-link" aria-label="Direct link to Tips" title="Direct link to Tips" href="/docs/tailcall-dsl-graphql-custom-directives/#tips">â€‹</a></h3>
<ul>
<li>Use batching when other optimization techniques fail to resolve performance issues.</li>
<li>Apply batching and thoroughly assess its impact.</li>
<li>Understand that batching may make debugging more challenging.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="batch-1">batch<a class="hash-link" aria-label="Direct link to batch" title="Direct link to batch" href="/docs/tailcall-dsl-graphql-custom-directives/#batch-1">â€‹</a></h3>
<p>An object that specifies the batch settings, including <code>maxSize</code> (the max size of the batch), <code>delay</code> (the delay in milliseconds between each batch), and <code>headers</code> (an array of HTTP headers that the batch will include).</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">batch</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">maxSize</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">delay</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">headers</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">&quot;X-Server&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="onrequest-1">onRequest<a class="hash-link" aria-label="Direct link to onRequest" title="Direct link to onRequest" href="/docs/tailcall-dsl-graphql-custom-directives/#onrequest-1">â€‹</a></h3>
<p>Similar to the <a href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive">@http</a> property, this accepts a string value representing a middleware function defined in a JavaScript file. It intercepts all outgoing HTTP requests from the server. This interceptor, written in JavaScript, can be used to modify outgoing requests and also generate artificial responses to customize the behavior of the GraphQL server.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">onRequest</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> &#x27;</span><span class="token property" style="color:#C586C0">someFunctionName</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token directive function" style="color:#FDEA2F">@link</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">type</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Script</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">src</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;path_to/worker.js&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#fff"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/directives.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-09-21T13:00:02.000Z" itemprop="dateModified">Sep 21, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="!no-underline flex gap-3 items-center" href="/docs/tailcall-graphql-cli/"><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></div><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Previous</div><div class="pagination-nav__label text-black text-content-small font-medium">Command Line</div></div></a><a class="!no-underline flex gap-3 items-center" href="/docs/graphql-resolver-context-tailcall/"><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Next</div><div class="pagination-nav__label text-black text-content-small font-medium">Resolver Context</div></div><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></a></nav><div class="min-h-[450px]"><hr><br></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#addfield-directive">@addField Directive</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cache-directive">@cache Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#maxage">maxAge</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#usage">Usage</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cache-key">Cache Key</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#call-directive">@call Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#steps">steps</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#query">query</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#mutation">mutation</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#args">args</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#composition">Composition</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#expr-directive">@expr Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#static">Static</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#dynamic">Dynamic</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#graphql-directive">@graphQL Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl">baseURL</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#name">name</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#args-1">args</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#headers">headers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#batch">batch</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#grpc-directive">@grpc Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#method">method</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-1">baseURL</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#body">body</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-1">headers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#batchkey">batchKey</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#http-directive">@http Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-2">baseURL</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#path">path</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#method-1">method</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#query-1">query</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#body-1">body</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-2">headers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#batchkey-1">batchKey</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#onrequest">onRequest</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#js-directive">@js Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#usage-1">Usage</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#syntax">Syntax</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#example">Example</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#error-handling">Error Handling</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#performance-considerations">Performance Considerations</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#link-directive">@link Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works">How it Works</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#example-1">Example</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#supported-types">Supported Types</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#config">Config</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#protobuf">Protobuf</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#script">Script</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cert">Cert</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#key">Key</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#operation">Operation</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#htpasswd">Htpasswd</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#jwks">Jwks</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#modify-directive">@modify Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#name-1">name</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#omit">omit</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#omit-directive">@omit Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works-1">How it works</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#example-2">Example</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#comparison-with-modify">Comparison with <code>modify</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#protected-directive">@protected Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#how-it-works-2">How It Works</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#rest-directive">@rest Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#usage-2">Usage</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#example-3">Example</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#server-directive">@server Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#workers">workers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#port">port</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#headers-3">headers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cachecontrol">cacheControl</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#custom">custom</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#experimental">experimental</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#setcookies">setCookies</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cors">cors</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#vars">vars</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#introspection">introspection</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#queryvalidation">queryValidation</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#responsevalidation">responseValidation</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#globalresponsetimeout">globalResponseTimeout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#version">version</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#cert-1">cert</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#key-1">key</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#showcase">showcase</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#batchrequests">batchRequests</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#dedupe">dedupe</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#routes">routes</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#telemetry-directive">@telemetry Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#traces">Traces</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#metrics">Metrics</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#export">export</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#otlp">otlp</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#prometheus">prometheus</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#stdout">stdout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#requestheaders">requestHeaders</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#apollo">apollo</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#upstream-directive">@upstream Directive</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#poolidletimeout">poolIdleTimeout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#poolmaxidleperhost">poolMaxIdlePerHost</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#keepaliveinterval">keepAliveInterval</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#keepalivetimeout">keepAliveTimeout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#keepalivewhileidle">keepAliveWhileIdle</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#proxy">proxy</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#connecttimeout">connectTimeout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#timeout">timeout</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#tcpkeepalive">tcpKeepAlive</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#useragent">userAgent</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#allowedheaders">allowedHeaders</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#baseurl-3">baseURL</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#httpcache">httpCache</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#tips">Tips</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#batch-1">batch</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/tailcall-dsl-graphql-custom-directives/#onrequest-1">onRequest</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="bg-tailCall-dark-700 grid-dark pt-SPACE_10 pb-SPACE_05 flex flex-col items-center justify-center gap-SPACE_10 w-full relative px-SPACE_04"><svg xmlns="http://www.w3.org/2000/svg" width="120" height="32" fill="none" viewBox="0 0 120 32" class="w-[120px] h-10 z-10"><path fill="#fff" fill-rule="evenodd" d="M37.865 2.133H12.798c-3.077 0-5.17.005-6.738.216-1.506.202-2.204.56-2.679 1.034-.475.475-.832 1.172-1.034 2.679-.211 1.567-.216 3.66-.216 6.738v6.4c0 3.077.005 5.17.216 6.738.202 1.507.56 2.204 1.034 2.679.475.475 1.173.832 2.679 1.034 1.567.211 3.66.216 6.738.216h25.067c3.077 0 5.17-.005 6.738-.216 1.506-.202 2.204-.56 2.679-1.034.475-.475.832-1.172 1.034-2.679.21-1.567.215-3.66.215-6.738v-6.4c0-3.077-.004-5.17-.215-6.738-.203-1.507-.56-2.204-1.034-2.679-.475-.475-1.173-.832-2.679-1.034-1.568-.211-3.661-.216-6.738-.216M1.873 1.875C-.002 3.749-.002 6.766-.002 12.8v6.4c0 6.034 0 9.051 1.875 10.926S6.764 32 12.798 32h25.067c6.034 0 9.05 0 10.925-1.875s1.875-4.891 1.875-10.925v-6.4c0-6.034 0-9.051-1.875-10.925S43.9 0 37.865 0H12.798C6.764 0 3.748 0 1.873 1.875" clip-rule="evenodd"></path><path fill="#fff" fill-rule="evenodd" d="M12.963 8.431a1.276 1.276 0 0 1 1.804 0l6.666 6.667a1.276 1.276 0 0 1 0 1.804l-6.666 6.667a1.276 1.276 0 1 1-1.804-1.804L18.727 16l-5.764-5.765a1.276 1.276 0 0 1 0-1.804" clip-rule="evenodd"></path><path fill="#fff" d="M25.13 22.705c0-.707.574-1.28 1.28-1.28h10.957a1.288 1.288 0 1 1 0 2.575h-5.474l-5.486-.015a1.28 1.28 0 0 1-1.277-1.28M60.173 23.84q-1.098 0-1.792-.672-.672-.694-.672-1.837V15.06h-2.777v-2.33h2.777V9.28h2.823v3.45h3.046v2.33h-3.046v5.778q0 .672.627.672h2.15v2.33zM68.687 24.154q-1.187 0-2.129-.404a3.65 3.65 0 0 1-1.5-1.21q-.538-.805-.538-1.948t.538-1.904q.559-.784 1.523-1.165.986-.403 2.24-.403h3.046v-.627q0-.784-.493-1.277-.492-.515-1.567-.515-1.053 0-1.569.493-.515.47-.671 1.232l-2.599-.874q.27-.851.851-1.546.605-.716 1.59-1.142 1.009-.448 2.442-.448 2.196 0 3.472 1.098 1.278 1.097 1.277 3.18v4.144q0 .672.627.672h.896v2.33h-1.881q-.829 0-1.367-.403a1.28 1.28 0 0 1-.537-1.075v-.023h-.426q-.09.27-.403.717-.314.426-.986.762t-1.837.336m.492-2.285q1.188 0 1.927-.65.76-.672.761-1.77v-.223h-2.845q-.783 0-1.232.336t-.448.94q0 .605.47.986.471.38 1.367.38M77.29 23.84V12.73h2.823v11.11zm1.412-12.41q-.761 0-1.3-.492-.514-.493-.514-1.3 0-.806.515-1.299a1.85 1.85 0 0 1 1.3-.493q.783 0 1.298.493.516.493.515 1.3 0 .806-.515 1.299-.514.492-1.299.492M82.345 23.84V8.16h2.822v15.68zM92.618 24.154q-1.613 0-2.934-.672a5.08 5.08 0 0 1-2.061-1.95q-.762-1.275-.762-3.09v-.314q0-1.815.762-3.091a5.08 5.08 0 0 1 2.06-1.949q1.323-.672 2.935-.672 1.59 0 2.733.56a4.77 4.77 0 0 1 1.837 1.546q.716.963.94 2.195l-2.732.582a3.2 3.2 0 0 0-.404-1.21 2.24 2.24 0 0 0-.896-.85q-.56-.314-1.41-.314-.852 0-1.546.38-.672.36-1.076 1.098-.38.717-.38 1.77v.224q0 1.053.38 1.792.404.717 1.076 1.097.695.36 1.545.359 1.277 0 1.927-.65.672-.672.85-1.747l2.734.65a6.15 6.15 0 0 1-1.008 2.172 4.85 4.85 0 0 1-1.837 1.524q-1.143.56-2.733.56M103.077 24.154q-1.186 0-2.128-.404a3.65 3.65 0 0 1-1.5-1.21q-.538-.805-.538-1.948t.538-1.904q.56-.784 1.523-1.165.986-.403 2.24-.403h3.046v-.627q0-.784-.493-1.277-.492-.515-1.568-.515-1.052 0-1.568.493-.514.47-.672 1.232l-2.598-.874q.27-.851.851-1.546.605-.716 1.591-1.142 1.008-.448 2.441-.448 2.196 0 3.472 1.098 1.277 1.097 1.277 3.18v4.144q0 .672.627.672h.896v2.33h-1.881q-.829 0-1.367-.403a1.28 1.28 0 0 1-.537-1.075v-.023h-.426q-.09.27-.403.717-.314.426-.986.762t-1.837.336m.493-2.285q1.188 0 1.927-.65.76-.672.761-1.77v-.223h-2.845q-.783 0-1.232.336-.447.336-.448.94 0 .605.471.986.47.38 1.366.38M111.682 23.84V8.16h2.822v15.68zM116.736 23.84V8.16h2.822v15.68z"></path></svg><div class="text-content-tiny sm:text-title-small space-x-SPACE_06 text-tailCall-light-500 z-10"><a class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline" href="/docs/">Documentation</a><a href="https://blog.tailcall.run/" target="_blank" rel="noopener noreferrer" class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline">Blog</a><a class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline" href="/docs/contribution-guidelines/">Contributors</a></div><div class="flex flex-col-reverse sm:flex-row items-center gap-y-SPACE_04 sm:justify-between w-[100%] max-w-7xl sm:mt-SPACE_10 z-10"><p class="text-content-tiny text-tailCall-light-700 font-space-mono font-normal">Copyright Â© <!-- -->2024<!-- --> Tailcall, Inc.</p><div class="space-x-SPACE_04"><a href="https://github.com/tailcallhq/tailcall" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><g clip-path="url(#a)"><path fill="#B6B6B7" fill-rule="evenodd" d="M11.967 1C5.903 1 1 6.042 1 12.279c0 4.986 3.141 9.206 7.5 10.7.544.112.743-.243.743-.542 0-.261-.017-1.157-.017-2.091C6.175 21.018 5.539 19 5.539 19c-.49-1.307-1.216-1.643-1.216-1.643-.999-.69.072-.69.072-.69 1.108.074 1.69 1.157 1.69 1.157.98 1.718 2.56 1.232 3.195.934.09-.729.381-1.233.69-1.513-2.433-.261-4.993-1.232-4.993-5.565 0-1.232.435-2.24 1.125-3.025-.109-.28-.49-1.438.11-2.988 0 0 .925-.298 3.013 1.158a10.3 10.3 0 0 1 2.742-.373c.926 0 1.87.13 2.742.373 2.088-1.456 3.014-1.158 3.014-1.158.6 1.55.218 2.708.109 2.988.708.784 1.126 1.793 1.126 3.025 0 4.333-2.56 5.285-5.012 5.565.4.355.745 1.027.745 2.092 0 1.512-.018 2.726-.018 3.1 0 .298.2.653.744.54 4.358-1.493 7.5-5.713 7.5-10.7C22.933 6.043 18.013 1 11.966 1" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M1 1h22v22H1z"></path></clipPath></defs></svg></a><a href="https://discord.gg/kRZBPpkgwq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="20" height="16" x="2" y="4" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M22 4H2v16h20z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M18.93 5.425a16.1 16.1 0 0 0-4.07-1.304.06.06 0 0 0-.066.032c-.175.323-.37.744-.506 1.075a14.8 14.8 0 0 0-4.573 0A11 11 0 0 0 9.2 4.153a.06.06 0 0 0-.065-.032 16 16 0 0 0-4.07 1.304.06.06 0 0 0-.028.024c-2.593 4-3.303 7.902-2.954 11.756a.07.07 0 0 0 .026.048 16.4 16.4 0 0 0 4.994 2.608.06.06 0 0 0 .07-.024 12.3 12.3 0 0 0 1.022-1.716.066.066 0 0 0-.035-.091 11 11 0 0 1-1.56-.768.068.068 0 0 1-.007-.11q.159-.122.31-.251a.06.06 0 0 1 .065-.01c3.273 1.544 6.817 1.544 10.051 0a.06.06 0 0 1 .066.01c.1.084.205.17.31.25a.068.068 0 0 1-.005.11q-.747.45-1.561.768a.067.067 0 0 0-.034.091c.3.601.643 1.173 1.02 1.716a.06.06 0 0 0 .07.025 16.3 16.3 0 0 0 5.003-2.608.07.07 0 0 0 .026-.047c.417-4.455-.699-8.325-2.957-11.756a.05.05 0 0 0-.026-.025M8.684 14.86c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.01 0 1.814.943 1.798 2.082 0 1.147-.796 2.082-1.798 2.082m6.646 0c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.009 0 1.813.943 1.797 2.082 0 1.147-.788 2.082-1.797 2.082"></path></g></svg></a><a href="https://www.linkedin.com/company/tailcall" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="18" height="18" x="3" y="3" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M21 3H3v18h18z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M8.178 19V9.554H5.177V19zm-1.5-10.736c1.046 0 1.698-.725 1.698-1.632C8.356 5.705 7.724 5 6.698 5 5.671 5 5 5.705 5 6.632c0 .907.651 1.632 1.658 1.632zM9.84 19h3.001v-5.275c0-.282.02-.564.099-.766.217-.564.71-1.148 1.54-1.148 1.086 0 1.52.866 1.52 2.136V19H19v-5.416c0-2.902-1.48-4.252-3.455-4.252-1.619 0-2.33.947-2.725 1.591h.02v-1.37h-3c.039.887 0 9.447 0 9.447"></path></g></svg></a><a href="https://twitter.com/tailcallhq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 28 28" class="h-6 w-6"><path fill="#B6B6B7" d="M18.745 6.428h2.53l-5.528 6.318 6.503 8.597h-5.092l-3.988-5.215-4.563 5.215H6.076l5.912-6.758L5.75 6.428h5.22l3.605 4.766zm-.888 13.4h1.402l-9.05-11.965H8.705z"></path></svg></a></div></div></footer></div>
</body>
</html>