<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://tailcall.run/blog/</id>
    <title>Blog title</title>
    <updated>2024-07-26T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://tailcall.run/blog/"/>
    <subtitle>Blog</subtitle>
    <icon>https://tailcall.run/images/favicon.ico</icon>
    <rights>Copyright ¬© 2024 Tailcall, Inc.</rights>
    <entry>
        <title type="html"><![CDATA[GraphQL vs gRPC: Which is Better? Uncover the Best Choice!]]></title>
        <id>https://tailcall.run/blog/graphql-vs-grpc/</id>
        <link href="https://tailcall.run/blog/graphql-vs-grpc/"/>
        <updated>2024-07-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Discover the differences between GraphQL and gRPC. Learn which is better for your needs in this comprehensive guide. Find out now!]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="banner" src="https://tailcall.run/assets/images/graphql-vs-grpc-8b9159597fdb4cd0ea4d89fc9fe869a4.png" width="966" height="332" class="img_ev3q"></p>
<p>While REST has been the go-to for API development, gRPC and GraphQL are stepping in as game-changing contenders.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="https://tailcall.run/blog/graphql-vs-grpc/#introduction">‚Äã</a></h2>
<p>When it comes to choosing the tech stack for your application, it's never a straightforward task, especially when choosing between gRPC and graphQL - both backed by tech giants. Follow us as we discuss real world scenarios and perform a detailed feature-comparison on both, concluding exactly where each should be used.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-problem">The Problem<a class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem" href="https://tailcall.run/blog/graphql-vs-grpc/#the-problem">‚Äã</a></h2>
<p>Let‚Äôs say you are building a social app like Reddit, and you have screens like home and popular. You implement a simple REST API on the backend and everything looks fine:</p>
<ul>
<li>it wasn‚Äôt so challenging to setup</li>
<li>has tons of resources if anything goes wrong</li>
<li>seems like a perfect solution.</li>
</ul>
<p>Until the user base grows and there‚Äôs thousands of users - and disaster strikes: the loading times increase and the costs skyrocket, you begin to lose engagement of the users.</p>
<p>Deep down, the root cause of this problem is the slow nature of REST and over-fetching. What happens is that when a user opens the app, goes to the home screen, and the app fetches tons of unnecessary data from the backend: all pictures of a post, all comments and even related posts! Which is even worsened by the fact that the client has to call multiple endpoints to finally show the feed to the user. You are stuck in performance jargon, let‚Äôs rewind it. You use graphQL instead of REST, which has many advantages over the REST:</p>
<ul>
<li>thanks to its predefined schemas you don‚Äôt have to spend hours writing simple validation tests to check that a parameter is a number and not a string.</li>
<li>graphQL only serves what the client asks for, which means there‚Äôs no chance of over-fetching</li>
<li>not to mention that one endpoint of graphQL is more useful and comprehensive than 5 REST API routes.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="knowing-grpc">Knowing gRPC<a class="hash-link" aria-label="Direct link to Knowing gRPC" title="Direct link to Knowing gRPC" href="https://tailcall.run/blog/graphql-vs-grpc/#knowing-grpc">‚Äã</a></h2>
<p>So what is behind the magic of gRPC ? Since Google open-sourced it in 2015, gRPC has been revolutionizing service-to-service communication with its robust, schema-driven framework. By harnessing the power of HTTP/2 and Protocol Buffers (Protobuf), gRPC unleashes high-performance, real-time data streaming and rock-solid typing - a winning combo that's made it a go-to tool for developers building scalable, efficient systems. No wonder tech titans like <a href="https://theirstack.com/en/technology/grpc" target="_blank" rel="noopener noreferrer">Tesla, Netflix, Coinbase and Dropbox</a> are all on board!</p>
<p>Read more about <a href="https://tailcall.run/blog/what-is-grpc/">What is gRPC</a>.</p>
<p><img decoding="async" loading="lazy" alt="companies using grpc" src="https://tailcall.run/assets/images/stack-grpc-45c00a79d8245dff061c371bd30a8ace.png" width="1127" height="402" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unleashing-graphql-magic">Unleashing GraphQL Magic!<a class="hash-link" aria-label="Direct link to Unleashing GraphQL Magic!" title="Direct link to Unleashing GraphQL Magic!" href="https://tailcall.run/blog/graphql-vs-grpc/#unleashing-graphql-magic">‚Äã</a></h2>
<p>GraphQL, born at Facebook in 2012 and unleashed to the world in 2015, revolutionizes API queries. It‚Äôs a powerful and flexible alternative to REST APIs, featuring declarative data fetching that ensures you get just the data you need‚Äîno more, no less. With a single endpoint, GraphQL simplifies API structures, eliminating the hassle of managing multiple endpoints. This efficiency and flexibility have made it the darling of tech giants like <a href="https://landscape.graphql.org/borderless-mode?grouping=category" target="_blank" rel="noopener noreferrer">Github, Meta, Shopify and Microsoft </a>. With GraphQL, you can build more efficient and intuitive APIs that make data fetching a breeze!</p>
<p>Read more about <a href="https://tailcall.run/graphql/what-is-graphql/">What is GraphQL and How it works?</a>.</p>
<p><img decoding="async" loading="lazy" alt="companies using graphql" src="https://tailcall.run/assets/images/stack-graphql-7437c6d607951f46a04946b5289c54f2.png" width="974" height="249" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="feature-comparison">Feature Comparison<a class="hash-link" aria-label="Direct link to Feature Comparison" title="Direct link to Feature Comparison" href="https://tailcall.run/blog/graphql-vs-grpc/#feature-comparison">‚Äã</a></h2>
<table><thead><tr><th>Feature</th><th>gRPC</th><th>GraphQL</th></tr></thead><tbody><tr><td><strong>Message Format</strong></td><td>Binary</td><td>JSON</td></tr><tr><td><strong>Data Fetching</strong></td><td>Fixed endpoints and methods</td><td>Flexible queries, specified by clients</td></tr><tr><td><strong>Real-Time</strong></td><td>Supports streaming via server-side push</td><td>Supports real-time updates via subscriptions</td></tr><tr><td><strong>Type Safety</strong></td><td>Strongly typed with Protocol Buffers</td><td>Strongly typed with schema definition</td></tr><tr><td><strong>Introspection</strong></td><td>No built-in introspection</td><td>Built-in schema introspection</td></tr><tr><td><strong>Code Generation</strong></td><td>Automatic code generation from .proto files</td><td>Code generation tools available, but not automatic</td></tr><tr><td><strong>Tooling and Browser Support</strong></td><td>Limited browser support, requires proxies for web use</td><td>Strong tooling support, works natively in browsers</td></tr><tr><td><strong>Community</strong></td><td>currently nascent</td><td>Growing rapidly, strong in web and mobile development</td></tr><tr><td><strong>Adoption</strong></td><td>widely in microservices</td><td>mostly in mobile app development and <a href="https://en.wikipedia.org/wiki/Progressive_web_app" target="_blank" rel="noopener noreferrer">PWA</a>s</td></tr><tr><td><strong>Performance</strong></td><td>High performance with low latency</td><td>Generally efficient, schemas defined correctly</td></tr><tr><td><strong>Debugging and Troubleshooting</strong></td><td>non-human-readable format, require tools for debugging.</td><td>JSON response is easier to read and debug</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenarios-for-using-grpc">Scenarios for Using gRPC<a class="hash-link" aria-label="Direct link to Scenarios for Using gRPC" title="Direct link to Scenarios for Using gRPC" href="https://tailcall.run/blog/graphql-vs-grpc/#scenarios-for-using-grpc">‚Äã</a></h2>
<p>The ideal scenario for gRPC? When microservices need to communicate at lightning speed and with top-notch efficiency! Think of gRPC as the ultimate express lane for data‚Äîperfect when you need swift, reliable interactions and don‚Äôt need to be super flexible. It‚Äôs like having a fast track for your information, keeping everything running smoothly and quickly!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenario-1-a-social-media-app-backend">Scenario 1: A social media app backend<a class="hash-link" aria-label="Direct link to Scenario 1: A social media app backend" title="Direct link to Scenario 1: A social media app backend" href="https://tailcall.run/blog/graphql-vs-grpc/#scenario-1-a-social-media-app-backend">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="sm app example" src="https://tailcall.run/assets/images/services-4a44138776f5d5ceb658195b481afee7.png" width="1176" height="561" class="img_ev3q"></p>
<p>Imagine a social media app where everything works like clockwork. Here‚Äôs how gRPC fits in:
The Cast:</p>
<ul>
<li>Media-Scanner: Analyzes media files with precision.</li>
<li>Media-Tagger: Tags content accurately.</li>
<li>Jobs-Manager: Handles tasks efficiently.</li>
<li>Followers-Notifier: Sends timely updates to users.</li>
</ul>
<p>In this setup, gRPC‚Äôs Protocol Buffers ensure fast, efficient communication, cutting down on overhead and latency. Each service gets exactly what it needs, there's no risk of overfetching. It‚Äôs a perfect match for microservices, where speed and efficiency are key.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenario-2-a-movie-streaming-backend">Scenario 2: A movie streaming backend<a class="hash-link" aria-label="Direct link to Scenario 2: A movie streaming backend" title="Direct link to Scenario 2: A movie streaming backend" href="https://tailcall.run/blog/graphql-vs-grpc/#scenario-2-a-movie-streaming-backend">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="movie app example" src="https://tailcall.run/assets/images/services2-a55901f5189187f44c2b98357fdf3c12.png" width="1317" height="592" class="img_ev3q"></p>
<p>Imagine the backend of a movie-streaming app, where Content-Age-Rater, Relations-Builder, Subtitles-Generator, and Subtitles-Translator each have their own star roles. They rate movies, connect related content, create subtitles, and translate them with precision. With gRPC, these services chat efficiently, making sure data zips around quickly and smoothly. No extra baggage‚Äîjust a slick, high-performance team working seamlessly together. It‚Äôs like having a top-notch crew behind the scenes, making sure everything runs smooth! üé¨üçø</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenarios-for-using-graphql">Scenarios for Using GraphQL<a class="hash-link" aria-label="Direct link to Scenarios for Using GraphQL" title="Direct link to Scenarios for Using GraphQL" href="https://tailcall.run/blog/graphql-vs-grpc/#scenarios-for-using-graphql">‚Äã</a></h2>
<p>GraphQL shines when you need to tailor data fetching to match your frontend's needs precisely. It allows for fetching exactly the data you need, nothing more, nothing less, which can be a game-changer for optimizing performance and reducing over-fetching. This flexibility can really streamline interactions between the frontend and backend, especially in complex applications, as we discuss below:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenario-1-fetching-multiple-items">Scenario 1: Fetching Multiple Items<a class="hash-link" aria-label="Direct link to Scenario 1: Fetching Multiple Items" title="Direct link to Scenario 1: Fetching Multiple Items" href="https://tailcall.run/blog/graphql-vs-grpc/#scenario-1-fetching-multiple-items">‚Äã</a></h3>
<p>GitHub uses GraphQL to make fetching PR details a breeze. With gRPC, you'd have to set up different RPC methods for each data type‚Äîcomments, commits, changed files‚Äîpotentially resulting in several requests. Often, you just need the first and last comments right off the bat. GraphQL swoops in, pulling exactly those details with one neat query, cutting down on network strain and speeding things up.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">repository</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">owner</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"username"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"repository-name"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property-query">pullRequest</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">number</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">123</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">title</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">createdAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">updatedAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token object">author</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">login</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">avatarUrl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property-query">comments</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">first</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">2</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">orderBy</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token attr-name" style="color:#8DFFF8">field</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">CREATED_AT</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">direction</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">ASC</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token object">author</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token property" style="color:#C586C0">login</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token property" style="color:#C586C0">body</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token property" style="color:#C586C0">createdAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Instagram uses a smart approach to fetch just a handful of comments on a reel‚Äîthose that show up right under the title without diving into the full comments section. It‚Äôd be a hassle to pull 10 or 20 comments when only 5 are needed. This is where GraphQL shines, perfectly tuned for getting just the right data without any extra fluff.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scenario-2-ecommerce-app">Scenario 2: Ecommerce App<a class="hash-link" aria-label="Direct link to Scenario 2: Ecommerce App" title="Direct link to Scenario 2: Ecommerce App" href="https://tailcall.run/blog/graphql-vs-grpc/#scenario-2-ecommerce-app">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="graphql fetch" src="https://tailcall.run/assets/images/fetch-graphql-7654cf09b4e791d41abd96c3c505161d.png" width="631" height="498" class="img_ev3q"></p>
<p>Think about an ecommerce app with loads of products. On the explore page, users just want a quick snapshot‚Äîpicture, name, and a brief description. But when they dive into a product page, they‚Äôre looking for more details like weight and extra images. With gRPC, you‚Äôd need separate calls for each view, which can be a bit clunky and might pull in extra data. GraphQL, on the other hand, lets you customize your queries to get just what you need for each page, cutting down on excess data and making everything run smoother:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token object">products</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">shortDescription</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">imageUrl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>For the product details page:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">product</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"product-id"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">description</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">weight</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token object">images</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">url</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This approach makes data retrieval a breeze and keeps performance top-notch, highlighting why GraphQL shines in dynamic content and ecommerce apps over gRPC. It‚Äôs all about getting exactly what you need, when you need it, and keeping things running smoothly!</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="integrating-grpc-and-graphql">Integrating gRPC and GraphQL<a class="hash-link" aria-label="Direct link to Integrating gRPC and GraphQL" title="Direct link to Integrating gRPC and GraphQL" href="https://tailcall.run/blog/graphql-vs-grpc/#integrating-grpc-and-graphql">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="integrating both" src="https://tailcall.run/assets/images/integration-c4e7414eb97c3a5cbe3932002583d021.png" width="1639" height="883" class="img_ev3q"></p>
<p>Picture a social media app where the backend whips up user feeds based on activity. The frontend needs different data for various screens‚Äîblogs or videos‚Äîso grabbing everything at once would be overkill. GraphQL steps in to save the day by letting the frontend fetch just what it needs, keeping things snappy and efficient.</p>
<p>Meanwhile, backend services like feed-generator and logs-handler are busy creating and analyzing feeds. They require steady input and don‚Äôt need much tweaking once live. For this, gRPC is perfect with its lightning-fast performance and low latency.</p>
<p>By mixing GraphQL on the frontend with gRPC on the backend, you get a dynamic, high-performance setup. GraphQL fine-tunes data requests while gRPC keeps backend communication smooth.</p>
<p>Read this guide explaining the challenges and details associated with integrating gRPC and graphQL: <a href="https://tailcall.run/docs/graphql-grpc-tailcall/">Building GraphQL over gRPC</a> .</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-vs-grpc/#conclusion">‚Äã</a></h2>
<p>In summary, both gRPC and graphQL have numerous advantages over each other, where gRPC has:</p>
<ul>
<li>more boosted performance</li>
<li>Low payload sizes</li>
<li>Simple and intuitive API design</li>
</ul>
<p>On the other hand GraphQL takes the lead in:</p>
<ul>
<li>API flexibility</li>
<li>Friendly nature for web and mobile apps</li>
<li>Easier debugging</li>
</ul>
<p>It doesn‚Äôt matter which one is better, what truly matters is how good it is implemented, and how well it suits the use case. Remember - as Doug LInder likes to say -</p>
<p><strong><em>‚ÄúA good programmer is someone who always looks both ways before crossing a one-way street‚Äù</em></strong></p>
<p>this simple concept can elevate you to the top tier of programmers.</p>]]></content>
        <author>
            <name>Hunain Ahmed</name>
            <uri>https://github.com/hunxjunedo</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Design a GraphQL Schema So Good, It'll Make REST APIs Cry - Part 4]]></title>
        <id>https://tailcall.run/blog/graphql-schema-part-2-3/</id>
        <link href="https://tailcall.run/blog/graphql-schema-part-2-3/"/>
        <updated>2024-07-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how to remove schema elements without causing disruptions. Strategies to handle breaking changes and maintain backward compatibility.]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-do-you-already-know-">What Do You Already Know? üß†üí´<a class="hash-link" aria-label="Direct link to What Do You Already Know? üß†üí´" title="Direct link to What Do You Already Know? üß†üí´" href="https://tailcall.run/blog/graphql-schema-part-2-3/#what-do-you-already-know-">‚Äã</a></h2>
<div class="max-w-2xl mx-auto p-6 bg-gradient-to-r from-purple-100 to-blue-100 shadow-lg rounded-xl"><h2 class="text-3xl font-bold mb-6 text-center text-gray-800">GraphQL Schema Change<!-- --> Quiz!</h2><div><p class="mb-4 text-lg font-semibold text-gray-600">Question <!-- -->1<!-- -->/<!-- -->6</p><p class="text-xl font-bold mb-6 text-gray-800">What is a critical consideration before removing a field from a GraphQL schema?</p><div class="space-y-3"><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Ensuring the field is no longer in use by any clients</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Providing a detailed explanation in the schema documentation</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Immediately notifying all clients via email</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Replacing the field with a temporary placeholder</span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="removing-without-breaking-the-subtraction-subterfuge">Removing Without Breaking: The Subtraction Subterfuge<a class="hash-link" aria-label="Direct link to Removing Without Breaking: The Subtraction Subterfuge" title="Direct link to Removing Without Breaking: The Subtraction Subterfuge" href="https://tailcall.run/blog/graphql-schema-part-2-3/#removing-without-breaking-the-subtraction-subterfuge">‚Äã</a></h2>
<p>In our <a href="https://tailcall.run/blog/graphql-schema-part-2-2/">previous post</a>, we explored how to modify existing schema elements without causing disruptions. Now, we'll tackle the most challenging part: removing schema elements and handling breaking changes.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recap-of-additive-changes-and-modifications">Recap of Additive Changes and Modifications<a class="hash-link" aria-label="Direct link to Recap of Additive Changes and Modifications" title="Direct link to Recap of Additive Changes and Modifications" href="https://tailcall.run/blog/graphql-schema-part-2-3/#recap-of-additive-changes-and-modifications">‚Äã</a></h2>
<p>In <a href="https://tailcall.run/blog/graphql-schema-part-2-1/">Part 2</a>, we focused on additive changes, emphasizing the importance of expanding your schema's capabilities without disrupting existing clients. By adding new fields, types, and arguments, you can enhance your API while maintaining backward compatibility.</p>
<p>In <a href="https://tailcall.run/blog/graphql-schema-part-2-2/">Part 3</a>, we delved into modifying existing schema elements, discussing how to handle changes such as updating default values, transforming non-null fields to nullable, and changing field types. We highlighted the need for clear communication, providing transition paths, and leveraging schema design tools to minimize client disruptions.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="safe-dangerous-and-breaking-changes">Safe, Dangerous, and Breaking Changes<a class="hash-link" aria-label="Direct link to Safe, Dangerous, and Breaking Changes" title="Direct link to Safe, Dangerous, and Breaking Changes" href="https://tailcall.run/blog/graphql-schema-part-2-3/#safe-dangerous-and-breaking-changes">‚Äã</a></h3>
<ol>
<li><strong>Safe Changes:</strong> Additive changes such as adding new fields or types that do not affect existing queries or functionality.</li>
<li><strong>Dangerous Changes:</strong> Modifications that might not break the schema immediately but can cause subtle issues, such as changing default values or making non-nullable fields nullable.</li>
<li><strong>Breaking Changes:</strong> Changes that will definitely break existing queries and require clients to update their code, such as removing fields or changing field types.</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-subtraction-subterfuge">The Subtraction Subterfuge<a class="hash-link" aria-label="Direct link to The Subtraction Subterfuge" title="Direct link to The Subtraction Subterfuge" href="https://tailcall.run/blog/graphql-schema-part-2-3/#the-subtraction-subterfuge">‚Äã</a></h2>
<p>Removing things from your schema is almost always a breaking change. If you remove a field, type, or argument, clients that depend on it will break. You can't just take things away without consequences.</p>
<p>But sometimes, it's necessary. Here's how to do it without causing a riot.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-field-farewell">The Field Farewell<a class="hash-link" aria-label="Direct link to The Field Farewell" title="Direct link to The Field Farewell" href="https://tailcall.run/blog/graphql-schema-part-2-3/#the-field-farewell">‚Äã</a></h3>
<p>Let's say we want to remove a field because it's causing performance issues. Here's the smart way to do it:</p>
<ol>
<li>Introduce a replacement</li>
<li>Deprecate the old field</li>
<li>Wait (patiently!)</li>
<li>Remove when usage has died down</li>
</ol>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">  products(first: Int!): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  products(first: Int!): [Product!]! @deprecated(reason: ‚Äúproducts is deprecated and is getting replaced by the field `topProducts`.‚Äù)</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  topProducts(first: Int!): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>By introducing <code>topProducts</code> and deprecating <code>products</code>, we give our clients time to adapt. And hey, we've even improved our API in the process!</p>
<p>The old field may be removed after a certain period and if the usage for it has gone down. Keep in mind you don‚Äôt necessarily have to make the change unless absolutely needed. Additive changes and deprecations are sometimes enough to keep evolving the API.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-argument-abandonment">The Argument Abandonment<a class="hash-link" aria-label="Direct link to The Argument Abandonment" title="Direct link to The Argument Abandonment" href="https://tailcall.run/blog/graphql-schema-part-2-3/#the-argument-abandonment">‚Äã</a></h3>
<p>Removing an argument is similar to removing a field. You can deprecate it and</p>
<p>introduce a new field with the desired behavior. Clients will have time to migrate to the new field before the old one is removed.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">  products(first: Int!, featured: Boolean): String!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  products(first: Int!, featured: Boolean): String! @deprecated(reason: ‚Äúproducts is deprecated, use `allProducts` for products and `featuredProducts` to get products that are featured‚Äù)</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  allProducts(first: Int!): String!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  featuredProducts(first: Int!): String!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>If you need to make a change to an existing field, because arguments can‚Äôt be deprecated just yet, you should indicate that the argument is deprecated through its description.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> products(first: Int!, featured: Boolean): String!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  products(first: Int!,</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  # DEPRECATED: This argument will be removed. Use query `featuredProducts`.</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  featured: Boolean</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   ): String!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-type-deletion-dilemma">The Type Deletion Dilemma<a class="hash-link" aria-label="Direct link to The Type Deletion Dilemma" title="Direct link to The Type Deletion Dilemma" href="https://tailcall.run/blog/graphql-schema-part-2-3/#the-type-deletion-dilemma">‚Äã</a></h3>
<p>Sometimes, you need to remove an entire type from your schema. This is a major operation and requires careful planning.</p>
<ol>
<li>First, deprecate all fields that return this type:</li>
</ol>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">oldUser</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">OldUser</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@deprecated</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">reason</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Use `user` query with new User type instead"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<ol start="2">
<li>If the type is part of a union or implements an interface, you'll need to be extra cautious. These can't be easily deprecated, so clear communication is key.</li>
<li>Finally, after a long deprecation period and when usage has dropped to zero, you can remove the type entirely.</li>
</ol>
<p>Note that you might want to deprecate using that type within your codebase to avoid developers to use that User type for new fields. Removing a type is even trickier when it‚Äôs part of union types or implements interfaces. Once again, union members and interface implementations cannot be marked as deprecated. This means that fields like node may stop working correctly if the type you‚Äôre removing was reachable through that field.</p>
<p>Your best bet in these cases are to either keep this type as part of unions and through interfaces or to communicate that change very carefully through descriptions and out of band communication like documentation and emails.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-schema-part-2-3/#conclusion">‚Äã</a></h2>
<p>Removing schema elements is a delicate process that requires strategic planning and clear communication to avoid breaking changes. By following the principles and strategies outlined in this article, you can confidently remove fields, arguments, and types while minimizing disruption to your clients.</p>
<p>Remember these key takeaways:</p>
<ol>
<li><strong>Deprecate Cautiously</strong>: Use deprecation notices, schema descriptions, and out-of-band communication to keep your clients informed about upcoming changes.</li>
<li><strong>Provide Transition Paths</strong>: When breaking changes are necessary, offer clear migration paths. This might involve introducing new fields alongside deprecated ones or providing new query structures that achieve the same results.</li>
<li><strong>Monitor Usage</strong>: Keep an eye on usage metrics to determine when it's safe to remove deprecated elements. Don't rush the process ‚Äì give your clients time to adapt.<!-- -->
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Tailcall supports a variety of integrations with monitoring tools to help you track usage metrics and make informed decisions about schema changes. you can check out our <a href="https://tailcall.run/docs/graphql-data-dog-telemetry-tailcall/">documentation</a> for more information.</p></div></div>
</li>
</ol>
<p>By treating your GraphQL schema as a product with its own lifecycle and evolution strategy, you can build APIs that are both powerful and adaptable. This approach allows you to innovate rapidly while providing a stable and reliable service to your clients.</p>
<p>Remember, a great GraphQL schema is never truly finished ‚Äì it's a living, breathing entity that grows and evolves with your application's needs. Embrace this continuous evolution, and you'll create APIs that stand the test of time.</p>]]></content>
        <author>
            <name>Amit Singh</name>
            <uri>https://github.com/amitksingh1490</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="API" term="API"/>
        <category label="Schema" term="Schema"/>
        <category label="Design" term="Design"/>
        <category label="Best Practices" term="Best Practices"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Design a GraphQL Schema So Good, It'll Make REST APIs Cry - Part 3]]></title>
        <id>https://tailcall.run/blog/graphql-schema-part-2-2/</id>
        <link href="https://tailcall.run/blog/graphql-schema-part-2-2/"/>
        <updated>2024-07-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how to modify existing schema elements in GraphQL without causing disruptions.]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-do-you-already-know-">What Do You Already Know? üß†üí´<a class="hash-link" aria-label="Direct link to What Do You Already Know? üß†üí´" title="Direct link to What Do You Already Know? üß†üí´" href="https://tailcall.run/blog/graphql-schema-part-2-2/#what-do-you-already-know-">‚Äã</a></h2>
<div class="max-w-2xl mx-auto p-6 bg-gradient-to-r from-purple-100 to-blue-100 shadow-lg rounded-xl"><h2 class="text-3xl font-bold mb-6 text-center text-gray-800">GraphQL Schema Change<!-- --> Quiz!</h2><div><p class="mb-4 text-lg font-semibold text-gray-600">Question <!-- -->1<!-- -->/<!-- -->5</p><p class="text-xl font-bold mb-6 text-gray-800">Changing the default value of an argument is considered a:</p><div class="space-y-3"><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Safe change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Dangerous change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Breaking change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Non-issue</span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="modifying-without-breaking-navigating-the-modification-minefield">Modifying Without Breaking: Navigating the Modification Minefield<a class="hash-link" aria-label="Direct link to Modifying Without Breaking: Navigating the Modification Minefield" title="Direct link to Modifying Without Breaking: Navigating the Modification Minefield" href="https://tailcall.run/blog/graphql-schema-part-2-2/#modifying-without-breaking-navigating-the-modification-minefield">‚Äã</a></h2>
<p>In our <a href="https://tailcall.run/blog/graphql-schema-part-2-1/">previous post</a>, we explored how to make additive changes to your GraphQL schema without causing disruptions. Now, we'll dive into the tricky territory of modifying existing schema elements.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recap-of-additive-changes">Recap of Additive Changes<a class="hash-link" aria-label="Direct link to Recap of Additive Changes" title="Direct link to Recap of Additive Changes" href="https://tailcall.run/blog/graphql-schema-part-2-2/#recap-of-additive-changes">‚Äã</a></h2>
<p>In <a href="https://tailcall.run/blog/graphql-schema-part-2-1/">Part 2</a>, we discussed the importance of making additive changes to your GraphQL schema to expand its capabilities while maintaining backward compatibility. By adding new fields, types, and arguments, you can enhance your API without causing disruptions to existing clients. We also emphasized the importance of providing transition paths to ensure a smooth adoption process.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="safe-dangerous-and-breaking-changes">Safe, Dangerous, and Breaking Changes<a class="hash-link" aria-label="Direct link to Safe, Dangerous, and Breaking Changes" title="Direct link to Safe, Dangerous, and Breaking Changes" href="https://tailcall.run/blog/graphql-schema-part-2-2/#safe-dangerous-and-breaking-changes">‚Äã</a></h3>
<ol>
<li><strong>Safe Changes:</strong> Additive changes such as adding new fields or types that do not affect existing queries or functionality.</li>
<li><strong>Dangerous Changes:</strong> Modifications that might not break the schema immediately but can cause subtle issues, such as changing default values or making non-nullable fields nullable.</li>
<li><strong>Breaking Changes:</strong> Changes that will definitely break existing queries and require clients to update their code, such as removing fields or changing field types.</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-modification-minefield">The Modification Minefield<a class="hash-link" aria-label="Direct link to The Modification Minefield" title="Direct link to The Modification Minefield" href="https://tailcall.run/blog/graphql-schema-part-2-2/#the-modification-minefield">‚Äã</a></h2>
<p>Now, let's talk about modifying existing parts of your schema. This is where things can get really hairy. For example, changing a field‚Äôs type or changing the name of a type is a big-breaking change.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-default-value-dilemma">The Default Value Dilemma<a class="hash-link" aria-label="Direct link to The Default Value Dilemma" title="Direct link to The Default Value Dilemma" href="https://tailcall.run/blog/graphql-schema-part-2-2/#the-default-value-dilemma">‚Äã</a></h3>
<p>Changing default values might seem innocent, but it can cause some serious headaches. Consider this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">  products(category: String, showOutOfStock: Boolean = False): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  products(category: String, showOutOfStock: Boolean = True): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Changing the default value of an argument or input field is unlikely to be a breaking change in terms of the schema itself, but is very likely to cause issues at runtime if the default value affects the runtime behavior of the field.</p>
<p>Avoid this change in general, but it may be possible to achieve if the behavior of the field does not change.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-non-null-to-null-transformation">The Non-Null to Null Transformation<a class="hash-link" aria-label="Direct link to The Non-Null to Null Transformation" title="Direct link to The Non-Null to Null Transformation" href="https://tailcall.run/blog/graphql-schema-part-2-2/#the-non-null-to-null-transformation">‚Äã</a></h3>
<p>This is one of the trickiest changes to make. You thought making a field non-null was a good idea, but now you need to change it back. Here's how to handle it:</p>
<p>For scalar fields, you might be able to save your users from errors by returning the <code>default value</code> instead of null.</p>
<p>For object types, sometimes it‚Äôs possible to use a <code>Default Object</code> when the result is null.</p>
<p>This approach can help prevent null pointer exceptions on the client side.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="changing-a-field-type">Changing a Field Type<a class="hash-link" aria-label="Direct link to Changing a Field Type" title="Direct link to Changing a Field Type" href="https://tailcall.run/blog/graphql-schema-part-2-2/#changing-a-field-type">‚Äã</a></h3>
<p>Changing a field‚Äôs type is not a change we can make easily. Once again, approaching the change in an additive is often your best bet.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type User {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> bestFriend: String! @deprecated(reason: ‚ÄúUse `bestFriendObject` instead.‚Äù)</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> bestFriendObject: User!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>As you might have noticed, the downside of additive changes is that often the best names are already taken. If wanted, you may remove the original field and reintroduce it under the new object at that point.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type User {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> bestFriend: String! @deprecated(reason: ‚ÄúUse `bestFriendObject` instead.‚Äù)</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> bestFriendObject: User!</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> bestFriend: User!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="changing-description-or-deprecation">Changing Description or Deprecation<a class="hash-link" aria-label="Direct link to Changing Description or Deprecation" title="Direct link to Changing Description or Deprecation" href="https://tailcall.run/blog/graphql-schema-part-2-2/#changing-description-or-deprecation">‚Äã</a></h3>
<p>Changing the description of fields, types and any member is unlikely to cause any harm to clients. Clients should not depend on schema descriptions for runtime logic!</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-schema-part-2-2/#conclusion">‚Äã</a></h2>
<p>Modifying existing schema elements requires careful planning and execution to avoid breaking changes. By following the principles and strategies outlined in this article, you can confidently make necessary modifications while minimizing disruption to your clients.</p>
<p>Remember these key takeaways:</p>
<ol>
<li><strong>Deprecate Cautiously</strong>: Use deprecation notices, schema descriptions, and out-of-band communication to keep your clients informed about upcoming changes.</li>
<li><strong>Provide Transition Paths</strong>: When breaking changes are necessary, offer clear migration paths. This might involve introducing new fields alongside deprecated ones or providing new query structures that achieve the same results.</li>
<li><strong>Leverage Schema Design Tools</strong>: Use schema comparison tools like <a href="https://github.com/graphql-editor/graphql-editor" target="_blank" rel="noopener noreferrer">GraphQL Editor</a>.</li>
</ol>
<p>By treating your GraphQL schema as a product with its own lifecycle and evolution strategy, you can build APIs that are both powerful and adaptable. This approach allows you to innovate rapidly while providing a stable and reliable service to your clients.</p>
<p>Stay tuned for the <a href="https://tailcall.run/blog/graphql-schema-part-2-3/">next part</a> of this series, where we will dive into removing schema elements and handling breaking changes!</p>]]></content>
        <author>
            <name>Amit Singh</name>
            <uri>https://github.com/amitksingh1490</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="API" term="API"/>
        <category label="Schema" term="Schema"/>
        <category label="Design" term="Design"/>
        <category label="Best Practices" term="Best Practices"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Design a GraphQL Schema So Good, It'll Make REST APIs Cry - Part 2]]></title>
        <id>https://tailcall.run/blog/graphql-schema-part-2-1/</id>
        <link href="https://tailcall.run/blog/graphql-schema-part-2-1/"/>
        <updated>2024-07-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how to make additive changes to your GraphQL schema without causing disruptions.]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-do-you-already-know-">What Do You Already Know? üß†üí´<a class="hash-link" aria-label="Direct link to What Do You Already Know? üß†üí´" title="Direct link to What Do You Already Know? üß†üí´" href="https://tailcall.run/blog/graphql-schema-part-2-1/#what-do-you-already-know-">‚Äã</a></h2>
<div class="max-w-2xl mx-auto p-6 bg-gradient-to-r from-purple-100 to-blue-100 shadow-lg rounded-xl"><h2 class="text-3xl font-bold mb-6 text-center text-gray-800">GraphQL Schema Change<!-- --> Quiz!</h2><div><p class="mb-4 text-lg font-semibold text-gray-600">Question <!-- -->1<!-- -->/<!-- -->5</p><p class="text-xl font-bold mb-6 text-gray-800">Adding a new field to a GraphQL schema is generally a:</p><div class="space-y-3"><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Safe change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Dangerous change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Breaking change</span></button><button class="w-full text-left p-4 rounded-lg transition-all duration-300 bg-white hover:bg-gray-100 shadow-md"><span class="text-lg font-medium">Requires deprecation</span></button></div></div></div>
<p>In our <a href="https://tailcall.run/blog/graphql-schema/">previous post</a>, we learned scalable GraphQL schema is critical for building production-ready APIs that can evolve with your application's needs.</p>
<p>In this post, we will dive deeper into how to <strong>continuously</strong> evolve your schema to meet your application's changing requirements without hard-coded versioning.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adding-without-breaking-the-art-of-additive-changes">Adding Without Breaking: The Art of Additive Changes<a class="hash-link" aria-label="Direct link to Adding Without Breaking: The Art of Additive Changes" title="Direct link to Adding Without Breaking: The Art of Additive Changes" href="https://tailcall.run/blog/graphql-schema-part-2-1/#adding-without-breaking-the-art-of-additive-changes">‚Äã</a></h2>
<p>You know that feeling when you're working on a project, and suddenly you realize your schema needs to change? Maybe you need to add a new field, modify an existing one, or even remove something entirely. It's enough to make any developer break out in a cold sweat, right?</p>
<p>But fear not! I'm here to show you <strong>how to evolve your schema like a pro</strong>, keeping your API fresh and exciting without causing your clients to tear their hair out.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-good-the-bad-and-the-ugly-of-schema-changes">The Good, The Bad, and The Ugly of Schema Changes<a class="hash-link" aria-label="Direct link to The Good, The Bad, and The Ugly of Schema Changes" title="Direct link to The Good, The Bad, and The Ugly of Schema Changes" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-good-the-bad-and-the-ugly-of-schema-changes">‚Äã</a></h2>
<p>Not all changes are created equal. In this section, we‚Äôll analyze a few different types of changes and what makes them safe or unsafe.</p>
<p>First things first, let's break down the types of changes we might make to our schema:</p>
<ol>
<li><strong>Safe Changes:</strong> These are the golden children of schema evolution. You can make these changes anytime, and your clients won't even bat an eyelash.</li>
<li><strong>Dangerous Changes:</strong> These are the sneaky ones. They might not break anything outright, but they can cause subtle issues that'll have your clients scratching their heads. We'll need to proceed carefully here.</li>
<li><strong>Breaking Changes:</strong> The name says it all. These changes will send your clients' applications crashing down faster than you can say "<strong>GraphQL</strong>". We want to avoid these like the plague, but sometimes they're necessary. Don't worry, I'll show you how to handle them like a pro.</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="additive-changes">Additive Changes<a class="hash-link" aria-label="Direct link to Additive Changes" title="Direct link to Additive Changes" href="https://tailcall.run/blog/graphql-schema-part-2-1/#additive-changes">‚Äã</a></h2>
<p>Most of the time, these are safe as houses.</p>
<p>For example, adding fields &amp; adding types is unlikely to cause issues for clients. But, there are a few tricky scenarios to watch out for.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-optional-argument-conundrum">The Optional Argument Conundrum<a class="hash-link" aria-label="Direct link to The Optional Argument Conundrum" title="Direct link to The Optional Argument Conundrum" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-optional-argument-conundrum">‚Äã</a></h3>
<p>Adding optional arguments is generally safe - it's like offering your clients a shiny new toy without forcing them to play with it.</p>
<p>However, there's a catch. Check this out:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">   products(category: String): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   products(category: String, inStock: Boolean): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>See what we did there? We added an optional <code>inStock</code> argument. Seems harmless, right?</p>
<p>Let's dive deeper into why changing the behavior of a resolver when an optional argument isn't provided can be problematic:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">products</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">category</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">inStock</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Boolean</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Product</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Imagine you have clients that have been using this query:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">products</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">category</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Electronics"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">price</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>If your resolver suddenly starts filtering out out-of-stock products when <code>inStock</code> isn't provided, these clients will unexpectedly receive fewer results. This could break their UI or data processing logic.</p>
<p>To avoid this issue, you can implement a strategy to handle the absence of the <code>inStock</code> argument gracefully in your resolver, so that the behavior remains consistent for clients.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-required-argument-trap">The Required Argument Trap<a class="hash-link" aria-label="Direct link to The Required Argument Trap" title="Direct link to The Required Argument Trap" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-required-argument-trap">‚Äã</a></h3>
<p>Now, this is where things get spicy üå∂Ô∏è.</p>
<p>Adding a required argument is almost always a <strong>breaking change</strong>.</p>
<p>But, fear not! There's a way out:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">   products(category: String): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   products(category: String, sortBy: SortOption!): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This change is <strong>breaking</strong>, but it doesn't have to be.</p>
<p>You can provide a <strong>default value</strong> for the new argument to keep your existing clients happy.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">type Query {</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">    products(category: String): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    products(category: String, sortBy: SortOption! = POPULARITY): [Product!]!</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>See that <code>= POPULARITY</code>? That's your get-out-of-jail-free card. By providing a default value, you've made this addition safe.</p>
<p>Existing clients will use the default, and new clients can take advantage of the sorting option.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-interface-and-union-twist">The Interface and Union Twist<a class="hash-link" aria-label="Direct link to The Interface and Union Twist" title="Direct link to The Interface and Union Twist" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-interface-and-union-twist">‚Äã</a></h3>
<p>Now, let's talk about some trickier additive changes that can catch you off guard if you're not careful.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adding-new-interface-implementations">Adding New Interface Implementations<a class="hash-link" aria-label="Direct link to Adding New Interface Implementations" title="Direct link to Adding New Interface Implementations" href="https://tailcall.run/blog/graphql-schema-part-2-1/#adding-new-interface-implementations">‚Äã</a></h3>
<p>Adding a new type that implements an existing interface might seem harmless, but it can cause some unexpected behavior. Check this out:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Team</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Organization</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">employees</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">User</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>By adding the <code>Organization</code> type, we've expanded what could be returned by queries selecting for <code>Node</code>. This could break clients that aren't prepared to handle new types. Always encourage clients to use proper type checking.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">node</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"1"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token operator" style="color:#8DFFF8">...</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">on</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token operator" style="color:#8DFFF8">...</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">on</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Team</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token operator" style="color:#8DFFF8">...</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">on</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Organization</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token object">employees</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Without proper type checking, clients might encounter these issues:</p>
<ol>
<li><strong>Runtime Errors:</strong> If a client assumes all Node types have only a name field, they might try to access <code>employees</code> on a <code>User</code> or <code>Team</code>, causing errors.</li>
<li><strong>Missing Data:</strong> Clients might not display Organization-specific data if they're not prepared to handle it.</li>
<li><strong>Incorrect Data Processing:</strong> Business logic that assumes only <code>User</code> and <code>Team</code> types exist might produce incorrect results.</li>
</ol>
<p>To mitigate these issues:</p>
<ol>
<li>Use TypeScript or Flow on the client-side to catch type errors at compile-time.</li>
<li>Implement exhaustive type checking in your client code:</li>
</ol>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleNode</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">node</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> Node</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">__typename</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"User"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleUser</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Team"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleTeam</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Organization"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleOrganization</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">default</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> _exhaustiveCheck</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">never</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> node</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">Unhandled node type: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation">_exhaustiveCheck </span><span class="token template-string interpolation keyword" style="color:#C586C0">as</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation builtin">any</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">__typename</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This approach ensures that if a new type is added in the future, TypeScript will raise a compile-time error, prompting developers to update their code.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-union-expansion-conundrum">The Union Expansion Conundrum<a class="hash-link" aria-label="Direct link to The Union Expansion Conundrum" title="Direct link to The Union Expansion Conundrum" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-union-expansion-conundrum">‚Äã</a></h3>
<p>Similar to interfaces, adding new members to a union can cause runtime surprises. Consider this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">  union SearchResult = User | Post</span><br></span><span class="token-line" style="color:#fff"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  union SearchResult = User | Post | Comment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Surprise! Your clients might suddenly receive a type they weren't expecting. It's like opening a box of chocolates and finding a pickle - not necessarily bad, but definitely unexpected. Make sure to document how clients should handle these surprise types.</p>
<p>Let's delve into why union expansions can be tricky and how to handle them gracefully:</p>
<p>When you add <code>Comment</code> to the <code>SearchResult</code> union, existing clients might break in subtle ways:</p>
<ol>
<li><strong>Incomplete UI:</strong> If the client only has UI components for <code>User</code> and <code>Post</code>, <code>Comment</code> results won't be displayed.</li>
<li><strong>Runtime Errors:</strong> Code that assumes only <code>User</code> and <code>Post</code> types exist might throw errors when encountering a <code>Comment</code>.</li>
</ol>
<p>To handle this gracefully:</p>
<ol>
<li>
<p>Implement a fallback UI component for unknown types:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">SearchResultItem</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">.</span><span class="token property-access">__typename</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"User"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#fff">&lt;</span><span class="token tag class-name" style="color:#C586C0">UserResult</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag attr-name" style="color:#8DFFF8">user</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#fff">=</span><span class="token tag script language-javascript punctuation" style="color:#fff">{</span><span class="token tag script language-javascript" style="color:#24292E">result</span><span class="token tag script language-javascript punctuation" style="color:#fff">}</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag punctuation" style="color:#fff">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Post"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#fff">&lt;</span><span class="token tag class-name" style="color:#C586C0">PostResult</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag attr-name" style="color:#8DFFF8">post</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#fff">=</span><span class="token tag script language-javascript punctuation" style="color:#fff">{</span><span class="token tag script language-javascript" style="color:#24292E">result</span><span class="token tag script language-javascript punctuation" style="color:#fff">}</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag punctuation" style="color:#fff">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Comment"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#fff">&lt;</span><span class="token tag class-name" style="color:#C586C0">CommentResult</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag attr-name" style="color:#8DFFF8">comment</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#fff">=</span><span class="token tag script language-javascript punctuation" style="color:#fff">{</span><span class="token tag script language-javascript" style="color:#24292E">result</span><span class="token tag script language-javascript punctuation" style="color:#fff">}</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag punctuation" style="color:#fff">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">default</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#fff">&lt;</span><span class="token tag class-name" style="color:#C586C0">UnknownResultType</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag attr-name" style="color:#8DFFF8">type</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#fff">=</span><span class="token tag script language-javascript punctuation" style="color:#fff">{</span><span class="token tag script language-javascript" style="color:#24292E">result</span><span class="token tag script language-javascript punctuation" style="color:#fff">.</span><span class="token tag script language-javascript property-access" style="color:#24292E">__typename</span><span class="token tag script language-javascript punctuation" style="color:#fff">}</span><span class="token tag" style="color:#b76b01"> </span><span class="token tag punctuation" style="color:#fff">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p>Encourage clients to use introspection queries to stay updated on schema changes:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">__type</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"SearchResult"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">kinds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token object">possibleTypes</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
</ol>
<p>By implementing these strategies, clients can gracefully handle new union members without breaking existing functionality.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-enum-evolution">The Enum Evolution<a class="hash-link" aria-label="Direct link to The Enum Evolution" title="Direct link to The Enum Evolution" href="https://tailcall.run/blog/graphql-schema-part-2-1/#the-enum-evolution">‚Äã</a></h3>
<p>Adding new enum values seems innocent enough, but it can impact client-side logic. Let's look at an example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> enum OrderStatus {</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  PENDING</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  COMPLETED</span><br></span><span class="token-line" style="color:#fff"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  CANCELED</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  REFUNDED</span><br></span><span class="token-line" style="color:#fff"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Clients that were using exhaustive switches might now have incomplete logic. Encourage clients to use default cases to handle new enum values.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">order</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"PENDING"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Order is pending"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"COMPLETED"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Order is completed"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">default</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"Order status unknown"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-schema-part-2-1/#conclusion">‚Äã</a></h2>
<p>Evolving a GraphQL schema through additive changes allows you to expand your API's capabilities while maintaining backward compatibility. By following the principles and strategies outlined in this article, you can confidently add new fields, types, and arguments without causing disruptions to your clients.</p>
<p>Remember these key takeaways:</p>
<ol>
<li>
<p><strong>Favor Additive Changes</strong>: Whenever possible, add new fields, types, or arguments instead of modifying existing ones. This approach maintains backward compatibility while allowing your schema to grow.</p>
</li>
<li>
<p><strong>Provide Transition Paths</strong>: Introduce new features alongside existing ones to allow gradual client adoption.</p>
</li>
</ol>
<p>By treating your GraphQL schema as a product with its own lifecycle and evolution strategy, you can build APIs that are both powerful and adaptable. This approach allows you to innovate rapidly while providing a stable and reliable service to your clients.</p>
<p>Stay tuned for the <a href="https://tailcall.run/blog/graphql-schema-part-2-2/">next part</a> of this series, where we will dive into removing schema elements and handling breaking changes!</p>]]></content>
        <author>
            <name>Amit Singh</name>
            <uri>https://github.com/amitksingh1490</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="API" term="API"/>
        <category label="Schema" term="Schema"/>
        <category label="Design" term="Design"/>
        <category label="Best Practices" term="Best Practices"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Apollo vs Urql vs Fetch: The Ultimate Showdown]]></title>
        <id>https://tailcall.run/blog/graphql-angular-client/</id>
        <link href="https://tailcall.run/blog/graphql-angular-client/"/>
        <updated>2024-07-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We pushed each method to its limits. Here's what we discovered.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="Cover Image for Angular with GraphQL" src="https://tailcall.run/assets/images/angular-with-graphql-d966a730f483df80da6226549c7dd945.png" width="1283" height="609" class="img_ev3q"></p>
<p>Angular developers often face the challenge of efficiently fetching and managing data from GraphQL APIs. This comprehensive guide dives into five powerful approaches for integrating GraphQL into your Angular applications. We'll explore everything from full-featured client libraries to lightweight solutions, using a practical example of fetching post data to demonstrate each method's strengths and nuances.</p>
<p>Our journey will take us through Apollo Angular, Urql, GraphQL-Request, Axios, and the native Fetch API, each offering unique advantages for different project needs. Whether you're building a small-scale application or a complex enterprise system, this guide will equip you with the knowledge to choose the best GraphQL integration method for your Angular project.</p>
<p>We'll not only cover the implementation details but also delve into error handling strategies, providing you with robust solutions to gracefully manage various API-related issues. By the end of this guide, you'll have a clear understanding of how to leverage GraphQL in Angular, complete with code snippets, real-world analogies, and a detailed comparison table to aid your decision-making process.</p>
<p>So, buckle up and get ready to supercharge your Angular applications with the power of GraphQL!</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><em><strong>NB</strong>: We are not using the traditional NgModule-based Angular applications instead we will be using the newer standalone component approach; below is the version of angular cli version used throughout the guide.</em></p></div></div>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">ng version</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    _                      _                 ____ _     ___</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">   / \   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  / ‚ñ≥ \ | '_ \ / _` | | | | |/ _` | '__|   | |   | |    | |</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> / ___ \| | | | (_| | |_| | | (_| | |      | |___| |___ | |</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">/_/   \_\_| |_|\__, |\__,_|_|\__,_|_|       \____|_____|___|</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Angular CLI: 18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Node: 20.12.2</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Package Manager: npm 10.5.0</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">OS: linux x64</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Angular: 18.0.6</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">... animations, common, compiler, compiler-cli, core, forms</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">... platform-browser, platform-browser-dynamic, platform-server</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">... router</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">Package                         Version</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">---------------------------------------------------------</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular-devkit/architect       0.1800.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular-devkit/build-angular   18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular-devkit/core            18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular-devkit/schematics      18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular/cli                    18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@angular/ssr                    18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">@schematics/angular             18.0.7</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">rxjs                            7.8.1</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">typescript                      5.4.5</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">zone.js                         0.14.7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We'll be using a Tailcall backend that wraps the JSONPlaceholder API, providing a GraphQL interface to RESTful data.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="Ô∏è-project-setup">üõ†Ô∏è Project Setup<a class="hash-link" aria-label="Direct link to üõ†Ô∏è Project Setup" title="Direct link to üõ†Ô∏è Project Setup" href="https://tailcall.run/blog/graphql-angular-client/#%EF%B8%8F-project-setup">‚Äã</a></h3>
<p>First, let's set up our Angular project:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">ng new angular-graphql-tailcall-showcase</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">cd angular-graphql-tailcall-showcase</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="-tailcall-backend-configuration">üîß Tailcall Backend Configuration<a class="hash-link" aria-label="Direct link to üîß Tailcall Backend Configuration" title="Direct link to üîß Tailcall Backend Configuration" href="https://tailcall.run/blog/graphql-angular-client/#-tailcall-backend-configuration">‚Äã</a></h3>
<p>Create a tailcall directory in the project root and add a jsonplaceholder.graphql file:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token comment" style="color:#30C26D;font-style:italic"># File: tailcall/jsonplaceholder.graphql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">port</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">8000</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token attr-name" style="color:#8DFFF8">hostname</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"0.0.0.0"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@upstream</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">baseURL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token description string" style="color:#FDB869">"</span><span class="token description string language-markdown" style="color:#FDB869">http://jsonplaceholder.typicode.com</span><span class="token description string" style="color:#FDB869">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">httpCache</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">42</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/posts"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/users/{{.args.id}}"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">username</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">phone</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">website</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/users/{{.value.userId}}"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>To start the Tailcall server, run:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">tailcall start ./tailcall/jsonplaceholder.graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-apollo-angular---the-luxury-sports-car-of-graphql-clients">1. Apollo Angular - The Luxury Sports Car of GraphQL Clients<a class="hash-link" aria-label="Direct link to 1. Apollo Angular - The Luxury Sports Car of GraphQL Clients" title="Direct link to 1. Apollo Angular - The Luxury Sports Car of GraphQL Clients" href="https://tailcall.run/blog/graphql-angular-client/#1-apollo-angular---the-luxury-sports-car-of-graphql-clients">‚Äã</a></h3>
<p>First up on our list is Apollo Angular. If GraphQL clients were cars, Apollo would be the Tesla of the bunch - sleek, powerful, and packed with features you didn't even know you needed. Let's pop the hood and see what makes this beauty purr!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installation-and-integration-steps">Installation and Integration Steps<a class="hash-link" aria-label="Direct link to Installation and Integration Steps" title="Direct link to Installation and Integration Steps" href="https://tailcall.run/blog/graphql-angular-client/#installation-and-integration-steps">‚Äã</a></h4>
<p>Before we can take Apollo for a spin, we need to get it set up in our garage (I mean, project). Here's how:</p>
<ol>
<li>
<p><strong>Install the necessary packages:</strong>:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">npm install apollo-angular @apollo/client graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Configure Apollo in your <code>app.config.ts</code></strong>:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">APOLLO_OPTIONS</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token maybe-class-name">ApolloModule</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'apollo-angular'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#fff">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">HttpLink</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'apollo-angular/http'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#fff">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">InMemoryCache</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'@apollo/client/core'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token comment" style="color:#30C26D;font-style:italic">// In your ApplicationConfig</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token literal-property property" style="color:#C586C0">providers</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token function" style="color:#FDEA2F">importProvidersFrom</span><span class="token punctuation" style="color:#fff">(</span><span class="token maybe-class-name">ApolloModule</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token literal-property property" style="color:#C586C0">provide</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">APOLLO_OPTIONS</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token function-variable function" style="color:#FDEA2F">useFactory</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token parameter literal-property property" style="color:#C586C0">httpLink</span><span class="token parameter operator" style="color:#8DFFF8">:</span><span class="token parameter" style="color:#953800"> </span><span class="token parameter maybe-class-name" style="color:#953800">HttpLink</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">         </span><span class="token literal-property property" style="color:#C586C0">cache</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">InMemoryCache</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">         </span><span class="token literal-property property" style="color:#C586C0">link</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> httpLink</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">create</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">         </span><span class="token literal-property property" style="color:#C586C0">uri</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'/graphql'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">         </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token literal-property property" style="color:#C586C0">deps</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token maybe-class-name">HttpLink</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">     </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Code Snippets</strong>
Now that we've got our Apollo rocket fueled up, let's see it in action! Here's a component that fetches a list of posts using Apollo in <code>src/app/apollo-angular/post-list.component.ts</code>:</p>
</li>
</ol>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">Component</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> OnDestroy</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/common"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">Apollo</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> gql</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"apollo-angular"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  catchError</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  takeUntil</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  mergeMap</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"rxjs/operators"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">Subject</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">of</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> throwError</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"rxjs"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token decorator at operator" style="color:#8DFFF8">@</span><span class="token decorator function" style="color:#FDEA2F">Component</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  selector</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"app-apollo-post-list"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  standalone</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  imports</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  template</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;h2&gt;Posts (Apollo Angular)&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="fetchPosts()" [disabled]="loading"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ loading ? "Loading..." : "Load Posts" }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerNetworkError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Network Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerGraphQLError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger GraphQL Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerUnexpectedError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Unexpected Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;ul *ngIf="!error"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      &lt;li *ngFor="let post of posts"&gt;{{ post.title }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;div *ngIf="error" class="error-message"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ error }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">  </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  styles</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      .error-message {</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        color: red;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        margin-top: 10px;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      }</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">export</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">class</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ApolloPostListComponent</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">OnDestroy</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (component properties and constructor)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">fetchPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> query </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql keyword" style="color:#C586C0">query</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql definition-query function" style="color:#FDEA2F">GetPosts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar" style="color:#8DFFF8">Int</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property-query">posts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql attr-name" style="color:#8DFFF8">limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">id</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">title</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string graphql language-graphql property interpolation keyword" style="color:#C586C0">this</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#fff">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#C586C0">simulateGraphQLError</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation operator" style="color:#8DFFF8">?</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation string" style="color:#FDB869">"nonExistentField"</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation string" style="color:#FDB869">""</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">apollo</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">watchQuery</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        query</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> query</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        variables</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          limit</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">valueChanges</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">pipe</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function" style="color:#FDEA2F">takeUntil</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">unsubscribe$</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function" style="color:#FDEA2F">mergeMap</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateNetworkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">throwError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">              </span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated network error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateUnexpectedError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated unexpected error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">of</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function" style="color:#FDEA2F">catchError</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">of</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">null</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">subscribe</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function-variable function" style="color:#FDEA2F">next</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">data</span><span class="token operator" style="color:#8DFFF8">?.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function-variable function" style="color:#FDEA2F">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token function-variable function" style="color:#FDEA2F">complete</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (error handling and simulation methods)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Wow, would you look at that beauty? üòç This component is like a finely tuned engine, ready to fetch your posts with the precision of a Swiss watch. Let's break down what's happening here:</p>
<ol>
<li>We're using Apollo's watchQuery method to fetch our posts. It's like having a personal assistant who's always on the lookout for the latest data.</li>
<li>We've got some nifty error simulation methods. It's like having a crash test dummy for your data fetching - you can deliberately cause errors to see how your app handles them. Safety first, right?</li>
<li>The mergeMap operator is our traffic controller, deciding whether to let the data through or throw an error based on our simulation flags.</li>
<li>We're using takeUntil with a Subject to ensure we clean up our subscriptions when the component is destroyed. It's like having an eco-friendly car that doesn't leave any pollution (memory leaks) behind!</li>
<li>The template gives us a simple UI to fetch posts and trigger various error scenarios. It's like having a dashboard with different buttons to test your car's performance.</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="https://tailcall.run/blog/graphql-angular-client/#error-handling">‚Äã</a></h4>
<p>Speaking of errors, Apollo doesn't just fetch data - it's got your back when things go wrong. Check out this error handling logic:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">networkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Network error. Please check your internet connection.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">graphQLErrors</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">GraphQL error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">graphQLErrors</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">        </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">map</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation">e</span><span class="token template-string interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#fff">{</span><span class="token template-string interpolation"> message</span><span class="token template-string interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation builtin">any</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#fff">}</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">=&gt;</span><span class="token template-string interpolation"> e</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">        </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">join</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation string" style="color:#FDB869">', '</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'Error fetching posts'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This error handler is like having a built-in mechanic. Whether it's a network issue (like running out of gas) or a GraphQL error (engine trouble), it's got you covered with user-friendly messages.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wrapping-up-apollo-angular">Wrapping Up Apollo Angular<a class="hash-link" aria-label="Direct link to Wrapping Up Apollo Angular" title="Direct link to Wrapping Up Apollo Angular" href="https://tailcall.run/blog/graphql-angular-client/#wrapping-up-apollo-angular">‚Äã</a></h4>
<p>And there you have it, folks! Apollo Angular - the smooth-riding, feature-packed, error-handling marvel of the GraphQL world. It's like driving a luxury car with a supercomputer onboard.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-axios---the-versatile-muscle-car-of-http-clients">2. Axios - The Versatile Muscle Car of HTTP Clients<a class="hash-link" aria-label="Direct link to 2. Axios - The Versatile Muscle Car of HTTP Clients" title="Direct link to 2. Axios - The Versatile Muscle Car of HTTP Clients" href="https://tailcall.run/blog/graphql-angular-client/#2-axios---the-versatile-muscle-car-of-http-clients">‚Äã</a></h3>
<p>If Apollo Angular is the luxury sports car of GraphQL clients, then Axios is like a classic muscle car - powerful, versatile, and ready to handle anything you throw at it. It might not have all the GraphQL-specific bells and whistles, but boy, can it perform!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-installation-and-integration-steps">1. Installation and Integration Steps<a class="hash-link" aria-label="Direct link to 1. Installation and Integration Steps" title="Direct link to 1. Installation and Integration Steps" href="https://tailcall.run/blog/graphql-angular-client/#1-installation-and-integration-steps">‚Äã</a></h4>
<p>Before we hit the gas, let's get our Axios engine installed and tuned up:</p>
<ol>
<li><strong>Installations</strong>.</li>
</ol>
<p>First, rev up your terminal and run:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">npm install axios</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Unlike Apollo, Axios doesn't need any special configuration in your app.config.ts. It's more of a plug-and-play solution. Just import it where you need it, and you're good to go!</p>
<ol>
<li><strong>Code Snippets</strong></li>
</ol>
<p>Now, below we implement data fetching using axios in <code>src/app/axios-angular/post-list.component.ts</code>:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  Component</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  OnInit</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/common"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">AxiosInstance</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"axios"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token decorator at operator" style="color:#8DFFF8">@</span><span class="token decorator function" style="color:#FDEA2F">Component</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  selector</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"app-axios-post-list"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  standalone</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  imports</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  template</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;h2&gt;Posts (Axios Angular)&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="fetchPosts()" [disabled]="loading"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ loading ? "Loading..." : "Load Posts" }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerNetworkError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Network Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerGraphQLError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger GraphQL Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerUnexpectedError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Unexpected Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;ul *ngIf="!error"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      &lt;li *ngFor="let post of posts"&gt;{{ post.title }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;div *ngIf="error" class="error-message"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ error }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">  </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (styles omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">export</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">class</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AxiosPostsListsComponent</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">OnInit</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> client</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> AxiosInstance</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  posts</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">|</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Error simulation flags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateNetworkError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateGraphQLError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateUnexpectedError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">constructor</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> cdr</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">create</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      baseURL</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/graphql"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      headers</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token string-property property" style="color:#C586C0">"Content-Type"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"application/json"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">ngOnInit</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:#30C26D;font-style:italic">// Add a request interceptor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">interceptors</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">use</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateNetworkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">reject</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated network error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> config</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">reject</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        query GetPosts($limit: Int) {</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        posts(limit: $limit) {</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            id</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            title</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation keyword" style="color:#C586C0">this</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">simulateGraphQLError </span><span class="token template-string interpolation operator" style="color:#8DFFF8">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#FDB869">"nonExistentField"</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#FDB869">""</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        }</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        }</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">query</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">queryString</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> variables</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateUnexpectedError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated unexpected error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> response </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">post</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">""</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        query</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> queryString</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        variables</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> error</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">fetchPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> result </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">query</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        limit</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token comment" style="color:#30C26D;font-style:italic">// Error is already handled in query method</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (error handling and simulation methods omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This Axios-powered component is revving up to fetch those posts faster than you can say "GraphQL"! Let's break down what's happening in this high-octane code:</p>
<ol>
<li>We're creating an Axios instance in the constructor. It's like customizing your car with a specific paint job (baseURL) and some cool decals (headers).</li>
<li>The ngOnInit method adds a request interceptor. Think of it as a nitrous oxide system - it can give your requests an extra boost or, in this case, simulate a network error if you want to test your error handling.</li>
<li>Our query method is like the engine of this muscle car. It takes a GraphQL query string and variables, then fires off the request. If something goes wrong, it calls our trusty mechanic (the handleError method).</li>
<li>The fetchPosts method is where the rubber meets the road. It calls our query method with the posts query, then updates our component state with the results.</li>
<li>We've got our error simulation methods, just like in the Apollo example. It's like having different test tracks for your muscle car - you can simulate various error conditions to make sure your code can handle any bumps in the road.</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-error-handling">2. Error Handling<a class="hash-link" aria-label="Direct link to 2. Error Handling" title="Direct link to 2. Error Handling" href="https://tailcall.run/blog/graphql-angular-client/#2-error-handling">‚Äã</a></h4>
<p>Now, let's talk about handling of errors:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">axios</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">isAxiosError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> axiosError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> error </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> AxiosError</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">axiosError</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">response</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// The request was made and the server responded with a status code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// that falls out of the range of 2xx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">Server error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">axiosError</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string string" style="color:#FDB869"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">axiosError</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">statusText</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">axiosError</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// The request was made but no response was received</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Network error. Please check your internet connection.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// Something happened in setting up the request that triggered an Error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">graphQLErrors</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">GraphQL error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">graphQLErrors</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">        </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">map</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation">e</span><span class="token template-string interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation builtin">any</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">=&gt;</span><span class="token template-string interpolation"> e</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">        </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">join</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation string" style="color:#FDB869">', '</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'Error fetching posts:'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This error handler is like the world's best shock absorber system. Whether you hit a pothole (network error), take a wrong turn (server error), or your engine misfires (unexpected error), it's got you covered with user-friendly messages. It even handles those tricky GraphQL-specific errors!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wrapping-up-axios">Wrapping Up Axios<a class="hash-link" aria-label="Direct link to Wrapping Up Axios" title="Direct link to Wrapping Up Axios" href="https://tailcall.run/blog/graphql-angular-client/#wrapping-up-axios">‚Äã</a></h4>
<p>And there you have it, Axios - the muscle car of HTTP clients, now tuned up to handle GraphQL queries with style. It might not have all the GraphQL-specific features of Apollo, but it's a powerhouse that can handle just about anything you throw at it.
Axios shines when you need a lightweight, versatile solution that can handle both REST and GraphQL APIs. It's like having a car that's equally at home on the racetrack and the city streets. Plus, if you're already familiar with Axios from REST API work, the learning curve here is as smooth as a freshly paved highway.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-fetch-api---the-lean-mean-javascript-machine">3. Fetch API - The Lean, Mean, JavaScript Machine<a class="hash-link" aria-label="Direct link to 3. Fetch API - The Lean, Mean, JavaScript Machine" title="Direct link to 3. Fetch API - The Lean, Mean, JavaScript Machine" href="https://tailcall.run/blog/graphql-angular-client/#3-fetch-api---the-lean-mean-javascript-machine">‚Äã</a></h3>
<p>If Apollo was our luxury sports car and Axios our muscle car, then the Fetch API is like a nimble, lightweight motorcycle. It's built right into modern browsers, requires no external libraries, and can zip through traffic with ease. Let's see how this speed demon handles our GraphQL queries!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-installation-and-integration-steps-1">1. Installation and Integration Steps<a class="hash-link" aria-label="Direct link to 1. Installation and Integration Steps" title="Direct link to 1. Installation and Integration Steps" href="https://tailcall.run/blog/graphql-angular-client/#1-installation-and-integration-steps-1">‚Äã</a></h4>
<p>Here's the beauty of the Fetch API - there's nothing to install! üéâ It's like finding out your new apartment comes with a free motorcycle in the garage. Just hop on and ride!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-code-snippets">2. Code Snippets<a class="hash-link" aria-label="Direct link to 2. Code Snippets" title="Direct link to 2. Code Snippets" href="https://tailcall.run/blog/graphql-angular-client/#2-code-snippets">‚Äã</a></h4>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">Component</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/common"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token decorator at operator" style="color:#8DFFF8">@</span><span class="token decorator function" style="color:#FDEA2F">Component</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  selector</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"app-fetch-post-list"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  standalone</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  imports</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  template</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;h2&gt;Posts (Fetch Angular)&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="fetchPosts()" [disabled]="loading"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ loading ? "Loading..." : "Load Posts" }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerNetworkError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Network Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerGraphQLError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger GraphQL Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerUnexpectedError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Unexpected Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;ul *ngIf="!error"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      &lt;li *ngFor="let post of posts"&gt;{{ post.title }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;div *ngIf="error" class="error-message"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ error }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">  </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (styles omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">export</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">class</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">FetchPostListComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> endpoint </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/graphql"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  posts</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">|</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Error simulation flags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateNetworkError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateGraphQLError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateUnexpectedError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">constructor</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> cdr</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        query GetPosts($limit: Int) {</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        posts(limit: $limit) {</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            id</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            title</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">            </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation keyword" style="color:#C586C0">this</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">simulateGraphQLError </span><span class="token template-string interpolation operator" style="color:#8DFFF8">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#FDB869">"nonExistentField"</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#FDB869">""</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        }</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">        }</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">query</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">queryString</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> variables</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateNetworkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated network error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateUnexpectedError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated unexpected error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> response </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">fetch</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        method</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"POST"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        headers</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token string-property property" style="color:#C586C0">"Content-Type"</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"application/json"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        body</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">JSON</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">stringify</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          query</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> queryString</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          variables</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain">response</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">ok</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">HTTP error! status: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> result </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">json</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">errors</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">map</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">e</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> e</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">join</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">", "</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> result</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> error</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">fetchPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> result </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">query</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        limit</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token comment" style="color:#30C26D;font-style:italic">// Error is already handled in query method</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (error handling and simulation methods omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This Fetch-powered component is leaner than a greyhound and faster than a caffeinated cheetah! Let's break down what's happening in this high-speed code:</p>
<ol>
<li>No imports needed for Fetch - it's built right into the browser. It's like having a motorcycle that doesn't need gas!</li>
<li>Our query method is the engine of this speed machine. It takes a GraphQL query string and variables, then zooms off to fetch the data.</li>
<li>We're using async/await syntax, which makes our asynchronous code read like a smooth ride down the highway.</li>
<li>The fetchPosts method is where we kick into high gear. It calls our query method with the posts query, then updates our component state with the results.</li>
<li>We've still got our error simulation methods. It's like having different obstacle courses for our motorcycle - we can test how it handles in various tricky situations.</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling-1">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="https://tailcall.run/blog/graphql-angular-client/#error-handling-1">‚Äã</a></h4>
<p>Now, let's talk about the suspension system of our Fetch motorcycle - the error handling:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">TypeError</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">&amp;&amp;</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message </span><span class="token operator" style="color:#8DFFF8">===</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Failed to fetch'</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Network error. Please check your internet connection.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">includes</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'GraphQL error'</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">GraphQL error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">startsWith</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'HTTP error!'</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">Server error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'Error fetching posts:'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This error handler efficiently manages various error types. It provides user-friendly messages for network issues, server errors, unexpected problems, and GraphQL-specific errors, ensuring a smooth user experience even when things go wrong.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wrapping-up-fetch-api">Wrapping Up Fetch API<a class="hash-link" aria-label="Direct link to Wrapping Up Fetch API" title="Direct link to Wrapping Up Fetch API" href="https://tailcall.run/blog/graphql-angular-client/#wrapping-up-fetch-api">‚Äã</a></h4>
<p>And there you have it, The Fetch API - the nimble, lightweight motorcycle of HTTP clients, now revved up to handle GraphQL queries with style. It might not have all the bells and whistles of Apollo or the versatility of Axios, but it's fast, it's built-in, and it gets the job done with minimal fuss.</p>
<p>Fetch shines when you need a lightweight, no-dependency solution that can handle both REST and GraphQL APIs. It's like having a motorcycle that's equally at home zipping through city traffic or cruising on the open highway. Plus, if you're looking to keep your project dependencies to a minimum, Fetch is your go-to ride.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-graphql-request---the-precision-engineered-sports-car">4. GraphQL Request - The Precision-Engineered Sports Car<a class="hash-link" aria-label="Direct link to 4. GraphQL Request - The Precision-Engineered Sports Car" title="Direct link to 4. GraphQL Request - The Precision-Engineered Sports Car" href="https://tailcall.run/blog/graphql-angular-client/#4-graphql-request---the-precision-engineered-sports-car">‚Äã</a></h3>
<p>If Apollo was our luxury sedan, Axios our muscle car, and Fetch our nimble motorcycle, then GraphQL Request is like a finely-tuned sports car. It's designed specifically for GraphQL, offering a perfect balance of simplicity and power. Let's see how this beauty handles our data-fetching curves!</p>
<ol>
<li><strong>Installation and Integration Steps</strong>
Before we hit the track, let's get our GraphQL Request engine installed:</li>
</ol>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">npm install graphql-request graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>No special configuration needed in your app.config.ts. Just import it in your component, and you're ready to race!</p>
<ol start="2">
<li><strong>Code Snippets</strong></li>
</ol>
<p>Now, let's pop the hood and examine our GraphQL Request-powered component:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">Component</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@angular/common"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  GraphQLClient</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  gql</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  ClientError</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"graphql-request"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token decorator at operator" style="color:#8DFFF8">@</span><span class="token decorator function" style="color:#FDEA2F">Component</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  selector</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"app-graphql-request-post-list"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  standalone</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  imports</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain">CommonModule</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  template</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;h2&gt;Posts (Graphql Request Angular)&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="fetchPosts()" [disabled]="loading"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ loading ? "Loading..." : "Load Posts" }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerNetworkError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Network Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerGraphQLError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger GraphQL Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;button (click)="triggerUnexpectedError()"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      Trigger Unexpected Error</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/button&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;ul *ngIf="!error"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      &lt;li *ngFor="let post of posts"&gt;{{ post.title }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;div *ngIf="error" class="error-message"&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">      {{ error }}</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string string" style="color:#FDB869">  </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (styles omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">export</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">class</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">GraphqlRequestPostListComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> client</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> GraphQLClient</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  posts</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">|</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Error simulation flags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateNetworkError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateGraphQLError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> simulateUnexpectedError </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">constructor</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> cdr</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">GraphQLClient</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token string" style="color:#FDB869">"http://localhost:4200/graphql"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql keyword" style="color:#C586C0">query</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql definition-query function" style="color:#FDEA2F">GetPosts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar" style="color:#8DFFF8">Int</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property-query">posts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql attr-name" style="color:#8DFFF8">limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">id</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">title</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">            </span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string graphql language-graphql property interpolation keyword" style="color:#C586C0">this</span><span class="token template-string graphql language-graphql property interpolation punctuation" style="color:#fff">.</span><span class="token template-string graphql language-graphql property interpolation property-access" style="color:#C586C0">simulateGraphQLError</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation operator" style="color:#8DFFF8">?</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation string" style="color:#FDB869">"nonExistentField"</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation operator" style="color:#8DFFF8">:</span><span class="token template-string graphql language-graphql property interpolation" style="color:#C586C0"> </span><span class="token template-string graphql language-graphql property interpolation string" style="color:#FDB869">""</span><span class="token template-string graphql language-graphql property interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">fetchPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateNetworkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated network error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">simulateUnexpectedError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"Simulated unexpected error"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> result</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">request</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token constant" style="color:#C586C0">GET_DATA</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          limit</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... (error handling and simulation methods omitted for brevity)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Let's break down what's happening in this high-performance code:</p>
<ol>
<li>We're importing GraphQLClient and gql from graphql-request. It's like having a custom-built engine and transmission, specifically designed for GraphQL roads.</li>
<li>In the constructor, we're initializing our GraphQLClient. It's like setting up the onboard computer of our sports car, telling it exactly where to go for our data.</li>
<li>Our GET_DATA query is defined using the gql tag. It's like programming the GPS with the exact route we want to take.</li>
<li>The fetchPosts method is where we put the pedal to the metal. We're using the client.request method, which is like engaging the launch control on our sports car - it handles everything for us, from acceleration to gear shifts.</li>
<li>We've still got our error simulation methods. It's like having different road conditions we can simulate - wet roads, oil slicks, you name it!</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling-2">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="https://tailcall.run/blog/graphql-angular-client/#error-handling-2">‚Äã</a></h4>
<p>Now, let's talk about the advanced traction control system of our GraphQL Request sports car - the error handling:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ClientError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">response</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// GraphQL errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">GraphQL error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">errors</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">            </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">map</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation">e</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">=&gt;</span><span class="token template-string interpolation"> e</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">            </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">join</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation string" style="color:#FDB869">', '</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// Network errors or other HTTP errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">Network error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string string" style="color:#FDB869"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">response</span><span class="token template-string interpolation punctuation" style="color:#fff">[</span><span class="token template-string interpolation string" style="color:#FDB869">'statusText'</span><span class="token template-string interpolation punctuation" style="color:#fff">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message </span><span class="token operator" style="color:#8DFFF8">===</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Simulated network error'</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Network error. Please check your internet connection.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'Error fetching posts:'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This error handler is like having the world's best traction control and stability management system. Whether you hit a patch of black ice (network error), take a corner too fast (GraphQL error), or encounter an unexpected obstacle (other errors), it's got you covered with user-friendly messages. It even distinguishes between different types of errors, giving you precise control over how to handle each situation.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wrapping-up-graphql-request">Wrapping Up GraphQL Request<a class="hash-link" aria-label="Direct link to Wrapping Up GraphQL Request" title="Direct link to Wrapping Up GraphQL Request" href="https://tailcall.run/blog/graphql-angular-client/#wrapping-up-graphql-request">‚Äã</a></h4>
<p>And there you have it, folks! GraphQL Request - the precision-engineered sports car of GraphQL clients. It's streamlined, efficient, and designed specifically for the twists and turns of GraphQL queries.
GraphQL Request shines when you need a lightweight, GraphQL-specific solution that offers more than Fetch but doesn't require the full ecosystem of Apollo. It's like having a sports car that's perfect for both daily commutes and weekend track days. Plus, its simplicity makes it a joy to work with, especially for smaller to medium-sized projects.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-urql-in-angular">5. Urql in Angular<a class="hash-link" aria-label="Direct link to 5. Urql in Angular" title="Direct link to 5. Urql in Angular" href="https://tailcall.run/blog/graphql-angular-client/#5-urql-in-angular">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installation-and-integration-steps-1">Installation and Integration Steps<a class="hash-link" aria-label="Direct link to Installation and Integration Steps" title="Direct link to Installation and Integration Steps" href="https://tailcall.run/blog/graphql-angular-client/#installation-and-integration-steps-1">‚Äã</a></h4>
<p>First things first, let's get our hands dirty with some installation magic. To bring Urql into your Angular project, you'll need to wave your command line wand and chant:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">npm install @urql/core graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We need to set up our Urql client.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="code-snippets-and-explanation">Code Snippets and Explanation<a class="hash-link" aria-label="Direct link to Code Snippets and Explanation" title="Direct link to Code Snippets and Explanation" href="https://tailcall.run/blog/graphql-angular-client/#code-snippets-and-explanation">‚Äã</a></h4>
<p>Let's break down our UrqlPostListComponent which you'll create following the same format above and solder structure:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  createClient</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  fetchExchange</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  cacheExchange</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  Client</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"@urql/core"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// ... other imports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">export</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">class</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UrqlPostListComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  client</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> Client</span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token function" style="color:#FDEA2F">constructor</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> cdr</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> ChangeDetectorRef</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">createClient</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      url</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"http://localhost:4200/graphql"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      exchanges</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token plain">cacheExchange</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> fetchExchange</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... rest of the component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Here, we're setting up our Urql client faster than you can say "GraphQL". We're telling it where to find our GraphQL endpoint and which exchanges to use. Think of exchanges as middleware for your GraphQL requests - they're like bouncers at a club, deciding how to handle incoming and outgoing traffic.</p>
<p>Now, let's look at how we're fetching posts:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    getPostsQuery </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> gql</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql keyword" style="color:#C586C0">query</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql definition-query function" style="color:#FDEA2F">GetPosts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql scalar" style="color:#8DFFF8">Int</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property-query">posts</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">(</span><span class="token template-string graphql language-graphql attr-name" style="color:#8DFFF8">limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">:</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql variable" style="color:#E36209">$limit</span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">)</span><span class="token template-string graphql language-graphql"> </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">{</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">id</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql property" style="color:#C586C0">title</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">        </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">    </span><span class="token template-string graphql language-graphql punctuation" style="color:#fff">}</span><span class="token template-string graphql language-graphql"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string graphql language-graphql">    </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token function" style="color:#FDEA2F">fetchPosts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">true</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">null</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">client</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">query</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">getPostsQuery</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> limit</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">toPromise</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">then</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">data</span><span class="token operator" style="color:#8DFFF8">?.</span><span class="token plain">posts </span><span class="token operator" style="color:#8DFFF8">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token punctuation" style="color:#fff">]</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">catch</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">finally</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This fetchPosts method is where the magic happens. We're using Urql's query method to fetch our posts, handling the result like a pro juggler. If there's an error, we toss it to our error handler. If it's successful, we update our posts faster than you can say "data fetched"!</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling-3">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="https://tailcall.run/blog/graphql-angular-client/#error-handling-3">‚Äã</a></h4>
<p>Now, let's talk about error handling. In the world of APIs, errors are like unexpected plot twists in a movie - they keep things interesting, but you need to know how to handle them:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">private</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">handleError</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token operator" style="color:#8DFFF8">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">loading </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CombinedError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">networkError</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'Network error. Please check your internet connection.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">graphQLErrors</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">length </span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">0</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">GraphQL error: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">graphQLErrors</span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">            </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">map</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation">e</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator" style="color:#8DFFF8">=&gt;</span><span class="token template-string interpolation"> e</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#fff"><span class="token template-string interpolation">            </span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation function" style="color:#FDEA2F">join</span><span class="token template-string interpolation punctuation" style="color:#fff">(</span><span class="token template-string interpolation string" style="color:#FDB869">', '</span><span class="token template-string interpolation punctuation" style="color:#fff">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">error </span><span class="token keyword" style="color:#C586C0">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token template-string string" style="color:#FDB869">An unexpected error occurred: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation punctuation" style="color:#fff">.</span><span class="token template-string interpolation">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#fff">}</span><span class="token template-string template-punctuation string" style="color:#FDB869">`</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">error </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'An unexpected error occurred. Please try again later.'</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">error</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'Error fetching posts:'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">cdr</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">detectChanges</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This error handler is like a Swiss Army knife for API errors. Network error? We've got you covered. GraphQL error? No problem. Unexpected error that makes you question the nature of reality? We handle that too!
Why Choose Urql?
You might be wondering, "Why should I choose Urql over other options?" Well, let me tell you, Urql is like that cool, efficient friend who always knows the best way to get things done:</p>
<ol>
<li><strong>Lightweight</strong>: Urql is as light as a feather, which means your app won't feel like it's carrying extra baggage.</li>
<li><strong>Flexible</strong>: It's adaptable to various use cases, like a chameleon in the coding world.</li>
<li><strong>Great Developer Experience</strong>: With Urql, you'll feel like you're coding with a tailwind, not against a headwind.</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Want to see all this in action?
Check out our GitHub repo!</p><p>We've put together a complete set of working examples for everything we've covered in this article. It's the perfect companion to help you dive deeper into Angular and GraphQL.</p><p><a href="https://github.com/onyedikachi-david/angular-graphql-multiapproach" target="_blank" rel="noopener noreferrer">Explore the code on GitHub</a></p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="detailed-comparison-table">Detailed Comparison Table<a class="hash-link" aria-label="Direct link to Detailed Comparison Table" title="Direct link to Detailed Comparison Table" href="https://tailcall.run/blog/graphql-angular-client/#detailed-comparison-table">‚Äã</a></h2>
<table><thead><tr><th>Method</th><th>Bundle Size (minified + gzip)*</th><th>Learning Curve</th><th>Caching Capabilities</th><th>Community Support</th><th>Additional Features</th></tr></thead><tbody><tr><td>Apollo Angular</td><td>~2kB</td><td>Moderate</td><td>Extensive (InMemoryCache, customizable)</td><td>High</td><td>State management, optimistic UI updates</td></tr><tr><td>Urql</td><td>~10.2 KB</td><td>Low</td><td>Moderate (Document caching)</td><td>Moderate</td><td>Extensible architecture, lightweight</td></tr><tr><td>GraphQL-Request</td><td>Unknown</td><td>Low</td><td>None (Minimal client)</td><td>Moderate</td><td>Simplicity, works in Node and browsers</td></tr><tr><td>Axios</td><td>~13.2 KB</td><td>Low</td><td>None (HTTP client only)</td><td>High</td><td>Familiar HTTP handling, interceptors</td></tr><tr><td>Fetch API</td><td>0 KB (Browser built-in)</td><td>Low</td><td>None (Native API)</td><td>High</td><td>No additional dependency, widely supported</td></tr></tbody></table>
<p>(*) Bundle sizes are approximate and may vary based on version and configuration. Values are culled from bundlephobia.com where available.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="notes">Notes:<a class="hash-link" aria-label="Direct link to Notes:" title="Direct link to Notes:" href="https://tailcall.run/blog/graphql-angular-client/#notes">‚Äã</a></h3>
<ul>
<li><strong>Apollo Angular</strong>: Offers the most comprehensive feature set but comes with a larger bundle size and steeper learning curve.</li>
<li><strong>Urql</strong>: Provides a good balance between features and bundle size, with a focus on simplicity.</li>
<li><strong>GraphQL-Request</strong>: Minimal client ideal for simple use cases where advanced features aren't needed.</li>
<li><strong>Axios</strong>: Not a GraphQL-specific solution, but familiar to many developers and versatile for various HTTP requests.</li>
<li><strong>Fetch API</strong>: Native browser API, no additional bundle size, but requires more manual work for GraphQL operations.</li>
</ul>
<p>This table should help developers choose the right method based on their specific project needs, considering factors like bundle size, learning curve, caching capabilities, community support, and additional features.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="caching-capabilities">Caching Capabilities<a class="hash-link" aria-label="Direct link to Caching Capabilities" title="Direct link to Caching Capabilities" href="https://tailcall.run/blog/graphql-angular-client/#caching-capabilities">‚Äã</a></h3>
<ol>
<li>
<p><strong>Apollo Angular</strong></p>
<ul>
<li>Extensive caching capabilities through InMemoryCache</li>
<li>Normalization of data for efficient storage and retrieval</li>
<li>Customizable cache policies (cache-first, network-only, etc.)</li>
<li>Automatic cache updates on mutations</li>
<li>Support for pagination and optimistic UI updates</li>
<li>Ability to manually update and read from the cache</li>
</ul>
</li>
<li>
<p><strong>Urql</strong></p>
<ul>
<li>Document caching by default</li>
<li>Customizable caching through exchangeable cache implementations</li>
<li>Supports normalized caching with additional setup</li>
<li>Cache invalidation and updates through GraphQL mutations</li>
<li>Simpler caching model compared to Apollo, focusing on ease of use</li>
</ul>
</li>
<li>
<p><strong>GraphQL-Request</strong></p>
<ul>
<li>No built-in caching mechanism</li>
<li>Requires manual implementation of caching if needed</li>
<li>Can be combined with external caching solutions or state management libraries</li>
</ul>
</li>
<li>
<p><strong>Axios</strong></p>
<ul>
<li>No built-in GraphQL-specific caching</li>
<li>Can implement HTTP-level caching (e.g., using headers)</li>
<li>Requires manual implementation of application-level caching</li>
<li>Can be combined with state management libraries for more sophisticated caching</li>
</ul>
</li>
<li>
<p><strong>Fetch API</strong></p>
<ul>
<li>No built-in GraphQL-specific caching</li>
<li>Supports basic HTTP caching through cache-control headers</li>
<li>Requires manual implementation of application-level caching</li>
<li>Can be combined with other libraries or custom solutions for more advanced caching</li>
</ul>
</li>
</ol>
<p>In summary, Apollo Angular offers the most robust out-of-the-box caching solution, followed by Urql with its flexible caching system. GraphQL-Request, Axios, and Fetch API do not provide GraphQL-specific caching, requiring developers to implement their own caching strategies or integrate with other libraries for advanced caching needs.</p>
<p>When choosing an approach, consider your application's complexity, performance requirements, and willingness to manage caching manually versus leveraging built-in solutions.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="common-issues-and-resolutions">Common Issues and Resolutions<a class="hash-link" aria-label="Direct link to Common Issues and Resolutions" title="Direct link to Common Issues and Resolutions" href="https://tailcall.run/blog/graphql-angular-client/#common-issues-and-resolutions">‚Äã</a></h2>
<ol>
<li>
<p><strong>Apollo Angular</strong></p>
<p>Issue: Cache inconsistencies after mutations
Resolution:</p>
<ul>
<li>Ensure proper cache updates in mutation's <code>update</code> function</li>
<li>Use <code>refetchQueries</code> option to refresh related queries</li>
<li>Implement <code>optimisticResponse</code> for immediate UI updates</li>
</ul>
<p>Issue: Over-fetching data
Resolution:</p>
<ul>
<li>Utilize fragments for reusable field selections</li>
<li>Implement proper query splitting for components</li>
<li>Use <code>@connection</code> directive for pagination to avoid refetching all data</li>
</ul>
</li>
<li>
<p><strong>Urql</strong></p>
<p>Issue: Stale data after mutations
Resolution:</p>
<ul>
<li>Use the <code>cache-and-network</code> request policy</li>
<li>Implement cache updates in mutation's <code>updates</code> option</li>
<li>Utilize the <code>refocusExchange</code> for automatic refetching on window focus</li>
</ul>
<p>Issue: Complex state management
Resolution:</p>
<ul>
<li>Combine Urql with external state management libraries like NgRx if needed</li>
<li>Leverage Urql's <code>useQuery</code> and <code>useMutation</code> hooks for simpler state handling</li>
</ul>
</li>
<li>
<p><strong>GraphQL-Request</strong></p>
<p>Issue: Lack of automatic caching
Resolution:</p>
<ul>
<li>Implement manual caching using services or state management libraries</li>
<li>Use HTTP caching headers for basic caching needs</li>
<li>Consider switching to Apollo or Urql for more complex applications</li>
</ul>
<p>Issue: Error handling complexities
Resolution:</p>
<ul>
<li>Implement a centralized error handling service</li>
<li>Use TypeScript for better type checking and error prevention</li>
<li>Wrap GraphQL-Request calls in try-catch blocks for granular error handling</li>
</ul>
</li>
<li>
<p><strong>Axios</strong></p>
<p>Issue: Constructing complex GraphQL queries
Resolution:</p>
<ul>
<li>Use template literals for dynamic query construction</li>
<li>Implement a query builder utility for complex queries</li>
<li>Consider using a GraphQL-specific library for very complex schemas</li>
</ul>
<p>Issue: Handling GraphQL errors
Resolution:</p>
<ul>
<li>Check for <code>errors</code> array in the response body</li>
<li>Implement custom error classes for different GraphQL error types</li>
<li>Use interceptors for global error handling</li>
</ul>
</li>
<li>
<p><strong>Fetch API</strong></p>
<p>Issue: Verbose syntax for GraphQL operations
Resolution:</p>
<ul>
<li>Create utility functions to abstract common GraphQL operations</li>
<li>Use TypeScript interfaces for better type safety and autocompletion</li>
<li>Consider using a lightweight wrapper around Fetch for GraphQL specifics</li>
</ul>
<p>Issue: Limited built-in features
Resolution:</p>
<ul>
<li>Implement custom middleware for features like retries and caching</li>
<li>Use external libraries for advanced features (e.g., Observable support)</li>
<li>Create a custom Angular service to encapsulate Fetch API logic</li>
</ul>
</li>
</ol>
<p>General Resolutions:</p>
<ul>
<li>Implement proper error boundaries in your Angular components</li>
<li>Use TypeScript for better type checking and IDE support</li>
<li>Leverage Angular's HttpInterceptors for global request/response handling</li>
<li>Implement proper loading states to improve user experience during data fetching</li>
<li>Use environment variables for GraphQL endpoint configuration</li>
</ul>
<p>By addressing these common issues, developers can create more robust and efficient GraphQL implementations in their Angular applications, regardless of the chosen approach.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-angular-client/#conclusion">‚Äã</a></h2>
<p>As we've journeyed through the landscape of GraphQL integration in Angular, we've explored five distinct approaches, each with its own strengths and considerations. Let's recap and draw some final insights:</p>
<ol>
<li>
<p><strong>Apollo Angular</strong> emerges as the powerhouse solution, offering a comprehensive feature set including robust caching, state management, and optimistic UI updates. It's ideal for large-scale applications with complex data requirements, though it comes with a steeper learning curve and larger bundle size.</p>
</li>
<li>
<p><strong>Urql</strong> strikes a balance between functionality and simplicity. Its lightweight nature and extensible architecture make it an excellent choice for projects that need flexibility without the full weight of Apollo. It's particularly suitable for medium-sized applications or teams that prefer a more customizable approach.</p>
</li>
<li>
<p><strong>GraphQL-Request</strong> shines in its simplicity. For small projects or microservices where basic GraphQL operations are all that's needed, it provides a no-frills solution with minimal overhead. However, it lacks built-in caching and advanced features, which may become limitations as your project grows.</p>
</li>
<li>
<p><strong>Axios</strong>, while not GraphQL-specific, leverages its widespread adoption and familiarity among developers. It's a solid choice for teams already using Axios in their stack or for projects that mix RESTful and GraphQL APIs. However, it requires more manual work for GraphQL-specific features.</p>
</li>
<li>
<p><strong>Fetch API</strong> represents the most lightweight approach, with zero additional bundle size. It's ideal for projects prioritizing minimal dependencies and maximum browser compatibility. However, it necessitates more boilerplate code and manual implementation of GraphQL-specific features.</p>
</li>
</ol>
<p>The choice between these approaches ultimately depends on your project's specific needs, your team's expertise, and your application's scalability requirements. Here are some final recommendations:</p>
<ul>
<li>For large, data-intensive applications with complex requirements, Apollo Angular is likely your best bet.</li>
<li>If you're looking for a lightweight yet capable solution, Urql offers an excellent middle ground.</li>
<li>For smaller projects or microservices, GraphQL-Request or Fetch API might be sufficient.</li>
<li>If your project involves a mix of REST and GraphQL APIs, consider Axios for its versatility.</li>
</ul>
<p>Remember, there's no one-size-fits-all solution. The best approach is the one that aligns with your project's needs and your team's capabilities. As your application evolves, don't hesitate to reassess and switch approaches if necessary.</p>
<p>Whichever path you choose, GraphQL's power in providing flexible, efficient data fetching can significantly enhance your Angular applications. By understanding these different approaches, you're now equipped to make an informed decision and leverage GraphQL to its full potential in your Angular projects.</p>
<p>Happy coding, and may your GraphQL queries be ever efficient!</p>]]></content>
        <author>
            <name>David Onyedikachi</name>
            <uri>https://github.com/onyedikachi-david</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="Angular" term="Angular"/>
        <category label="Apollo client" term="Apollo client"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[gRPC Decoded: The API Protocol That's Changing Everything]]></title>
        <id>https://tailcall.run/blog/what-is-grpc/</id>
        <link href="https://tailcall.run/blog/what-is-grpc/"/>
        <updated>2024-07-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Demystify gRPC and its impact on modern software architecture. Explore how this powerful tool is reshaping the landscape of API communication.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="gRPC Logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsQAAAGOCAMAAACnoOUmAAABzlBMVEXf/+okS1qBpaKw0sZSd37T9OEvVmIAr6yZu7RqjpBGbHU7YWzI6Ni83c+kx711mZleg4dpy8iNsKtkysd3zsxfycYZurXM+eVtzMnA8eFhycZLw8BVxMMcv7tvzcphx8ZZxsMWvbpyzMpdx8VBxMAXvLd0zctyzctdyMVUx8IZv7sZubR5z8xwy8lry8lmysdbxsQRvLkcvrgUubQSfYM6w78twr0ewb0iaHImUmBXx8NLxsJQw8ENuLM6eoJnyMhayMRPxsJHxsFHw8ADsq5iysdTzcM1w78lwLwWt7IDtbEfhIkhX2vR+uZsyslmy8hSxsIFuLYMtLB90M10zssowr4pvrcyeIDC8uK479+n59tDwb84wL0gdX0fZnAvYm688OCg5Nib49dFxcE/wr8NurcJlpfF8+NszMlqzMlFzcUxw75WsLE6l5ozh40dgYYraXOV4dZ7z8w0wLwuvrxJrq0UgYaw7d2k5NmO39Ru0socoaIteYKF39Rz3NFk0slmw8Ixx8FcwL8evLkYsq07paYik5dBjpQagogZc3vX/Ol63tJiv749rKsro6Qmdn5a0Mg4rKwzrKwmqqoUn6F6oqBQm58ilpg4b3cmYW0VyfnBAAAQ0UlEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB26RZHYSgMAGAvsdlsuohNEHQdAl7CQ/AjigSBAkMLBlRDPeHmcAvyJTNnGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPuyngNia9lFAZF2Z+/xdQFhddVxN6qvFhNWU20M73Nz2FhNUtyiX+TjspylZTEin+axavxPXg3R5WkxAzWgxnx1ye5/8pYHFBHT6+h2VVT63fb0fp93/1GKCebF3n01KA2EAxzchIFUISZDemxz95FTkpIliQ+x39t7b2LuO3bF3/bYuKgprJCEuDur+feG7U2d+9/iwm8ztDQml+HxXdcf+wtTm9QsDuXyeKCb9Ve1b53ZW3MXt1f0HCnc3J3Ke9flIkygm/UVtc68T4oKrUoV3HdcXLVq0a9GiNdSXzMq/5gwgkf5Y+1ifs1GKt9vwruM61ZtO+Xmd20kewyD9sbZxHNwmspXK9nZ9K9Xbi3nK7/7cIXYPIJH+SNtY1p8JCYKrWKr2G945YVOo+Eq17fdz64hi0h/JEfMd9XENt+AuzkcMr7JtOLdWkeF6tQgRC0Qx6U80w3o5dl224Y9XXEup3h7bltlWbtiyVoHhWr06358VnJmjs4BEGnEOvmxnfRCx4I7/NIcnN0zMmTO84hvhuss1PxsKOblMmsxi0oibacXsmSOhDJd1lpA5HLFN25ZBxEMrvnEuXIOI/SHBybEs+5+cURhVNG1hGIaiKAP8zUxrVYD0J3Ikg6zXdyTjg6cT/YZ3RqYjnW1iztCKn7ygvrQ0LggdxLF/XrF6Ls1QYul1WiMgjbbDfCrm86Y51s0JiOHJCNwmpuEgHlbxzebUt6Pm3XecvgybZqOOX80uGSmYiJKpsU5gK0MNymA2AdLockT58qYUa8+yXAgx7FmVn5zsfLAbVvGTXPN4oav4qZBJp1veTeKKaUpWBsZsHWBZ2VdlLDQOy2qrXs6/gCbzeFTNbCwng144ijMci3ymW5+YjMBtYsPKiTnDKb6ZCDSnCge2dmcxx6bt9ljSoYAbos5qwoa4m948F/xOKh0lNx1ZkEfS4VQyFd1UDrIs60c+03lygfyqyPSkbQ5EPIzim4FAwjNVCP9QzHrtrVgw6VDADc1gVeNFDNPoTIoJM9QwMYQx/hwbozxfjtrt9hCL7BKBAHyIbdpmg3cdEPEQim8cDCQg4hXhcL2r+DZrT6WiybMzirih6YzYEKO68BNG06kBCWuHk3wyxadisbKXe0j1tnj16kfw1+qLqy+ePr3gR6vf0T9ixPoIn37rdKYT1VXs9aaiPL9xBgNimFmtADF2xkYLpSCNFZBwGt549us2ESvb31OjDCoOBvlkcuM8LIgpDbLH4v/WkM6qoZRlIcMYYxuDG4M83+JbXu8JaqQtfhqLpSDis7NYuMF0auyIKYNpiDE8cJPQM8wA4gZy3oavefzZZJBvbercdSylRtjiE3ZvLBjlk5cwcYPp1dgRUxotkNlcjThPC91zqq3SmvW/+o+EhKsZ/myKj9qjZXsaVXz6ItyK4Up8+utKfPHQ1y6oJHt27drba9eeP79///7DrmG25Y1Fg/w2PNxQxRi/qkzFZtE1QexmzqhlxP8cEr7TCT7VvevoV/xpIpeAdx2dJydWzvneciCjY4FcYOHUih3hC4u7htOsNxoNbhvMjRbPwmgGKJZErKNF0jF6Sjw5M1It4pLR/vJvY6Q1RDESZsVlPmj3+uzwyYn+u441yzyRg/lltsmVE6hhacUdxIVnXcMcRGwPQsODuQ1Qo6ItIhAYOYhV4BeZtDoD9VMak7Rh/dCnfloDUTzCDvNRvhxLs0f9rHNpv+KV6F0HNCxXcWLzilffDF8QGpmj6VbwshQ3qTVUR6HRChAjQ/InXXogkckghzDaz9OY3HtgVNz6etfh47gSqrjz5MTEhgnEsCzFm19353DIKWSOpFuXJblJj0CaQjIqQCw1JGkJw6hGxgjkpLagM588S4Evx6YY3CYyrLuRDT1EFC+zTU8qMAwVv+nO4RDn9HHpI5eluSk42LIoQYxGI7jUAy0aFB80aBH+5NYDq2I2fSSbEZxCKX6yX/GGzihGDMvr5KkvXfD7OSfXSF8GShBLizNhQIwOV3qIfZhRA/mZ9OSYDQmnYt8RuE24G+5KEVE8Bz7EpsAw7GUhXK9Xi18Qc3sBLsRA27+O4kAMjHq5o5iRXj3kfQvoyTKBuRmWZbPrskK8VHQhiu+t3KDEMOxW+Mubon6ns7EX4EMMrAg4DIjhLJZ3cKBTesKAKjYDEu4cHJvlBDdE3N6OKl6mzDBUXKsvmV8JxZ17AU7EwII4woAYzJWzaQOt5GmctGKySoysPUe5UMMdL7rmH6ihipUZhl398rqzsBfgRazuHZs6HIjR7wwgnlGDGlag2EBWCSScit2NULGyvV07EH7Qr7hjWKnitj++D+BEjH64M2BCbJRxhKtHDCvKRFaJ0eXgsoKr0nYtORde0a94txooVlzy7wPYEaupntQYEKOj2CrjYETxRkDG8AhzuJ2V+cUD1XChEPiAPKSgXPEVgBkxCk6FCbFWakcxasgh7/g3K8Tr8+u12vkVzcSDXZ0XNHbBzjAMQwPl4UaMHlBoMSBGxzsjuTXrAGk8mxVKbfijDlYc37z++1uiE+i7GOOA2IQc1eJADPSDn59QUT0ZyMsZY9tsfPuScBj+qIOcp/OWaCSyauonw+OAGOBGjE5aqWsO8mrGGLentKR2rtBsLjzoOZiPrIrkfzY8Foh71lMzLsQ0glhsZSZXFX9Ds9uX7FhxPLcwl0hM56fF5vBYIGaQ/XX0iBmyTPw9XVoSnjqe8yQOeqYjoob/T8Qq8jz739SlWnNqYc6z3hPxiBoeC8SaP4kYXZj1gDTuzRaaC9d7Arnj4obHAvEoPtjpBiA2klcy/rJm7y5M5BL5XxgeB8QjOWJjBsxaa99FN+kv6DN7Z3IsNRADUKm36s1LOQwSIAWuHLiQCDkQNUsBZcRgbFnTnjZ6AUzxmTe21FJLn968ff/X3eSvIHGUKHZQtoodRSPi7vj47sMOh6013xltbSxxEi4702bMtPHkD6D0wefPsMmwzAXXuGn0bSSmvZggJHHaCFGMnhHfjWEq+Ig5elgR3U8GQYlpNOGEJPZh4+metVh3L2LGvxKMfySSFZSYXjhehCSeNprivaZ1tyIWpFCNny6xwRVVRuJh63pS1GjiRgwO/0mxT5Z4JJOsBCQm0yTixlNab8d1jtk/rJovMf9iMl9iT67sb4TEoPSMd7iTXFkSM8boFJCQuGZckzZPkJWOGQLuJgwciRkDzayExEvYHvBmNSS+CY8cDm4y35nzA4vlJfYm0FFs5yW27l8DBaOW6+7Bnw7nZYAVdirEYmmJ60T/DcGfldjHjITigWD0lPgWUIcxDf/YrRmqpMR+nPLGVHeexHZxSHioadK87g7QeaZz/ffk1Twdldg+JJrJBXzEsutTF/sAEgFtxwtOSx13wJGRvLu2CoWdEnNJ0GjxjNPDiRtgyEjenecHz5V4gg3MGYf1hO2GDHhobEhqIXGIIC9xsP++RqL0ST44vik+X+I8gLzEroJKfFOOT1wwT5Y4LADiEpcIoBLfFF+OjyBLz5S4GA/iEgfjQSW+LQtjPKYvT5N4HgValSg5AoBKfF8Kp15lnyKxm4jBMp+6VACV+M5E3leYhCUOi63yTaN5Nha+ohLfm5k3gqyG4xIbSuE1o9MF5Q+JdvevQscSd47ndnCl4xJv3uEInimxhbMULXb0TeT2DdSzEtNy99RGYi0734+ZHQ9mAYkrrhheQGLtYuuRQC487Gc5KzFN0JyoxMwsUScT98fAH2haT0tMD5zjC0isEzH7I544XSoCEkMkud0VElvd/NU1Z2SYBSQmuV17iWlkPoPSG46R0shOABpwhb1EYgh6taNn3IlvbxSQmIzfye0lpm8DXWrbHWdOSK2AxHRc5XKJxEaD4p55AYlhIblde4mtBsU9c6prQEJierMkXSExBD0p7hhW1VdaYosr7BUSzzoDqGNoONFeYtpMlK+QOOqF54458915GYlpbmcukNijnk/0S3iBxI4cD4TaXmKYtae4Xxz+4jKJ6R2pubXEtLNZU7u+WEk8tK7Y8XM7eYmh6B2lbjEnsvIkJTF9n5cLJDb6KO6WeCIULJISV1xh2kvsUaPiXlm5E5r3E/NzO3mJIeme/W4p7HhiEZSYtse79hJXXJFB6YhEzGlyx+7f6+vG5hLDhJrbdcqITB0sSkpMGyKLby6xDxpQ9EpgPoqdsMQ0t2suMSwodkIR9XyjKQlZPlgUlpi+0GtziSFLhcUjFt3C1JKKrDlWWVpi+kJ37SWmE/O51KBRdTv4NzUNiktMx32PrSWmf1U690R32kjUDovHm2lHlJeY/qCCby4xOGLxqQAt6ML+dsxk3e2/GcKTJLa4YmovsQ/E4nNJRtL8rhU1EIv3OSwvMa2bDa0lpmExZs8p5OsAgAswSCze57C8xDS3ay8x3QxVhuPPYd3ZfwmZbJDbd5wqLzH99NhIYvrJ7NqdT6jV64uoAddMfu9CUXmJITO27IuS9q/UowwZ1wQ9n2iJJS/REf7CstK9MCTm53Z8ifkW//tHTf9z1gQteLQl4u+4R2r4+NstIiMvMT0sQXuBxJB2LcGj2Ixf0bv/FxKRkGn9f0wBVxR/WGJGbJOvkBgiUkIaYJPRoTp8ORGRkqdov5ns7WhcQPquPCwxJ7VarpAYxoBIyX9fh1dNQXX4FRgDbkIdlpOYUkhu10ximqJR8jRWIPhxyoiUoK2c1zDkIw6zJGYUtVNjielhGSW4ZIz9xmhMcgEfkTWnuwo/4T7yAByJeS0Mtp3E9M3EZdZy84XYgjuYPDAl5t93ay8x+ITH0MafF8EE/AfFcoenMMtmppnEFOtwL9r180p4UzYVjvwJQMxuslDbSUyJBY/hNKN7DcYZ/8Icz4yx4h74zS0lpkSnCveJj6kgIczRC81i4+d2fIn5DCngLpIq/GpUayb3g2TGgTlQMLpfHDLHrUhbnzrA0/Fxxn+RF42FO8T8T0Ma/Jg2wuN50Ya1PvmvJP5GHY3LSMhp+U/+/Fvy30n8M8yy0XwnWqshROek/1Ni5U44/AkoSp8ElVjpHK+b35TeGXUdstI7k06kVnon40+09VDpk6p76ZXeMTpwTOmdolvflNdiGuAYETUkVl6KdGDTAd06F0BRrucLe/eW4iAQRAGUStvS2iQO7n+x8zEDQhCjXynhnDUUjfbj3ulyFO9DhyypLJcDpUts3KTl+9rlWPQ6WojJpF2ORa+zhZhMWmzG9dQxxyzQn0xesTlXvlbG2IxO6/i6Ol/Lk65L6PEmmTpfiUVvXTsQ+dQ53k2voyxpOxPkM8VOvH977mVJa7giqTV2DcPjzzR08Y8kV3qc4FuCzOoSxxSrkF/psU8pBffRxjhp9DSUpGrr50bYHx2JvX7ig26Eya62g2D0vniLxD082zLEmz48mmuX3EwpZf2P4S3GFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPhtDw4JAAAAAAT9f+0NAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMBS8KmqFyOm/lAAAAAElFTkSuQmCC" width="708" height="398" class="img_ev3q"></p>
<p>gRPC is an open-source RPC (Remote Procedure Call) framework initially developed by Google. It enables efficient communication between services across different environments, utilizing a binary serialization format called Protocol Buffers (Protobuf) over HTTP/2.</p>
<p>gRPC plays a crucial role in modernizing software architectures by providing efficient, high-performance communication channels. Due to it's low-latency, it is used by many well-known software like Kubernetes, CockroachDB and Netflix etc.</p>
<p><a href="https://github.com/kubernetes/kubernetes/blob/0c8b3e5f305bf2bf56d47019199b81330d90c2c3/staging/src/k8s.io/kms/apis/v1beta1/api.proto#L29" target="_blank" rel="noopener noreferrer">An Example Snippet from Kubernetes</a></p>
<p><em>sample code for gRPC:</em></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">syntax</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"proto3"</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">package</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">GreetingService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">SayHello</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">HelloRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">HelloResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">HelloRequest</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> name </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">HelloResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> message </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-evolution-of-api-communication">The Evolution of API Communication<a class="hash-link" aria-label="Direct link to The Evolution of API Communication" title="Direct link to The Evolution of API Communication" href="https://tailcall.run/blog/what-is-grpc/#the-evolution-of-api-communication">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="evolution" src="https://tailcall.run/assets/images/timeline-74749c2b92508f20a5afef12bff4741f.png" width="1263" height="316" class="img_ev3q"></p>
<p>Request‚Äìresponse protocols date back to early distributed computing in the late 1960s. Theoretical proposals of remote procedure calls as the model of network operations date to the 1970s, with practical implementations emerging in the early 1980s. Traditional RPC mechanisms had limitations in terms of performance, language independence, and flexibility. gRPC addresses these issues by leveraging modern protocols and technologies.</p>
<p>gRPC was initially created by Google, which used a single general-purpose RPC infrastructure called Stubby to connect its numerous microservices. In 2015, Google decided to build the next version of Stubby and make it open source.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="understanding-grpc">Understanding gRPC<a class="hash-link" aria-label="Direct link to Understanding gRPC" title="Direct link to Understanding gRPC" href="https://tailcall.run/blog/what-is-grpc/#understanding-grpc">‚Äã</a></h2>
<p>gRPC is a high-performance, language-neutral RPC framework. It uses Protobuf for serialization and HTTP/2 for transport, offering features like streaming, multiplexing, and bidirectional communication. It uses HTTP/2 for transport, Protocol Buffers as the interface description language, and provides features such as authentication, bidirectional streaming and flow control, blocking or nonblocking bindings, and cancellation and timeouts.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="key-components-of-grpc">Key components of gRPC<a class="hash-link" aria-label="Direct link to Key components of gRPC" title="Direct link to Key components of gRPC" href="https://tailcall.run/blog/what-is-grpc/#key-components-of-grpc">‚Äã</a></h3>
<ul>
<li>
<p><strong>Protocol Buffers (Protobuf):</strong> A language-neutral, platform-neutral, extensible mechanism for serializing structured data. It is used to define the structure of messages (request and response payloads) that gRPC services exchange.</p>
</li>
<li>
<p><strong>HTTP/2:</strong> Provides additional capabilities such as multiplexing, header compression, and server push, which are not as efficient and reliable in HTTP/1.1</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-grpc-works-step-by-step-process">How gRPC works (step-by-step process)<a class="hash-link" aria-label="Direct link to How gRPC works (step-by-step process)" title="Direct link to How gRPC works (step-by-step process)" href="https://tailcall.run/blog/what-is-grpc/#how-grpc-works-step-by-step-process">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="step by step process" src="https://tailcall.run/assets/images/steps-fcfc17e96ed67559f7b2e5a1870ea25b.png" width="1006" height="383" class="img_ev3q"></p>
<p>gRPC (Remote Procedure Call) works using a straightforward yet powerful mechanism that facilitates communication between clients and servers in a distributed system.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-service-definition">1. Service Definition<a class="hash-link" aria-label="Direct link to 1. Service Definition" title="Direct link to 1. Service Definition" href="https://tailcall.run/blog/what-is-grpc/#1-service-definition">‚Äã</a></h3>
<ul>
<li><strong>Protocol Buffers (Protobuf)</strong>: The starting point for using gRPC is defining a service and its methods using Protocol Buffers (Protobuf). Protobuf is a language-neutral, platform-neutral, extensible mechanism for serializing structured data. The structure of data and services is defined in a <code>.proto</code> file.</li>
</ul>
<p><a href="https://github.com/linkerd/linkerd2/blob/ad0546b488fad76879e654ad91ceed1e9e53d630/proto/common/net.proto#L4" target="_blank" rel="noopener noreferrer">An Example Snippet From Linkerd</a></p>
<p><em>Example of a simple <code>.proto</code> file :</em></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">syntax</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"proto3"</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">package</span><span class="token plain"> calculator</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CalculatorService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">Add</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">AddRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">AddResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AddRequest</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">double</span><span class="token plain"> number1 </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">double</span><span class="token plain"> number2 </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">2</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AddResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">double</span><span class="token plain"> result </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-code-generation">2. Code Generation<a class="hash-link" aria-label="Direct link to 2. Code Generation" title="Direct link to 2. Code Generation" href="https://tailcall.run/blog/what-is-grpc/#2-code-generation">‚Äã</a></h3>
<p>Once a service is defined in a .proto file, the Protocol Buffer compiler (protoc) is used to generate client and server code in your chosen programming languages. This step is crucial as it automates the creation of the boilerplate code needed for the gRPC service and client to communicate effectively. The generated code includes:</p>
<ul>
<li>
<p><strong>Service Stubs:</strong> These are classes with methods that correspond to the service methods defined in the .proto file. They handle the marshalling and unmarshalling of request and response messages, abstracting away the complexities of network communication.</p>
</li>
<li>
<p><strong>Client-Side Stubs:</strong> These are used by the client application to make remote procedure calls to the server. The client stubs handle the creation and sending of requests, as well as receiving and processing responses.</p>
</li>
</ul>
<p>For Example if the calculator example is converted to python, it would look something like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token comment" style="color:#30C26D;font-style:italic"># -*- coding: utf-8 -*-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># Generated by the protocol buffer compiler.  DO NOT EDIT!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># source: calculator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#FDB869">"""Generated protocol buffer code."""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">protobuf </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> descriptor </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> _descriptor</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">protobuf </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> descriptor_pool </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> _descriptor_pool</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">protobuf </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> message </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> _message</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">protobuf </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> reflection </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> _reflection</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">protobuf </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> symbol_database </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> _symbol_database</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># @@protoc_insertion_point(imports)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_sym_db </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> _symbol_database</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">DESCRIPTOR </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> _descriptor_pool</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">AddSerializedFile</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">b'\n\ncalculator\x12\ncalculator\".\n\nAddRequest\x12\x0f\n\x07number1\x18\x01 \x01(\x01\x12\x0f\n\x07number2\x18\x02 \x01(\x01\"\x1d\n\x0b\x41\x64\x64Response\x12\x0e\n\x06result\x18\x01 \x01(\x01\x32K\n\x11\x43\x61lculatorService\x12\x36\n\x03\x41\x64\x64\x12\x16.calculator.AddRequest\x1a\x17.calculator.AddResponseb\x06proto3'</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDREQUEST </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> DESCRIPTOR</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message_types_by_name</span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">'AddRequest'</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDRESPONSE </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> DESCRIPTOR</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">message_types_by_name</span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">'AddResponse'</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">AddRequest </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> _reflection</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">GeneratedProtocolMessageType</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'AddRequest'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">_message</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">Message</span><span class="token punctuation" style="color:#fff">,</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token string" style="color:#FDB869">'DESCRIPTOR'</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> _ADDREQUEST</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token string" style="color:#FDB869">'__module__'</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'calculator_pb2'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># @@protoc_insertion_point(class_scope:calculator.AddRequest)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_sym_db</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">RegisterMessage</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">AddRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">AddResponse </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> _reflection</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">GeneratedProtocolMessageType</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">'AddResponse'</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">_message</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">Message</span><span class="token punctuation" style="color:#fff">,</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token string" style="color:#FDB869">'DESCRIPTOR'</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> _ADDRESPONSE</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token string" style="color:#FDB869">'__module__'</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">'calculator_pb2'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># @@protoc_insertion_point(class_scope:calculator.AddResponse)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_sym_db</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">RegisterMessage</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">AddResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_CALCULATORSERVICE </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> DESCRIPTOR</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">services_by_name</span><span class="token punctuation" style="color:#fff">[</span><span class="token string" style="color:#FDB869">'CalculatorService'</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> _descriptor</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_USE_C_DESCRIPTORS </span><span class="token operator" style="color:#8DFFF8">==</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">False</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">DESCRIPTOR</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_options </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDREQUEST</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_start</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">26</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDREQUEST</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_end</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">72</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDRESPONSE</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_start</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">74</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_ADDRESPONSE</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_end</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">103</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_CALCULATORSERVICE</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_start</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">105</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">_CALCULATORSERVICE</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">_serialized_end</span><span class="token operator" style="color:#8DFFF8">=</span><span class="token number" style="color:#C586C0">180</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># @@protoc_insertion_point(module_scope)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-client-server-communication">3. Client-Server Communication<a class="hash-link" aria-label="Direct link to 3. Client-Server Communication" title="Direct link to 3. Client-Server Communication" href="https://tailcall.run/blog/what-is-grpc/#3-client-server-communication">‚Äã</a></h3>
<ul>
<li><strong>Transmission</strong>:
When a gRPC client initiates a request to a gRPC server, it sends an HTTP/2 request containing the service name, specific method, and serialized parameters using Protobuf. HTTP/2's advantages include multiplexing, enabling concurrent handling of multiple streams over a single connection, binary framing that minimizes overhead and accelerates data exchange, efficient header compression via HPACK, and integrated flow control mechanisms.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-serialization-and-deserialization">4. Serialization and Deserialization<a class="hash-link" aria-label="Direct link to 4. Serialization and Deserialization" title="Direct link to 4. Serialization and Deserialization" href="https://tailcall.run/blog/what-is-grpc/#4-serialization-and-deserialization">‚Äã</a></h3>
<ul>
<li><strong>Protobuf Serialization</strong>: Data exchanged between gRPC clients and servers is serialized and deserialized using Protobuf.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpc-service-methods">gRPC Service Methods<a class="hash-link" aria-label="Direct link to gRPC Service Methods" title="Direct link to gRPC Service Methods" href="https://tailcall.run/blog/what-is-grpc/#grpc-service-methods">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="gRPC Methods" src="https://tailcall.run/assets/images/methods-35307e474e222e0f3266a391be1d2e8f.png" width="602" height="404" class="img_ev3q"></p>
<ul>
<li>
<p><strong>Unary RPC</strong>: This is the simplest form where the client sends a single request to the server and receives a single response:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">UnaryExample</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">MyRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">MyResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Server Streaming RPC</strong>: The client sends a request to the server and receives a stream of responses:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">UnaryExample</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">MyRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">stream</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Client Streaming RPC</strong>: The client sends a stream of requests to the server and receives a single response:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">UnaryExample</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">stream</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">MyResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Bidirectional Streaming RPC</strong>: Both the client and server send a stream of messages to each other, establishing a persistent connection:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyService</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">UnaryExample</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">stream</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">stream</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">MyResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpc-vs-rest-basic-comparison">gRPC vs. REST: Basic Comparison<a class="hash-link" aria-label="Direct link to gRPC vs. REST: Basic Comparison" title="Direct link to gRPC vs. REST: Basic Comparison" href="https://tailcall.run/blog/what-is-grpc/#grpc-vs-rest-basic-comparison">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="payload size comparison" src="https://tailcall.run/assets/images/size-compare-ef1aa143ae128ea4e6b77d00b7fe5367.png" width="737" height="361" class="img_ev3q"></p>
<p><em>A comparison of payload sizes: REST JSON vs gRPC binary <a href="https://nilsmagnus.github.io/post/proto-json-sizes/" target="_blank" rel="noopener noreferrer">checkout full comparison </a></em></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="communication-model">Communication model<a class="hash-link" aria-label="Direct link to Communication model" title="Direct link to Communication model" href="https://tailcall.run/blog/what-is-grpc/#communication-model">‚Äã</a></h3>
<ul>
<li><strong>gRPC:</strong> RPC-based, strong typing, and allows unary and bi-directional streaming, making it feasible for modern-day applications and use-cases.</li>
<li><strong>REST:</strong> Stateless, used for CRUD-based operations over HTTP, follows a simple unary request/response cycle.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="data-format-and-serialization">Data format and serialization<a class="hash-link" aria-label="Direct link to Data format and serialization" title="Direct link to Data format and serialization" href="https://tailcall.run/blog/what-is-grpc/#data-format-and-serialization">‚Äã</a></h3>
<ul>
<li><strong>gRPC:</strong> Uses Protobuf for efficient binary serialization.</li>
<li><strong>REST:</strong> Uses a plain-text format like JSON and XML, which requires more processing in order to parse.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-cases-for-each">Use cases for each<a class="hash-link" aria-label="Direct link to Use cases for each" title="Direct link to Use cases for each" href="https://tailcall.run/blog/what-is-grpc/#use-cases-for-each">‚Äã</a></h3>
<ul>
<li><strong>gRPC:</strong> Suitable for internal microservices, real-time applications, and situations needing high-performance and time-sensitive communication.</li>
<li><strong>REST:</strong> Better for public APIs, browser-based applications, and situations requiring stateless operations where ease of use is a priority.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="advantages-of-grpc">Advantages of gRPC<a class="hash-link" aria-label="Direct link to Advantages of gRPC" title="Direct link to Advantages of gRPC" href="https://tailcall.run/blog/what-is-grpc/#advantages-of-grpc">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="efficiency-and-performance">Efficiency and performance<a class="hash-link" aria-label="Direct link to Efficiency and performance" title="Direct link to Efficiency and performance" href="https://tailcall.run/blog/what-is-grpc/#efficiency-and-performance">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="gRPC performance" src="https://tailcall.run/assets/images/grpc_performance-98f1ea4a03ee239664393b319ecea42f.webp" width="1500" height="750" class="img_ev3q"></p>
<p>Protobuf efficiently serializes messages on both the server and client sides, ensuring that data is transmitted in a compact binary format. This results in smaller message payloads, which are quicker to transmit over the network compared to the verbose JSON format used in REST APIs.</p>
<p>In addition, HTTP/2 uses features like header-compression, multiplexing and server-push which significantly reduce the payload size, as well as make response faster.</p>
<p>These features collectively contribute to significant performance gains, making gRPC <a href="https://medium.com/@EmperorRXF/evaluating-performance-of-rest-vs-grpc-1b8bdf0b22da" target="_blank" rel="noopener noreferrer">7-10 times</a> faster than traditional REST APIs using JSON.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="language-agnostic-nature">Language-agnostic nature<a class="hash-link" aria-label="Direct link to Language-agnostic nature" title="Direct link to Language-agnostic nature" href="https://tailcall.run/blog/what-is-grpc/#language-agnostic-nature">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="gRPC Language Agnostic" src="https://tailcall.run/assets/images/language_agnostic-8f1a65cf33ea3c4cf7e3b1fa9fa9839d.png" width="917" height="581" class="img_ev3q"></p>
<p>gRPC uses Protocol Buffers (Protobuf) as its (IDL) for describing both the structure and the semantics of the messages sent between clients and servers. Protobuf is independent of programming languages, meaning you can define your API once using Protobuf and then generate code in various languages to interact with it. This allows seamless integration of sub-systems API specification, while also enhancing the DX.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="strong-typing-and-code-generation">Strong typing and code generation<a class="hash-link" aria-label="Direct link to Strong typing and code generation" title="Direct link to Strong typing and code generation" href="https://tailcall.run/blog/what-is-grpc/#strong-typing-and-code-generation">‚Äã</a></h3>
<p>Protocol Buffers (Protobuf) defines both the structure and the types of messages exchanged between clients and servers within a .proto file, thereby establishing a clear and standardized API contract. This contract specifies the fields and their data types for each message, ensuring consistency and predictability in communication. By enforcing strong typing, Protobuf enhances code reliability by detecting type-related errors during compilation rather than at runtime. This approach not only prevents type mismatches and potential bugs but also saves developers time that would otherwise be spent implementing manual type-checking. Additionally, Protobuf's built-in type safety simplifies the development process, allowing developers to focus more on business logic and less on handling data integrity issues, thus improving the developer experience.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bidirectional-streaming-capabilities">Bidirectional streaming capabilities<a class="hash-link" aria-label="Direct link to Bidirectional streaming capabilities" title="Direct link to Bidirectional streaming capabilities" href="https://tailcall.run/blog/what-is-grpc/#bidirectional-streaming-capabilities">‚Äã</a></h3>
<p>Unlike traditional RPC methods that are unidirectional (either client-to-server or server-to-client), gRPC's bidirectional streaming allows both parties to establish a persistent connection and send a sequence of messages asynchronously.</p>
<p>Bidirectional streaming is particularly beneficial for applications requiring interactive and responsive communication, such as chat systems, collaborative tools, multiplayer games, and real-time data feeds.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extensibility-and-backward-compatibility">Extensibility and backward compatibility<a class="hash-link" aria-label="Direct link to Extensibility and backward compatibility" title="Direct link to Extensibility and backward compatibility" href="https://tailcall.run/blog/what-is-grpc/#extensibility-and-backward-compatibility">‚Äã</a></h3>
<p>gRPC using Protobuf as the IDL opens support for extensibility by allowing new fields, messages, and services to be added to the <code>.proto</code> file definitions. As services evolve, these changes can be propagated through automated code generation using the <code>protoc</code> compiler, which produces language-specific stubs and serializers/deserializers.</p>
<p>Moreover, explicit versioning and API contracts defined in the <code>.proto</code> files help manage compatibility between different versions of services. During the RPC connection handshake, gRPC allows clients and servers to negotiate capabilities, ensuring that both parties can communicate effectively even if they support different versions or extensions.</p>
<p><strong><em>Example:</em></strong></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">syntax</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"proto3"</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">package</span><span class="token plain"> greet</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">v1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">service</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Greeter</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">SayHello</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">HelloRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">HelloReply</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">HelloRequest</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> name </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">message</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">HelloReply</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> message </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token number" style="color:#C586C0">1</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="challenges-and-considerations">Challenges and Considerations<a class="hash-link" aria-label="Direct link to Challenges and Considerations" title="Direct link to Challenges and Considerations" href="https://tailcall.run/blog/what-is-grpc/#challenges-and-considerations">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="learning-curve">Learning curve<a class="hash-link" aria-label="Direct link to Learning curve" title="Direct link to Learning curve" href="https://tailcall.run/blog/what-is-grpc/#learning-curve">‚Äã</a></h3>
<p>gRPC has a much steeper learning curve compared to the traditional REST, mainly due to some new concepts like HTTP/2 and Protobuf which require significant practice and experience.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debugging-complexity">Debugging complexity<a class="hash-link" aria-label="Direct link to Debugging complexity" title="Direct link to Debugging complexity" href="https://tailcall.run/blog/what-is-grpc/#debugging-complexity">‚Äã</a></h3>
<p>Debugging gRPC applications can be really challenging compared to traditional REST APIs. The binary nature of Protobuf messages makes it difficult to inspect and manipulate payloads directly. Tools for debugging and tracing gRPC calls are available, but they often require additional setup and expertise.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ecosystem-maturity">Ecosystem maturity<a class="hash-link" aria-label="Direct link to Ecosystem maturity" title="Direct link to Ecosystem maturity" href="https://tailcall.run/blog/what-is-grpc/#ecosystem-maturity">‚Äã</a></h3>
<p>While gRPC has gained significant traction and support, its ecosystem is still maturing compared to REST. Some languages and frameworks may have limited or incomplete support for gRPC features. Additionally, there is less developer support on the internet, less browser-support and very few articles published which makes it challenging to learn especially for beginners.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browser-support-limitations">Browser support limitations<a class="hash-link" aria-label="Direct link to Browser support limitations" title="Direct link to Browser support limitations" href="https://tailcall.run/blog/what-is-grpc/#browser-support-limitations">‚Äã</a></h3>
<p>Current browser limitations prevent direct implementation of the HTTP/2 gRPC specification. Browsers lack the necessary APIs to provide fine-grained control over requests. For instance:</p>
<ol>
<li>There's no way to enforce the use of HTTP/2.</li>
<li>Even if HTTP/2 could be enforced, browsers can't access raw HTTP/2 frames.</li>
</ol>
<p>To address these limitations, the gRPC-Web specification was developed. It builds upon the HTTP/2 spec but introduces key differences:</p>
<ol>
<li>Support for both HTTP/1.1 and HTTP/2 protocols.</li>
<li>A new method for handling gRPC trailers:<!-- -->
<ul>
<li>Trailers are sent at the very end of request/response bodies.</li>
<li>A new bit in the gRPC message header indicates the presence of trailers.</li>
</ul>
</li>
<li>Requirement of a proxy server:<!-- -->
<ul>
<li>This proxy translates between gRPC-Web requests and standard gRPC HTTP/2 responses.</li>
<li>It's a mandatory component in the gRPC-Web architecture.</li>
</ul>
</li>
</ol>
<p>These adaptations allow gRPC-like functionality in web browsers while working within current browser constraints.</p>
<p>gRPC is powerful for service to service communication, but it may not be the best choice for public APIs or browser-based applications where REST/GraphQL is more prevalent.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To seamlessly integrate the benefits of both gRPC and GraphQL, you can easily generate GraphQL from gRPC using Tailcall. Check out the documentation here:</p><ul>
<li><a href="https://tailcall.run/docs/graphql-grpc-tailcall/" target="_blank" rel="noopener noreferrer">gRPC to GraphQL</a> .</li>
<li><a href="https://tailcall.run/docs/graphql-configuration-generation-with-tailcall/#effortless-grpc-integration" target="_blank" rel="noopener noreferrer">Automated gRPC to GraphQL</a></li>
</ul></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implementing-grpc-best-practices">Implementing gRPC: Best Practices<a class="hash-link" aria-label="Direct link to Implementing gRPC: Best Practices" title="Direct link to Implementing gRPC: Best Practices" href="https://tailcall.run/blog/what-is-grpc/#implementing-grpc-best-practices">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="designing-effective-protobuf-schemas">Designing Effective Protobuf Schemas<a class="hash-link" aria-label="Direct link to Designing Effective Protobuf Schemas" title="Direct link to Designing Effective Protobuf Schemas" href="https://tailcall.run/blog/what-is-grpc/#designing-effective-protobuf-schemas">‚Äã</a></h3>
<p>Creating efficient and maintainable Protobuf schemas is crucial. Use meaningful field names and provide clear comments for each field, otherwise you may end up in a nested jargon of types! Versioning schemas properly ensures backward and forward compatibility makes it easier to evolve your API without breaking existing clients.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="error-handling-and-status-codes">Error Handling and Status Codes<a class="hash-link" aria-label="Direct link to Error Handling and Status Codes" title="Direct link to Error Handling and Status Codes" href="https://tailcall.run/blog/what-is-grpc/#error-handling-and-status-codes">‚Äã</a></h3>
<p>Define and document all possible error codes your service can return. Consistent and informative error messages aid in debugging and provide a better experience for developers integrating with your API, if the API is not verbose about the error, the developer trying to integrate the API on the other side may get frustrated:</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><strong><em>A bad API is like a traffic jam - frustrating, confusing, and costly.</em></strong>
<a href="https://www.twitter.com/joshbloch" target="_blank" rel="noopener noreferrer"> - Joshua Bloch</a></p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="security-considerations-authentication-encryption">Security Considerations (Authentication, Encryption)<a class="hash-link" aria-label="Direct link to Security Considerations (Authentication, Encryption)" title="Direct link to Security Considerations (Authentication, Encryption)" href="https://tailcall.run/blog/what-is-grpc/#security-considerations-authentication-encryption">‚Äã</a></h3>
<p>Secure your gRPC services by implementing authentication and encryption. Use Transport Layer Security (TLS) to encrypt communication between clients and servers. Leverage gRPC's support for various authentication mechanisms, such as OAuth, JWT, or custom tokens, to ensure that only authorized clients can access your services.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance-optimization-techniques">Performance Optimization Techniques<a class="hash-link" aria-label="Direct link to Performance Optimization Techniques" title="Direct link to Performance Optimization Techniques" href="https://tailcall.run/blog/what-is-grpc/#performance-optimization-techniques">‚Äã</a></h3>
<p>gRPC API performance can be boosted in many ways. The channels are expensive to make, and reusing them instead of remaking has a significant impact.</p>
<p><strong><em>Example:</em></strong></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> grpc </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">require</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"grpc"</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Singleton instance for the gRPC channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> channel </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#C586C0">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">getGrpcChannel</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain">channel</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:#30C26D;font-style:italic">// Create a new channel if it doesn't exist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    channel </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">grpc</span><span class="token class-name punctuation" style="color:#fff">.</span><span class="token class-name" style="color:#C586C0">Client</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">"localhost:50051"</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> grpc</span><span class="token punctuation" style="color:#fff">.</span><span class="token property-access">credentials</span><span class="token punctuation" style="color:#fff">.</span><span class="token method function property-access" style="color:#FDEA2F">createInsecure</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> channel</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Example usage:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> myChannel </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">getGrpcChannel</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Use `myChannel` to make gRPC calls</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Alongside with reusing channels, many other ways can improve performance like implementing <a href="https://grpc.io/blog/grpc-load-balancing/" target="_blank" rel="noopener noreferrer">load-balancers</a> and using streaming instead of unary where needed.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpc-use-cases-and-real-world-examples">gRPC Use Cases and Real-World Examples<a class="hash-link" aria-label="Direct link to gRPC Use Cases and Real-World Examples" title="Direct link to gRPC Use Cases and Real-World Examples" href="https://tailcall.run/blog/what-is-grpc/#grpc-use-cases-and-real-world-examples">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="microservices-architecture">Microservices Architecture<a class="hash-link" aria-label="Direct link to Microservices Architecture" title="Direct link to Microservices Architecture" href="https://tailcall.run/blog/what-is-grpc/#microservices-architecture">‚Äã</a></h3>
<p>gRPC is well-suited for microservices architectures, enabling efficient communication between services. Companies like Netflix and Google use gRPC to connect their microservices, benefiting from its performance and strong typing. It ensures reliable, low-latency communication, which is crucial for maintaining responsive and scalable microservices.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="real-time-communication-systems">Real-Time Communication Systems<a class="hash-link" aria-label="Direct link to Real-Time Communication Systems" title="Direct link to Real-Time Communication Systems" href="https://tailcall.run/blog/what-is-grpc/#real-time-communication-systems">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="enter image description here" src="https://tailcall.run/assets/images/realtime-375fd2cf1837a0ae1de8cd74fbd240cd.png" width="802" height="503" class="img_ev3q"></p>
<p>gRPC is ideal for real-time communication systems such as chat applications, online gaming, and live streaming services. Its support for bidirectional streaming allows for seamless and efficient data exchange between clients and servers, enabling real-time interactions and reducing latency.</p>
<p><a href="https://github.com/googleforgames/open-match/blob/d781be1a3ce1b6b7fce495345b23256089f55de9/api/backend.proto#L132" target="_blank" rel="noopener noreferrer">A snippet from Open-Match, a gaming framework:</a></p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// Tickets in matches returned by FetchMatches are moved from active to</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic">// pending, and will not be returned by query.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">rpc</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">FetchMatches</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">FetchMatchesRequest</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">stream</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">FetchMatchesResponse</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">option</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">google</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      post</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"/v1/backendservice/matches:fetch"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">"*"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="iot-and-edge-computing">IoT and Edge Computing<a class="hash-link" aria-label="Direct link to IoT and Edge Computing" title="Direct link to IoT and Edge Computing" href="https://tailcall.run/blog/what-is-grpc/#iot-and-edge-computing">‚Äã</a></h3>
<p>In IoT and edge computing scenarios, gRPC's low overhead and efficient communication make it suitable for resource-constrained devices. It enables reliable communication between edge devices and central servers, facilitating data collection, processing, and command execution in real time.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mobile-and-web-applications">Mobile and Web Applications<a class="hash-link" aria-label="Direct link to Mobile and Web Applications" title="Direct link to Mobile and Web Applications" href="https://tailcall.run/blog/what-is-grpc/#mobile-and-web-applications">‚Äã</a></h3>
<p>gRPC is increasingly used in mobile and web applications to improve performance and reduce bandwidth usage. For example, companies like Lyft use gRPC to enhance the efficiency of their mobile apps, ensuring faster response times and a smoother user experience.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tools-and-frameworks-for-grpc-development">Tools and Frameworks for gRPC Development<a class="hash-link" aria-label="Direct link to Tools and Frameworks for gRPC Development" title="Direct link to Tools and Frameworks for gRPC Development" href="https://tailcall.run/blog/what-is-grpc/#tools-and-frameworks-for-grpc-development">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="popular-grpc-libraries-for-different-languages">Popular gRPC Libraries for Different Languages<a class="hash-link" aria-label="Direct link to Popular gRPC Libraries for Different Languages" title="Direct link to Popular gRPC Libraries for Different Languages" href="https://tailcall.run/blog/what-is-grpc/#popular-grpc-libraries-for-different-languages">‚Äã</a></h3>
<p>gRPC has libraries and tooling support for various programming languages:</p>
<ul>
<li><a href="https://github.com/grpc/grpc" target="_blank" rel="noopener noreferrer">gRPC Core</a> - C, C++, Ruby, Node.js, Python, PHP, C#, Objective-C</li>
<li><a href="https://github.com/grpc/grpc-java" target="_blank" rel="noopener noreferrer">gRPC Java</a> - The Java gRPC implementation. HTTP/2 based RPC</li>
<li><a href="https://github.com/grpc/grpc-node" target="_blank" rel="noopener noreferrer">gRPC Node.js</a> - gRPC for Node.js</li>
<li><a href="https://github.com/grpc/grpc-go" target="_blank" rel="noopener noreferrer">gRPC Go</a> - The Go language implementation of gRPC. HTTP/2 based RPC</li>
<li><a href="https://github.com/grpc/grpc-dotnet" target="_blank" rel="noopener noreferrer">gRPC C#</a> - The C# language implementation of gRPC</li>
<li><a href="https://github.com/grpc/grpc-web" target="_blank" rel="noopener noreferrer">gRPC Web</a> - gRPC for Web Clients</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="testing-and-debugging-tools">Testing and Debugging Tools<a class="hash-link" aria-label="Direct link to Testing and Debugging Tools" title="Direct link to Testing and Debugging Tools" href="https://tailcall.run/blog/what-is-grpc/#testing-and-debugging-tools">‚Äã</a></h3>
<ul>
<li><a href="https://github.com/bojand/ghz" target="_blank" rel="noopener noreferrer">ghz</a></li>
<li><a href="https://github.com/phiSgr/gatling-grpc" target="_blank" rel="noopener noreferrer">gatling-grpc</a></li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="api-management-platforms">API Management Platforms<a class="hash-link" aria-label="Direct link to API Management Platforms" title="Direct link to API Management Platforms" href="https://tailcall.run/blog/what-is-grpc/#api-management-platforms">‚Äã</a></h3>
<ul>
<li><a href="https://postman.com/" target="_blank" rel="noopener noreferrer">Postman</a></li>
<li><a href="https://github.com/gogo/letmegrpc" target="_blank" rel="noopener noreferrer">letmegrpc</a></li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="future-of-grpc-and-api-communication">Future of gRPC and API Communication<a class="hash-link" aria-label="Direct link to Future of gRPC and API Communication" title="Direct link to Future of gRPC and API Communication" href="https://tailcall.run/blog/what-is-grpc/#future-of-grpc-and-api-communication">‚Äã</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emerging-trends-in-api-design">Emerging Trends in API Design<a class="hash-link" aria-label="Direct link to Emerging Trends in API Design" title="Direct link to Emerging Trends in API Design" href="https://tailcall.run/blog/what-is-grpc/#emerging-trends-in-api-design">‚Äã</a></h3>
<p>The future of API design is moving towards more efficient and flexible communication protocols like gRPC. With the rise of microservices, IoT, and real-time applications, gRPC's performance advantages make it a compelling choice. Trends like GraphQL and RESTful JSON APIs will continue to coexist, but gRPC will gain traction for specific use cases requiring high efficiency and low latency.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grpcs-role-in-cloud-native-applications">gRPC's Role in Cloud-Native Applications<a class="hash-link" aria-label="Direct link to gRPC's Role in Cloud-Native Applications" title="Direct link to gRPC's Role in Cloud-Native Applications" href="https://tailcall.run/blog/what-is-grpc/#grpcs-role-in-cloud-native-applications">‚Äã</a></h3>
<p>gRPC is becoming a cornerstone of cloud-native applications, facilitating communication in containerized environments orchestrated by platforms like Kubernetes. Its ability to handle high-performance, low-latency communication is essential for the scalability and reliability of cloud-native architectures.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="potential-improvements-and-extensions">Potential Improvements and Extensions<a class="hash-link" aria-label="Direct link to Potential Improvements and Extensions" title="Direct link to Potential Improvements and Extensions" href="https://tailcall.run/blog/what-is-grpc/#potential-improvements-and-extensions">‚Äã</a></h3>
<p>The gRPC ecosystem is continuously evolving, with potential improvements and extensions on the horizon. Enhancements in tooling, support for more languages, better integration with existing frameworks, and increased adoption of gRPC-Web are some areas of expected growth. The community's efforts to address current limitations will make gRPC more accessible and robust for a wider range of applications.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/what-is-grpc/#conclusion">‚Äã</a></h2>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="recap-of-grpcs-key-features-and-benefits">Recap of gRPC's key features and benefits<a class="hash-link" aria-label="Direct link to Recap of gRPC's key features and benefits" title="Direct link to Recap of gRPC's key features and benefits" href="https://tailcall.run/blog/what-is-grpc/#recap-of-grpcs-key-features-and-benefits">‚Äã</a></h4>
<p>In summary, gRPC offers efficient, low-latency communication, strong typing through Protobuf, and support for multiple languages. Its bidirectional streaming and multiplexing capabilities make it ideal for real-time and microservices-based applications. The performance and reliability of gRPC provide significant advantages over traditional REST APIs in many scenarios, mainly because of the new HTTP/2 and its binary nature.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="considerations-for-adopting-grpc-in-projects">Considerations for Adopting gRPC in Projects<a class="hash-link" aria-label="Direct link to Considerations for Adopting gRPC in Projects" title="Direct link to Considerations for Adopting gRPC in Projects" href="https://tailcall.run/blog/what-is-grpc/#considerations-for-adopting-grpc-in-projects">‚Äã</a></h4>
<p>When considering gRPC for your projects, ensure that your team is prepared to handle the challenges and leverage the best practices discussed to design, implement, and maintain robust gRPC services. Make sure you have enough support resources and officials, as gRPC doesn't have a community as large as REST.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="further-resources">Further Resources<a class="hash-link" aria-label="Direct link to Further Resources" title="Direct link to Further Resources" href="https://tailcall.run/blog/what-is-grpc/#further-resources">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="official-documentation-and-tutorials">Official documentation and tutorials<a class="hash-link" aria-label="Direct link to Official documentation and tutorials" title="Direct link to Official documentation and tutorials" href="https://tailcall.run/blog/what-is-grpc/#official-documentation-and-tutorials">‚Äã</a></h4>
<ul>
<li><a href="https://grpc.io/" target="_blank" rel="noopener noreferrer">gRPC Official Documentation</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="community-forums-and-support">Community forums and support<a class="hash-link" aria-label="Direct link to Community forums and support" title="Direct link to Community forums and support" href="https://tailcall.run/blog/what-is-grpc/#community-forums-and-support">‚Äã</a></h4>
<ul>
<li><a href="https://twitter.com/grpcio" target="_blank" rel="noopener noreferrer">gRPC Twitter handle</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/grpc" target="_blank" rel="noopener noreferrer">gRPC StackOverflow tag</a></li>
<li><a href="https://app.gitter.im/#/room/#grpc_grpc:gitter.im" target="_blank" rel="noopener noreferrer">gRPC Gitter room</a></li>
<li><a href="https://groups.google.com/g/grpc-io" target="_blank" rel="noopener noreferrer">gRPC Google Group</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="books-for-in-depth-learning">Books for in-depth learning<a class="hash-link" aria-label="Direct link to Books for in-depth learning" title="Direct link to Books for in-depth learning" href="https://tailcall.run/blog/what-is-grpc/#books-for-in-depth-learning">‚Äã</a></h4>
<ul>
<li><a href="https://www.oreilly.com/library/view/grpc-up-and/9781492058328/" target="_blank" rel="noopener noreferrer">gRPC: Up and Running</a></li>
<li><a href="https://www.manning.com/books/grpc-microservices-in-go" target="_blank" rel="noopener noreferrer">gRPC Microservices in Go</a></li>
</ul>]]></content>
        <author>
            <name>Hunain Ahmed</name>
            <uri>https://github.com/hunxjunedo</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Are Hackers Using Your Own GraphQL API Against You?]]></title>
        <id>https://tailcall.run/blog/graphql-introspection-security/</id>
        <link href="https://tailcall.run/blog/graphql-introspection-security/"/>
        <updated>2024-07-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how attackers exploit GraphQL introspection and the battle-tested strategies to keep your data safe.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="GraphQL Introspection Security Issues" src="https://tailcall.run/assets/images/introspection-issues-b5610dc179346145d29704b5b21752a4.png" width="1726" height="805" class="img_ev3q">
GraphQL has taken the API world by storm, offering developers a flexible and powerful way to interact with backend systems. But with great power comes great responsibility‚Äîespecially when it comes to security.</p>
<p>Let's dive into one of GraphQL's most fascinating features: introspection. It's a double-edged sword that can be both a developer's best friend and a security expert's nightmare.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="understanding-graphql-introspection">Understanding GraphQL Introspection<a class="hash-link" aria-label="Direct link to Understanding GraphQL Introspection" title="Direct link to Understanding GraphQL Introspection" href="https://tailcall.run/blog/graphql-introspection-security/#understanding-graphql-introspection">‚Äã</a></h2>
<p>Imagine having a magical lens that lets you peek into the very structure of a GraphQL server. That's essentially what introspection does! It's like having a detailed map of a treasure trove, showing you every nook and cranny of the API's capabilities. This self-documenting capability is incredibly useful for developers, enabling tools like GraphiQL and GraphQL Playground to provide rich, interactive documentation and auto-completion features.</p>
<p>A basic introspection query might look like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token object">__schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token object">types</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token object">fields</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">          </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This query asks the server to return information about all the types in the schema, including their fields and field types. The server's response provides a comprehensive map of its structure, which can be invaluable during development.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-security-implications-of-introspection">The Security Implications of Introspection<a class="hash-link" aria-label="Direct link to The Security Implications of Introspection" title="Direct link to The Security Implications of Introspection" href="https://tailcall.run/blog/graphql-introspection-security/#the-security-implications-of-introspection">‚Äã</a></h2>
<p>While introspection is a goldmine for developers, it can also be a treasure map for attackers. Let's put on our black hat for a moment and see how a malicious actor might exploit this feature.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="schema-reconnaissance">Schema Reconnaissance<a class="hash-link" aria-label="Direct link to Schema Reconnaissance" title="Direct link to Schema Reconnaissance" href="https://tailcall.run/blog/graphql-introspection-security/#schema-reconnaissance">‚Äã</a></h3>
<p>One of the primary risks of introspection is schema reconnaissance. An attacker who gains access to a GraphQL endpoint can use introspection to explore the schema and identify potential targets for further attacks. This includes discovering sensitive types and fields, as well as understanding the relationships between different parts of the schema. Armed with this knowledge, an attacker can craft more effective queries to exploit vulnerabilities in the system.</p>
<p>For instance, an attacker might discover a 'User' type with fields like 'email', 'password', and 'isAdmin'. They could then craft a query to exploit this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token object">allUsers</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">email</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">password</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">isAdmin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>If not properly secured, this query could potentially expose sensitive user data. The attacker might also notice an 'updateUser' mutation, which could be a target for privilege escalation attempts.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="information-disclosure">Information Disclosure<a class="hash-link" aria-label="Direct link to Information Disclosure" title="Direct link to Information Disclosure" href="https://tailcall.run/blog/graphql-introspection-security/#information-disclosure">‚Äã</a></h3>
<p>Another significant risk is information disclosure. The introspection feature can inadvertently reveal implementation details that should remain hidden. This includes internal types, deprecated fields, and administrative functionalities. Such exposure can give attackers clues about the underlying system architecture and any potential weaknesses.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attack-surface-expansion">Attack Surface Expansion<a class="hash-link" aria-label="Direct link to Attack Surface Expansion" title="Direct link to Attack Surface Expansion" href="https://tailcall.run/blog/graphql-introspection-security/#attack-surface-expansion">‚Äã</a></h3>
<p>By using introspection, attackers can significantly expand their attack surface. They can identify entry points for various attacks, including SQL injection, cross-site scripting (XSS), and denial of service (DoS) attacks. For instance, if introspection reveals that certain fields accept user input, an attacker might probe these fields for injection vulnerabilities.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mitigating-introspection-risks">Mitigating Introspection Risks<a class="hash-link" aria-label="Direct link to Mitigating Introspection Risks" title="Direct link to Mitigating Introspection Risks" href="https://tailcall.run/blog/graphql-introspection-security/#mitigating-introspection-risks">‚Äã</a></h2>
<p>Now, let's switch gears and become the defenders of our GraphQL realm. Here are some battle-tested strategies to keep your API safe from prying eyes:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disable-introspection-in-production">Disable Introspection in Production<a class="hash-link" aria-label="Direct link to Disable Introspection in Production" title="Direct link to Disable Introspection in Production" href="https://tailcall.run/blog/graphql-introspection-security/#disable-introspection-in-production">‚Äã</a></h3>
<p>Disabling introspection in production is crucial because it significantly reduces the information available to potential attackers. Without introspection, they can't easily map out your API's structure or discover hidden fields and types. This forces attackers to rely on guesswork or prior knowledge, making their job much more difficult. However, it's important to note that this is not a silver bullet‚Äîdetermined attackers may still attempt to reverse-engineer your API through trial and error.</p>
<p>In many GraphQL implementations, disabling introspection is straightforward. For example, in <a href="https://tailcall.run/docs/tailcall-dsl-graphql-custom-directives/#introspection" target="_blank" rel="noopener noreferrer">Tailcall</a>, you can disable introspection by setting the <code>introspection</code> option to <code>false</code>:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#fff"><span class="token plain">  </span><span class="token directive function" style="color:#FDEA2F">@server</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">introspection</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token boolean" style="color:#C586C0">false</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">mutation</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This configuration ensures that introspection is disabled.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implement-authentication-and-authorization">Implement Authentication and Authorization<a class="hash-link" aria-label="Direct link to Implement Authentication and Authorization" title="Direct link to Implement Authentication and Authorization" href="https://tailcall.run/blog/graphql-introspection-security/#implement-authentication-and-authorization">‚Äã</a></h3>
<p>Another critical measure is to implement robust authentication and authorization mechanisms. By ensuring that only authenticated and authorized users can access your GraphQL endpoint, you can reduce the risk of unauthorized introspection queries. Use industry-standard authentication protocols such as OAuth2 or JWT to secure your endpoints.</p>
<p>Imagine a GraphQL API for a banking application. You might implement role-based access control where only users with an 'ADMIN' role can access certain fields or mutations.</p>
<p>In <a href="https://tailcall.run/docs/field-level-access-control-graphql-authentication/" target="_blank" rel="noopener noreferrer">Tailcall</a>, you can achieve this by using the <code>@protected</code> directive.</p>
<p>Tailcall supports a variety of authentication and authorization mechanisms, including JWT, OAuth2, and custom authentication strategies.</p>
<p>This ensures that even if an attacker gains access to a regular user account, they can't use it to access sensitive admin-only data or operations.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rate-limiting-and-throttling">Rate Limiting and Throttling<a class="hash-link" aria-label="Direct link to Rate Limiting and Throttling" title="Direct link to Rate Limiting and Throttling" href="https://tailcall.run/blog/graphql-introspection-security/#rate-limiting-and-throttling">‚Äã</a></h3>
<p>Rate limiting and throttling can also help mitigate the risks of introspection. By limiting the number of queries a client can execute within a given timeframe, you can reduce the likelihood of an attacker using introspection to gather information about your schema. Implementing these controls can also help protect your server from DoS attacks.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="query-allow-lists">Query Allow Lists<a class="hash-link" aria-label="Direct link to Query Allow Lists" title="Direct link to Query Allow Lists" href="https://tailcall.run/blog/graphql-introspection-security/#query-allow-lists">‚Äã</a></h3>
<p>Query allow lists work by pre-registering all valid queries that your application needs. This is typically done during the build process of your frontend application. Each query is hashed, and these hashes are stored on the server. When a query comes in, its hash is checked against the allow list.</p>
<p>For example, you might have a client-side query like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">query</span><span class="token plain"> </span><span class="token definition-query function" style="color:#FDEA2F">GetUserProfile</span><span class="token punctuation" style="color:#fff">(</span><span class="token variable" style="color:#E36209">$id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token property-query">user</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token variable" style="color:#E36209">$id</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token property" style="color:#C586C0">email</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This query would be hashed and stored on the server. When executed, the server checks if the incoming query's hash matches any in its allow list. If not, it's rejected.</p>
<p>This approach is powerful because it completely prevents arbitrary queries, including introspection queries, from being executed. It does require more setup and maintenance, especially in applications where queries change frequently, but it provides a very high level of security.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="monitor-and-log-introspection-queries">Monitor and Log Introspection Queries<a class="hash-link" aria-label="Direct link to Monitor and Log Introspection Queries" title="Direct link to Monitor and Log Introspection Queries" href="https://tailcall.run/blog/graphql-introspection-security/#monitor-and-log-introspection-queries">‚Äã</a></h3>
<p>Monitoring and logging introspection queries can provide valuable insights into potential security threats. By tracking when and how introspection queries are executed, you can identify suspicious activity and respond accordingly. Implement logging at both the application and network levels to capture detailed information about each query.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-a-web-application-firewall-waf">Use a Web Application Firewall (WAF)<a class="hash-link" aria-label="Direct link to Use a Web Application Firewall (WAF)" title="Direct link to Use a Web Application Firewall (WAF)" href="https://tailcall.run/blog/graphql-introspection-security/#use-a-web-application-firewall-waf">‚Äã</a></h3>
<p>A WAF can be particularly effective for GraphQL APIs because it can be configured to understand GraphQL-specific threats. For instance, you can set up rules to:</p>
<ol>
<li>Limit query depth: Prevent deeply nested queries that could overload your server.</li>
<li>Restrict field counts: Avoid overly broad queries that request too many fields at once.</li>
<li>Block known malicious patterns: Such as attempts to inject malicious code into queries.</li>
</ol>
<p>For example, a WAF rule might look like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">SecRule ARGS_POST:query "@contains __schema" \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    "id:1000,\</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    phase:2,\</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    t:none,\</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    block,\</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    msg:'GraphQL introspection query detected'"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This rule would block any POST request containing '__schema' in the query parameter, which is typically indicative of an introspection query.</p>
<p>By implementing these kinds of rules, a WAF adds an extra layer of protection, catching many potential attacks before they even reach your GraphQL server.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-introspection-security/#conclusion">‚Äã</a></h2>
<p>Securing GraphQL is like playing a high-stakes game of chess. You need to think several moves ahead, anticipating potential threats while leveraging the strengths of your position. By implementing these strategies, you're not just protecting your API‚Äîyou're ensuring that GraphQL's power remains in the right hands. Stay vigilant, keep learning, and may your queries be ever secure!</p>
<p>By prioritizing security in your GraphQL implementation, you can harness the power of this modern query language while safeguarding your data and maintaining the trust of your users. Securing GraphQL is an ongoing process that requires vigilance and a proactive approach. Stay informed about the latest security developments, regularly review and update your security measures, and ensure that your development and security teams are aligned in their efforts to protect your applications.</p>]]></content>
        <author>
            <name>Amit Singh</name>
            <uri>https://github.com/amitksingh1490</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="Schema" term="Schema"/>
        <category label="Security" term="Security"/>
        <category label="Introspection" term="Introspection"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Design a GraphQL Schema So Good, It'll Make REST APIs Cry - Part 1]]></title>
        <id>https://tailcall.run/blog/graphql-schema/</id>
        <link href="https://tailcall.run/blog/graphql-schema/"/>
        <updated>2024-07-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how to design a robust, scalable GraphQL schema. Best practices and considerations to build a schema that can evolve with your application's needs.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="GraphQL Schema Structure" src="https://tailcall.run/assets/images/graphql-schema-structure-a3ef3dada0602b3b1de4dfd4f9c8a9cf.png" width="1854" height="877" class="img_ev3q"></p>
<p>Designing a robust, scalable GraphQL schema is critical for building production-ready APIs that can evolve with your application's needs. In this comprehensive guide, we'll walk through the process of crafting a GraphQL schema for a real-world application, highlighting best practices and considerations along the way.</p>
<p>If you are thinking how we could possibly cover all of the lovely intricacies associated with this topic in one go, you are right, we can't and so we are not! We have created an amazing series to take you through the nuances of working with GraphQL schemas.</p>
<p>Let's break our job into puzzle pieces. Let's start by simply creating designing a brand new schema!</p>
<div style="text-align:center;margin:16px"><img src="https://tailcall.run/images/blog/puzzle-graphql-schema-1.png" alt="puzzle piece to visualise the series" style="max-width:40%"></div>
<p>If you're new to GraphQL Schema, check out our <a href="https://tailcall.run/graphql/schemas-and-types/" target="_blank" rel="noopener noreferrer">GraphQL Schema Tutorial</a> to get up to speed with the basics.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-power-of-graphql-schemas">The Power of GraphQL Schemas<a class="hash-link" aria-label="Direct link to The Power of GraphQL Schemas" title="Direct link to The Power of GraphQL Schemas" href="https://tailcall.run/blog/graphql-schema/#the-power-of-graphql-schemas">‚Äã</a></h2>
<p>A well-designed GraphQL schema serves as the blueprint for your entire API. It defines:</p>
<ul>
<li>The types of data available</li>
<li>The relationships between those types</li>
<li>The operations clients can perform (queries, mutations, subscriptions)</li>
<li>The structure of requests and responses</li>
</ul>
<p>Your schema acts as a contract between your backend and frontend teams. Once published, clients can rely on its structure, enabling them to build UIs with confidence. A thoughtful schema design upfront can save significant refactoring down the road.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="our-example-application-techtalent">Our Example Application: TechTalent<a class="hash-link" aria-label="Direct link to Our Example Application: TechTalent" title="Direct link to Our Example Application: TechTalent" href="https://tailcall.run/blog/graphql-schema/#our-example-application-techtalent">‚Äã</a></h2>
<p>To illustrate schema design principles, let's imagine we're building TechTalent - a platform connecting tech companies with job seekers. Our application will allow:</p>
<ul>
<li>Companies to post job listings</li>
<li>Candidates to create profiles and apply to jobs</li>
<li>Recruiters to search candidates and manage applications</li>
</ul>
<p>We'll design our schema step-by-step to support these core features.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-identify-core-types">Step 1: Identify Core Types<a class="hash-link" aria-label="Direct link to Step 1: Identify Core Types" title="Direct link to Step 1: Identify Core Types" href="https://tailcall.run/blog/graphql-schema/#step-1-identify-core-types">‚Äã</a></h2>
<p>The first step is to identify the main entities in our domain. For TechTalent, our core types might include:</p>
<ul>
<li>Company</li>
<li>JobListing</li>
<li>Candidate</li>
<li>Application</li>
<li>Recruiter</li>
</ul>
<p>Let's start by defining these as object types in our schema:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">description</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># More fields to come</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">description</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># More fields to come</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Candidate</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># More fields to come</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Application</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># More fields to come</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Recruiter</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># More fields to come</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Notice we've only included a few basic fields at this stage. We'll flesh these out as we progress.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-model-relationships">Step 2: Model Relationships<a class="hash-link" aria-label="Direct link to Step 2: Model Relationships" title="Direct link to Step 2: Model Relationships" href="https://tailcall.run/blog/graphql-schema/#step-2-model-relationships">‚Äã</a></h2>
<p>Next, we need to consider how these types relate to each other. In GraphQL, we model relationships by adding fields that reference other types. Let's update our types:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">description</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListings</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">recruiters</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Recruiter</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">description</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">company</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">applications</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Application</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Candidate</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">applications</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Application</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Application</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListing</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">candidate</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Candidate</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">status</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ApplicationStatus</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Recruiter</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">company</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">enum</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ApplicationStatus</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">PENDING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">REVIEWED</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">REJECTED</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">ACCEPTED</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We've now established the core relationships:</p>
<ul>
<li>Companies have job listings and recruiters</li>
<li>Job listings belong to a company and have applications</li>
<li>Candidates have applications</li>
<li>Applications link a candidate to a job listing</li>
<li>Recruiters belong to a company</li>
</ul>
<p>Note the use of the <code>ApplicationStatus</code> enum to represent the fixed set of possible statuses.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-plan-query-operations">Step 3: Plan Query Operations<a class="hash-link" aria-label="Direct link to Step 3: Plan Query Operations" title="Direct link to Step 3: Plan Query Operations" href="https://tailcall.run/blog/graphql-schema/#step-3-plan-query-operations">‚Äã</a></h2>
<p>With our core types defined, let's consider what query operations our clients will need. We'll start with some basic CRUD (Create, Read, Update, Delete) operations:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">company</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListing</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">candidate</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Candidate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># List operations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">companies</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Company</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListings</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">filters</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListingFilters</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">candidates</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">filters</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CandidateFilters</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Candidate</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token object">JobListingFilters</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">companyId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Add more filter options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token object">CandidateFilters</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">skills</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">experienceYears</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Add more filter options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We've added basic queries to fetch individual entities by ID, as well as list queries for our main types. Notice the use of <code>input</code> types for filters - this allows for more flexible and extensible querying.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-plan-mutation-operations">Step 4: Plan Mutation Operations<a class="hash-link" aria-label="Direct link to Step 4: Plan Mutation Operations" title="Direct link to Step 4: Plan Mutation Operations" href="https://tailcall.run/blog/graphql-schema/#step-4-plan-mutation-operations">‚Äã</a></h2>
<p>Next, let's define some mutation operations to allow clients to modify data:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Company mutations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createCompany</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">CreateCompanyInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CreateCompanyPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updateCompany</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UpdateCompanyInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UpdateCompanyPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Job Listing mutations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createJobListing</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">CreateJobListingInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CreateJobListingPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updateJobListing</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UpdateJobListingInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UpdateJobListingPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Candidate mutations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createCandidate</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">CreateCandidateInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CreateCandidatePayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updateCandidate</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">UpdateCandidateInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UpdateCandidatePayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># Application mutations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">submitApplication</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">SubmitApplicationInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">SubmitApplicationPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updateApplicationStatus</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">status</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">ApplicationStatus</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UpdateApplicationStatusPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic"># Input and Payload types for each mutation...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Notice the pattern we're using for mutations:</p>
<ol>
<li>Each mutation has a corresponding input type</li>
<li>Each mutation returns a payload type</li>
</ol>
<p>This structure offers several benefits:</p>
<ul>
<li>Input types allow for easy addition of new fields in the future</li>
<li>Payload types can include both the modified entity and any errors or metadata</li>
<li>It provides a consistent structure across all mutations</li>
</ul>
<p>Let's look at an example input and payload type:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">CreateJobListingInput</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">companyId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">description</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">requirements</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">salary</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">SalaryInput</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">SalaryInput</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">min</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">max</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">currency</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">CreateJobListingPayload</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListing</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">errors</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Error</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Error</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">message</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">path</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This structure allows for detailed error reporting and future extensibility.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-consider-authentication-and-authorization">Step 5: Consider Authentication and Authorization<a class="hash-link" aria-label="Direct link to Step 5: Consider Authentication and Authorization" title="Direct link to Step 5: Consider Authentication and Authorization" href="https://tailcall.run/blog/graphql-schema/#step-5-consider-authentication-and-authorization">‚Äã</a></h2>
<p>In a production application, we need to consider authentication and authorization. Let's add some operations for user management:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... previous mutations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">signup</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">SignupInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AuthPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">login</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">input</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">LoginInput</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AuthPayload</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">logout</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Boolean</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">SignupInput</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">password</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">role</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UserRole</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">input</span><span class="token plain"> </span><span class="token atom-input class-name" style="color:#C586C0">LoginInput</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">password</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">AuthPayload</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">token</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">role</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UserRole</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">enum</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">UserRole</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">CANDIDATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">RECRUITER</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token constant" style="color:#C586C0">ADMIN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We've added basic authentication operations and a <code>User</code> type to represent authenticated users. In a real-world scenario, you'd likely want to implement more robust authentication and authorization mechanisms.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-implement-pagination">Step 6: Implement Pagination<a class="hash-link" aria-label="Direct link to Step 6: Implement Pagination" title="Direct link to Step 6: Implement Pagination" href="https://tailcall.run/blog/graphql-schema/#step-6-implement-pagination">‚Äã</a></h2>
<p>As our application grows, we'll need to implement pagination for our list queries. Let's update our <code>jobListings</code> query to use cursor-based pagination:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... other queries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">jobListings</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">first</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">after</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token attr-name" style="color:#8DFFF8">filters</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListingFilters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListingConnection</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListingConnection</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">edges</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">JobListingEdge</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token punctuation" style="color:#fff">]</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">pageInfo</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">PageInfo</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListingEdge</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">node</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">cursor</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">PageInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">hasNextPage</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">Boolean</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">endCursor</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This implementation follows the Relay connection specification, which provides a standardized way to handle pagination in GraphQL.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-7-plan-for-real-time-updates">Step 7: Plan for Real-time Updates<a class="hash-link" aria-label="Direct link to Step 7: Plan for Real-time Updates" title="Direct link to Step 7: Plan for Real-time Updates" href="https://tailcall.run/blog/graphql-schema/#step-7-plan-for-real-time-updates">‚Äã</a></h2>
<p>For certain features, we might want to provide real-time updates. Let's add a subscription to notify when new job listings are posted:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Subscription</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">newJobListing</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Clients can subscribe to this operation to receive updates whenever a new job listing is created.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-8-implement-custom-scalars">Step 8: Implement Custom Scalars<a class="hash-link" aria-label="Direct link to Step 8: Implement Custom Scalars" title="Direct link to Step 8: Implement Custom Scalars" href="https://tailcall.run/blog/graphql-schema/#step-8-implement-custom-scalars">‚Äã</a></h2>
<p>Our schema might benefit from some custom scalar types for specific data formats. For example, let's add a <code>DateTime</code> scalar:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">scalar</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... other fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">postedAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">applicationDeadline</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We'll need to implement the serialization/deserialization logic for this scalar in our resolvers.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-9-use-interfaces-for-shared-fields">Step 9: Use Interfaces for Shared Fields<a class="hash-link" aria-label="Direct link to Step 9: Use Interfaces for Shared Fields" title="Direct link to Step 9: Use Interfaces for Shared Fields" href="https://tailcall.run/blog/graphql-schema/#step-9-use-interfaces-for-shared-fields">‚Äã</a></h2>
<p>As our schema grows, we might notice some types sharing common fields. We can use interfaces to model this shared structure:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Timestamped</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createdAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updatedAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Timestamped</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createdAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updatedAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... other fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">JobListing</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Timestamped</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">createdAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">updatedAt</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">DateTime</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... other fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>This approach promotes consistency and can make it easier to implement features that work across multiple types.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-10-document-your-schema">Step 10: Document Your Schema<a class="hash-link" aria-label="Direct link to Step 10: Document Your Schema" title="Direct link to Step 10: Document Your Schema" href="https://tailcall.run/blog/graphql-schema/#step-10-document-your-schema">‚Äã</a></h2>
<p>Finally, it's crucial to document your schema thoroughly. GraphQL allows for built-in documentation:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token description string" style="color:#FDB869">"""</span><span class="token description string language-markdown" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869">Represents a company on the TechTalent platform.</span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869"></span><span class="token description string" style="color:#FDB869">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Company</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">implements</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Node</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Timestamped</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token description string" style="color:#FDB869">"""</span><span class="token description string language-markdown" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869">  Unique identifier for the company.</span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869">  </span><span class="token description string" style="color:#FDB869">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token description string" style="color:#FDB869">"""</span><span class="token description string language-markdown" style="color:#FDB869"></span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869">  The name of the company.</span><br></span><span class="token-line" style="color:#fff"><span class="token description string language-markdown" style="color:#FDB869">  </span><span class="token description string" style="color:#FDB869">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token comment" style="color:#30C26D;font-style:italic"># ... other fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Good documentation helps both your team and API consumers understand the purpose and usage of each type and field.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="visualizing-the-schema">Visualizing the Schema<a class="hash-link" aria-label="Direct link to Visualizing the Schema" title="Direct link to Visualizing the Schema" href="https://tailcall.run/blog/graphql-schema/#visualizing-the-schema">‚Äã</a></h2>
<p>To better understand the relationships in our schema, let's visualize the core types:</p>
<p><img decoding="async" loading="lazy" alt="Diagram Illustrating Relationships between various types " src="https://tailcall.run/assets/images/entity-relationships-2b31d862fb993cbb5b5a9cc1e019f855.png" width="865" height="825" class="img_ev3q"></p>
<p>This diagram illustrates the key relationships between our main entities, helping us ensure our schema accurately represents our domain.</p>
<p>To visualize your schema, you can use tools like <a href="https://graphql-kit.com/graphql-voyager/" target="_blank" rel="noopener noreferrer">GraphQL Voyager</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="best-practices-and-considerations">Best Practices and Considerations<a class="hash-link" aria-label="Direct link to Best Practices and Considerations" title="Direct link to Best Practices and Considerations" href="https://tailcall.run/blog/graphql-schema/#best-practices-and-considerations">‚Äã</a></h2>
<p>As we've designed our schema, we've touched on several best practices. Let's recap some key points and add a few more considerations:</p>
<ol>
<li>
<p><strong>Start with the UI in mind</strong>: Design your schema based on how the data will be used in your UI, not just how it's stored in your database.</p>
</li>
<li>
<p><strong>Use clear, consistent naming</strong>: Adopt a naming convention (e.g., PascalCase for types, camelCase for fields) and stick to it.</p>
</li>
<li>
<p><strong>Leverage GraphQL features</strong>: Make use of enums, interfaces, and unions to create a rich, expressive schema.</p>
</li>
<li>
<p><strong>Plan for change</strong>: Use input types for mutations and consider versioning strategies for evolving your schema over time.</p>
</li>
<li>
<p><strong>Optimize for performance</strong>: Be mindful of N+1 query problems and consider implementing DataLoader or similar batching mechanisms.</p>
</li>
<li>
<p><strong>Secure your schema</strong>: Implement proper authentication and authorization. Consider using directives for field-level permissions.</p>
</li>
<li>
<p><strong>Validate input</strong>: Use non-nullable fields and custom scalars to enforce data integrity at the schema level.</p>
</li>
<li>
<p><strong>Provide meaningful errors</strong>: Return detailed error information in your mutation payloads to help clients handle failures gracefully.</p>
</li>
<li>
<p><strong>Monitor and analyze</strong>: Implement logging and monitoring to understand how your schema is being used and where optimizations can be made.</p>
</li>
<li>
<p><strong>Keep it DRY</strong>: Use interfaces and abstract types to reduce duplication in your schema.</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/graphql-schema/#conclusion">‚Äã</a></h2>
<p>Designing a production-grade GraphQL schema is an iterative process that requires careful thought and planning. By starting with core types and relationships, then gradually adding queries, mutations, and advanced features, we can build a schema that's both powerful and maintainable.</p>
<p>Remember, your schema is a living document. As your application evolves, so too will your schema. By following these principles and best practices, you'll be well-equipped to design and maintain a GraphQL schema that can grow with your needs.</p>
<p>The TechTalent example we've explored here demonstrates many real-world considerations, but every application will have its unique requirements. Always design with your specific use cases in mind, and don't be afraid to iterate as you learn more about how your API is used in practice.</p>
<p>By investing time in thoughtful schema design upfront, you'll create a solid foundation for your GraphQL API, enabling efficient development and a great experience for your API consumers.</p>
<p>Alright greatttt! You have successfully completed the first part of a very intricate series!! Pat yourslef and maybe high five your cat! Here are the links to the next blogs in the series that have already been published.</p>
<p><img decoding="async" loading="lazy" alt="cat giving high five" src="https://tailcall.run/assets/images/cat-high-five-gif-cc8601ed8d765d559f1293ad9a98f652.webp" width="356" height="200" class="img_ev3q"></p>
<ul>
<li><a href="https://tailcall.run/blog/graphql-schema-part-2-1/">Next Part</a></li>
</ul>]]></content>
        <author>
            <name>Amit Singh</name>
            <uri>https://github.com/amitksingh1490</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="API" term="API"/>
        <category label="Schema" term="Schema"/>
        <category label="Design" term="Design"/>
        <category label="Best Practices" term="Best Practices"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Writing a GraphQL Backend by Hand is Long Gone]]></title>
        <id>https://tailcall.run/blog/writing-a-graphql-backend-by-hand-is-long-gone/</id>
        <link href="https://tailcall.run/blog/writing-a-graphql-backend-by-hand-is-long-gone/"/>
        <updated>2024-05-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Writing a GraphQL backend by hand doesn't scale beyond a point.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="Cover Image for Writing a GraphQL Backend by Hand is Long Gone" src="https://tailcall.run/assets/images/no-code-cover-eae408b2118380c9c61904b94c043d35.png" width="1600" height="840" class="img_ev3q">
Building a GraphQL backend by hand might seem like a noble pursuit, but the landscape of API development is evolving rapidly, and so are the challenges that come with it. Today, the process is often fraught with complexity, performance bottlenecks, security vulnerabilities, and reliability issues. Yet again, we had a developer expressing <a href="https://bessey.dev/blog/2024/05/24/why-im-over-graphql/" target="_blank" rel="noopener noreferrer">frustration</a> about the issues with GraphQL and the reasons for leaving our mighty ship. I wish to dive deeper into these challenges and explore why the future points towards automated, high-performance solutions.</p>
<!-- -->
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="complexity-with-graphql">Complexity with GraphQL<a class="hash-link" aria-label="Direct link to Complexity with GraphQL" title="Direct link to Complexity with GraphQL" href="https://tailcall.run/blog/writing-a-graphql-backend-by-hand-is-long-gone/#complexity-with-graphql">‚Äã</a></h2>
<p>If you see, most of the concerns with GraphQL are around building a robust GraphQL backend. It's rarely about consuming GraphQL, because if you look closely at the GraphQL spec, you will find that it's focused on how to elegantly consume data. As long as the output of your backend matches what's expected in the query, the specification doesn't care about how the backend is implemented.</p>
<p>Hence, the main complexity with GraphQL comes with how GraphQL is built. One of the major hurdles in hand-coding a GraphQL backend is managing performance. Issues like batching, incorrect usage of data loaders, caching, and the notorious N+1 problem can cripple your application.</p>
<p>Manually implementing batching mechanisms and data loaders can be incredibly tedious. While libraries like <a href="https://github.com/graphql/dataloader" target="_blank" rel="noopener noreferrer">DataLoader</a> can assist, integrating them seamlessly into your system requires a deep understanding of both your data and the GraphQL query patterns. Overuse of data loaders is so common with most GraphQL implementations that ultimately it becomes the main culprit for high latency.</p>
<p>Secondly, traditional caching doesn't work with GraphQL, so you have to resort to all sorts of solutions, using persisted queries or some vendor-specific implementation of caching. Implementing effective caching strategies is essential for performance but it's tricky. Developers must decide what to cache, when to invalidate the cache, and how to manage cache consistency, which adds another layer of complexity.</p>
<p>The N+1 issue, boy, that's perhaps everyone's favorite issue with GraphQL. It arises when executing multiple upstream requests that could have been combined into one, leading to massive performance degradation. Detecting and solving this requires meticulous analysis of query patterns and database access, which requires developers to have the context of the whole query at once, generate a query plan, translate it to appropriate upstream calls, and then execute! That's a lot of complex engineering effort; building a general-purpose query engine is not for the faint-hearted, and in the midst of all this complex yet interesting work, I need to ship features!</p>
<blockquote>
<p><a href="https://grafast.org/grafast" target="_blank" rel="noopener noreferrer">Grafast</a> is an upcoming generalized query planner that could make query-planning in JS a bit more tamed.</p>
</blockquote>
<p>GraphQL‚Äôs flexibility can be a double-edged sword when it comes to security, necessitating robust mechanisms for authentication and authorization. Like caching, traditional route-based API access doesn't work with GraphQL. Implementing these security layers correctly involves ensuring that only authenticated users can access the GraphQL entity and that they can only access data or fields that they are authorized to see. This requires fine-grained control and often custom logic and the invention of a new standard that works just for you.</p>
<p>Lastly, but most importantly, ensuring your GraphQL API is reliable means tackling error handling, propagation, and telemetry. Proper error handling in GraphQL is crucial for providing meaningful feedback to clients and maintaining the integrity of your application. The GraphQL team recently started working on a <a href="https://graphql-http.com/" target="_blank" rel="noopener noreferrer">standard</a> for serving GraphQL over HTTP, which won't be easy to integrate if you already have a GraphQL API running in production. Moreover, integrating telemetry within a GraphQL backend isn't easy either; it is a very involved process to integrate spans to trace GraphQL resolvers. And, if you have written your GraphQL layer by hand in JavaScript, be ready for some <a href="https://github.com/DataDog/dd-trace-js/issues/1095" target="_blank" rel="noopener noreferrer">significant performance degradation</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="graphql-is-more-like-sql-and-less-like-rest">GraphQL is more like SQL and less like REST<a class="hash-link" aria-label="Direct link to GraphQL is more like SQL and less like REST" title="Direct link to GraphQL is more like SQL and less like REST" href="https://tailcall.run/blog/writing-a-graphql-backend-by-hand-is-long-gone/#graphql-is-more-like-sql-and-less-like-rest">‚Äã</a></h2>
<p>We talked about it in our <a href="https://tailcall.run/blog/graphql-vs-rest-vs-grpc/">previous</a> blog why GraphQL isn't like REST or gRPC. I would argue that SQL is a closer elder sibling of GraphQL than REST or gRPC. Writing a GraphQL backend can be likened to building an SQL engine manually. Imagine if every time you wanted to interact with a database, you had to write the SQL engine from scratch. Every time you made a database change, you would need to rewrite your engine so that it can work with the new schema or indexes. It‚Äôs inefficient and impractical; no one does that. Fortunately, modern databases come with embedded, high-performance SQL engines such as <a href="https://calcite.apache.org/" target="_blank" rel="noopener noreferrer">Apache Calcite</a> that adhere to the SQL specification but abstract away the complexities around building it. These databases allow developers to focus on writing queries and managing data without worrying about the underlying mechanics, thanks to their sophisticated query engines.</p>
<p>GraphQL, much like SQL, is a query language designed to allow clients to request exactly the data they need. Unlike REST, which relies on fixed endpoints, or gRPC, which focuses on remote procedure calls, GraphQL provides a flexible, hierarchical way to fetch and manipulate data, making it a closer analog to SQL in terms of expressiveness and precision. And I believe the future of GraphQL is going to be like the journey of this elder sibling.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-future-of-graphql">The future of GraphQL<a class="hash-link" aria-label="Direct link to The future of GraphQL" title="Direct link to The future of GraphQL" href="https://tailcall.run/blog/writing-a-graphql-backend-by-hand-is-long-gone/#the-future-of-graphql">‚Äã</a></h2>
<p>The future of GraphQL development is moving towards generalized automated solutions built on modern, low-level system stacks like Rust and Zig, and moving away from the prevalent hand-written Node.js-based solutions of today.</p>
<p><a href="https://hygraph.com/graphql-survey-2024#how-developers-build-graphql-apis" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" alt="Most common GraphQL implementations" src="https://tailcall.run/assets/images/graphql-stack-44b03452c850592b2fc28fb2acfbd409.png" width="1750" height="1136" class="img_ev3q"></a></p>
<ul>
<li>
<p>These engines will connect to data sources of any type and build a GraphQL endpoint on top of them. They will find connections between other data sources, sometimes completely automatically and sometimes using hints given by the developer, creating a unified GraphQL experience.</p>
</li>
<li>
<p>Similar to SQL engines, which use JIT techniques to identify performance optimizations at runtime, GraphQL engines will become extremely smart about performance. My hope is that GraphQL will eventually move away from its dependency on the JSON protocol, into something more efficient such as protobuf.</p>
</li>
<li>
<p>There is definitely going to be a lot of work put into the standardization of the loose ends. GraphQL engines will eventually converge on error handling and error propagation strategies. GraphQL on HTTP is the first step in that direction. Authentication and Authorization too will very quickly become standard features of GraphQL, so you won't need to worry about inventing a new way of authentication. This will all be packed into a GraphQL standard. This might be a stretch, but if the standards team gets together, I think even GraphQL caching will be consistent across all GraphQL engines, and you will be able to switch from one caching solution to another without locking into a vendor-specific implementation.</p>
</li>
</ul>
<p>You might have already seen a wave of open-source solutions that build GraphQL on top of existing data sources. One such solution paving the way is <a href="https://tailcall.run/" target="_blank" rel="noopener noreferrer">Tailcall</a>. Tailcall‚Äôs platform is designed to automate the creation, validation, and optimization of GraphQL backends. Sticking to standards and ensuring developers don't ever have to pay the heavy tax of using GraphQL that they do today, do check it out!</p>
<p>Lastly, if you are reading this today and thinking of writing a GraphQL server by hand, I urge you to reconsider and use something that does this for you. Before you know it, your handwritten solution will be deprecated in favor of something faster, easier, and more secure: an automatic GraphQL solution.</p>]]></content>
        <author>
            <name>Tushar Mathur</name>
            <uri>https://github.com/tusharmath</uri>
        </author>
        <category label="GraphQL" term="GraphQL"/>
        <category label="Node.js" term="Node.js"/>
        <category label="JavaScript" term="JavaScript"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[GraphQL vs REST vs gRPC - an unfair comparison]]></title>
        <id>https://tailcall.run/blog/graphql-vs-rest-vs-grpc/</id>
        <link href="https://tailcall.run/blog/graphql-vs-rest-vs-grpc/"/>
        <updated>2024-03-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Understand what makes GraphQL different from REST and gRPC.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="Cover Image for GraphQL vs REST vs gRPC - an unfair comparison" src="https://tailcall.run/assets/images/gql-vs-rest-vs-grpc-cover-84feccc10aad45f3d06d5a2a1bd04ca4.png" width="1600" height="840" class="img_ev3q"></p>
<!-- -->
<p>Since its inception, GraphQL has steadily gained popularity, often finding itself at the center of comparisons with other data query and manipulation languages such as REST and gRPC. The internet is replete with articles debating the merits and demerits of each, with some even questioning the viability of GraphQL. However, this discourse misses a crucial point: the unique strengths of GraphQL. This article aims to illuminate the distinct advantages GraphQL offers, particularly in addressing a common but complex challenge known as impedance mismatch.</p>
<p>Impedance mismatch refers to the discordance between the capabilities of an existing API and the ideal features required for a specific use case. From the perspective of a platform engineer, the goal is to develop APIs that cater to a broad range of needs. Yet, crafting a unique API for every conceivable requirement is neither practical nor efficient. Consequently, engineers often end up creating generalized APIs. However, as a consumer, you might find these APIs lacking in some respects while being superfluous in others. Furthermore, as your needs evolve, so does your notion of the ideal API, exacerbating this mismatch. Herein lies the brilliance of GraphQL: it offers a framework for structuring data exposure and queries that significantly mitigates this issue.</p>
<p>The GraphQL specification introduces the concept of viewing data as a graph composed of nodes, which represent domain entities for a business, interconnected by relationships that define their interactions. For instance, in the development of a social network, a user entity might have the ability to create a post, which in turn could receive comments, illustrating the interconnected nature of data entities.
<img decoding="async" loading="lazy" alt="Image Demonstrating a graph of entities" src="https://tailcall.run/assets/images/entity-graph-577dea9c85b99c5bb8c38f308ebdc1ed.png" width="2259" height="1320" class="img_ev3q"></p>
<p>With the data conceptualized as a graph, GraphQL advocates for a method of querying that allows for precise data retrieval. This selective querying capability enables developers to request exactly the data they need, distinguishing GraphQL from REST and gRPC which aren't truly a "queryable". The precision of GraphQL extends to the granularity of specifying individual fields within entities, facilitating extremely efficient and targeted queries.
<img decoding="async" loading="lazy" alt="Image Demonstrating a relations between entities" src="https://tailcall.run/assets/images/entity-relation-d36a01608eb2ca42343d4a0210632050.png" width="2259" height="1324" class="img_ev3q"></p>
<p>Notably, the GraphQL specification does not prescribe any specific data storage methodologies but focuses on the manner in which data is queried, hence the designation "Graph Query Language." This approach allows for queries tailored to specific requirements, such as obtaining posts by the current user along with comments on those posts. By enabling precise data queries, GraphQL helps in avoiding the inefficiencies associated with over-fetching or under-fetching data, thereby enhancing overall system performance.</p>
<p>The impedance mismatch is not solely a technical issue pertaining to the differences in API schemas. It extends into the realm of development processes as well. GraphQL significantly ameliorates this aspect by allowing the consumers of an API to begin their work even before the actual API is fully implemented. This is made possible through the agreement on a schema upfront. By decoupling the dependency between the consumer and the provider of the API, GraphQL facilitates a more efficient and flexible development process.</p>
<p>Comparing GraphQL with REST or gRPC on this front might not do justice to their distinct objectives. REST and gRPC are primarily designed as lightweight RPC protocols, not specifically to address impedance mismatch for which a full fledged query language is more suitable. A more apt comparison would be with OpenAPI, which also allows for API composition. However, OpenAPI's capabilities in fine-tuning what an API delivers are somewhat <a href="https://swagger.io/specification/#composition-and-inheritance-polymorphism" target="_blank" rel="noopener noreferrer">constrained</a> compared to GraphQL's flexible querying capabilities.</p>
<p>Beyond the technical resolution of impedance mismatch, GraphQL addresses a critical business problem: the inefficiency in software development that arises from this gap between actual and ideal APIs. This inefficiency leads to developers spending excessive time on API orchestration‚Äîtime that could be better spent on core application development. They find themselves constantly writing, revising, and optimizing APIs and their orchestration, as well as managing the fallout from breaking changes. By leveraging GraphQL, developers can significantly reduce these frictions, streamlining the development process and enhancing productivity. In essence, GraphQL not only solves a technical problem but also delivers substantial business value by enabling more efficient and flexible software development practices.</p>
<p>GraphQL offers an excellent developer experience for API consumption with its intuitive query language that allows for retrieving deeply nested data independently of the upstream source. However, it does have some limitations. At <a href="https://tailcall.run/" target="_blank" rel="noopener noreferrer">Tailcall</a>, we are dedicated to making GraphQL more accessible and easier to work with.</p>
<p>If you like what you just read, please do subscribe and share on twitter and linkedin üôè</p>]]></content>
        <author>
            <name>Tushar Mathur</name>
            <uri>https://github.com/tusharmath</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[GraphQL Conf 2023]]></title>
        <id>https://tailcall.run/blog/graphql-conf-2023/</id>
        <link href="https://tailcall.run/blog/graphql-conf-2023/"/>
        <updated>2023-09-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A glimpse into the future of GraphQL! üöÄ.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="A Photo from GraphQL Conf 2023" src="https://tailcall.run/assets/images/graphql-conf-2023-0f1d343cb391412bdcb9987cab56f3be.png" width="1600" height="840" class="img_ev3q">
GraphQLConf 2023 wasn't just another tech conference; it was a groundbreaking event hosted by the GraphQL Foundation. Bursting with riveting workshops, enlightening talks, and interactive sponsor booths, this conference was a deep dive into the ever-evolving world of GraphQL.</p>
<!-- -->
<p>Gone are the days when GraphQL was just for UI developers. This year's theme revolved around the long-term vision of GraphQL and its seamless integration into backend architecture. It was all about the bigger picture!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workshops--talks-highlights"><strong>Workshops &amp; Talks Highlights</strong><a class="hash-link" aria-label="Direct link to workshops--talks-highlights" title="Direct link to workshops--talks-highlights" href="https://tailcall.run/blog/graphql-conf-2023/#workshops--talks-highlights">‚Äã</a></h3>
<ul>
<li>
<p><strong>Is GraphQL BFF Necessary:</strong> An electrifying discussion led by Tanmay from Hasura, as he unravels the significance of the BFF layer in the era after ReactJS. One profound takeaway?</p>
<blockquote>
<p><em>GraphQL isn't just a fleeting tactic for instant gains‚Äîit's a visionary strategy that propels businesses toward unparalleled success!</em></p>
</blockquote>
</li>
<li>
<p><strong>Interactive GraphQL with Envoy &amp; Kubernetes</strong>: The team from solo.io showcased the magic of adding GraphQL to an envoy gateway. It's all about giving clients more power while retaining essential gateway features.</p>
</li>
<li>
<p><strong>The Future of Efficiency</strong>: Benjie Gillam's talk was a rollercoaster! He introduced grafast, a new GraphQL execution engine that optimizes data loading through query planning. One to watch!</p>
</li>
<li>
<p><strong>Rethinking Rate Limiting</strong>: Meenakshi Dhanani from Postman took us on a journey through the intricacies of rate-limiting GraphQL queries. Traditional methods? Not so effective. Enter query cost analysis!</p>
</li>
<li>
<p><strong>GraphQL Fusion Unveiled</strong>: Michael Staib from ChilliCream introduced GraphQL Fusion, a revolutionary approach to building distributed GraphQL APIs. The future of federating GraphQL APIs is looking bright!</p>
</li>
<li>
<p><strong>The Null Saga</strong>: Stephen Spalding from Netflix delved into the history of 'null' and introduced the Client Controlled Nullability proposal. A game-changer for GraphQL clients, we are definitely looking forward to this one!</p>
</li>
<li>
<p><strong>The Right Size for GraphQL</strong>: Theo Browne's presentation was an eye-opener. He introduced us to scenarios where tRPC might be a better fit than GraphQL.</p>
</li>
<li>
<p><strong>Data Load 3.0:</strong> Jens from Wundergraph talked about the massive performance gains one could potentially get by using a BFS algorithm in data loaders.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unconference-session-where-everyones-a-speaker"><strong>Unconference Session: Where Everyone's a Speaker!</strong><a class="hash-link" aria-label="Direct link to unconference-session-where-everyones-a-speaker" title="Direct link to unconference-session-where-everyones-a-speaker" href="https://tailcall.run/blog/graphql-conf-2023/#unconference-session-where-everyones-a-speaker">‚Äã</a></h3>
<p>This was our first time to such a thing. The conference kicked off with a dynamic unconference session. Everyone in attendance brainstormed discussion topics grouped them, and then dove deep into discussions. Our table delved into the multifaceted world of "Federation" - merging multiple GraphQL graphs into a supergraph. The consensus? The journey towards a supergraph is filled with challenges, but with tools like the Open Federation spec and GraphQL Fusion, the future looks promising!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="networking--global-connections"><strong>Networking &amp; Global Connections</strong><a class="hash-link" aria-label="Direct link to networking--global-connections" title="Direct link to networking--global-connections" href="https://tailcall.run/blog/graphql-conf-2023/#networking--global-connections">‚Äã</a></h3>
<p>One of the highlights of GraphQLConf 23 was the global representation. Meeting tech enthusiasts from the Netherlands, New Zealand, Poland, Romania, and more was truly inspiring. Special shoutout to Gerard Klijs from AxonIQ for his unique take on CQRS and GraphQL!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion"><strong>Conclusion</strong><a class="hash-link" aria-label="Direct link to conclusion" title="Direct link to conclusion" href="https://tailcall.run/blog/graphql-conf-2023/#conclusion">‚Äã</a></h3>
<p>Did you miss out on some sessions? No worries! All the talks are available on the GraphQL Foundation's <a href="https://www.youtube.com/playlist?list=PLP1igyLx8foE9SlDLI1Vtlshcon5r1jMJ" target="_blank" rel="noopener noreferrer">YouTube</a> channel. Dive in and get inspired!</p>
<p>GraphQLConf 2023 was more than just a conference for us; it was an experience. Here's to the future of GraphQL and the endless possibilities it holds! üéâ</p>]]></content>
        <author>
            <name>Sujeet Sreenivasan</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[The truth about scaling Automatic Persisted Queries]]></title>
        <id>https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/</id>
        <link href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/"/>
        <updated>2023-08-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn about the limitations and potential scaling issues that accompany Automatic Persisted Queries (APQ).]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="Cover Image for The truth about scaling Automatic Persisted Queries" src="https://tailcall.run/assets/images/apq-cover-58b7ca1ce09d6e43368486180d70bf43.png" width="1600" height="840" class="img_ev3q"></p>
<p>Persisted queries are often hailed as a solution to several challenges in GraphQL related to network performance, caching, and maintenance. However, they may not always be the silver bullet they appear to be. This post delves into the concept of persisted queries (PQ) and automatic persisted queries (APQ), highlighting the limitations and potential scaling issues that accompany these technologies.</p>
<!-- -->
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-problem">The Problem<a class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#the-problem">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="large-queries">Large Queries<a class="hash-link" aria-label="Direct link to Large Queries" title="Direct link to Large Queries" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#large-queries">‚Äã</a></h4>
<p>Clients send queries to a GraphQL server as HTTP requests that include the query as the body. When these queries become large, they can lead to increased latency and network usage, degrading client performance.</p>
<p>For example, a normal GraphQL query might look like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">curl -X POST -H "Content-Type: application/json" \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --data '{"query": "{ largeQuery { field1 field2 ... } }"}' \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  http://your-graphql-server.com/graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Each GraphQL query is parsed every time the server receives it. If it's large, the parsing can take a significant amount of time, increasing latency even further.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="legacy-infrastructure">Legacy Infrastructure<a class="hash-link" aria-label="Direct link to Legacy Infrastructure" title="Direct link to Legacy Infrastructure" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#legacy-infrastructure">‚Äã</a></h4>
<p>Existing CDN infrastructure is designed to cache only GET calls. To make a GraphQL request, one must make a POST call. This limits the usage of CDNs for caching purposes.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="solution-persisted-queries-pq">Solution: Persisted Queries (PQ)<a class="hash-link" aria-label="Direct link to Solution: Persisted Queries (PQ)" title="Direct link to Solution: Persisted Queries (PQ)" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#solution-persisted-queries-pq">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-and-benefits">Definition and Benefits<a class="hash-link" aria-label="Direct link to Definition and Benefits" title="Direct link to Definition and Benefits" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#definition-and-benefits">‚Äã</a></h4>
<p>To enhance network performance for large query strings, GraphQL server supports Persisted Queries (PQ). A PQ is a GraphQL query cached server-side, identified by its SHA-256 hash. Clients send this identifier instead of the query, dramatically reducing request sizes (without affecting response), saving parsing time, and enabling GET calls instead of POST.</p>
<p>A PQ request might look like this:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">curl -X GET -H "Content-Type: application/json" \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --data-urlencode 'extensions={"persistedQuery":{"version":1,"sha256Hash":"&lt;SHA 256&gt;"}}' \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  http://your-graphql-server.com/graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="application-with-cdns">Application with CDNs<a class="hash-link" aria-label="Direct link to Application with CDNs" title="Direct link to Application with CDNs" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#application-with-cdns">‚Äã</a></h4>
<p>Using the PQ link automatically sends short hashed queries as GET requests, enabling CDNs to serve them.</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="latency-reduction"><strong>Latency Reduction</strong><a class="hash-link" aria-label="Direct link to latency-reduction" title="Direct link to latency-reduction" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#latency-reduction">‚Äã</a></h5>
<ul>
<li>
<p><strong>No Parsing Overhead</strong>: Since the query isn't sent to the server, the parsing stage, which can be computationally expensive, is eliminated. This saves valuable server processing time, directly reducing client latency.</p>
</li>
<li>
<p><strong>Network Efficiency</strong>: By transmitting only the hash instead of the full query, the request size is dramatically reduced, leading to faster network transmission and lower latency.</p>
</li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="security-enhancements"><strong>Security Enhancements</strong><a class="hash-link" aria-label="Direct link to security-enhancements" title="Direct link to security-enhancements" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#security-enhancements">‚Äã</a></h5>
<ul>
<li>
<p><strong>Control Over Allowed Queries</strong>: The server can start with a finite set of "allowed" queries, ensuring that unauthorized or unoptimized GraphQL requests cannot be made. This control is a significant safeguard for production environments, preventing potential abuse or inefficiencies.</p>
</li>
<li>
<p><strong>Reduction in Attack Surface</strong>: By limiting the queries to a pre-defined set, the risk of malicious queries is reduced, enhancing the security profile of the application.</p>
</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="problem">Problem<a class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#problem">‚Äã</a></h4>
<p>While PQs provide remarkable benefits, they are not without challenges:</p>
<ul>
<li>
<p><strong>Schema Rigidity</strong>: If you aim to keep the schema open and queries dynamic, supporting any possible query becomes complex.</p>
</li>
<li>
<p><strong>Maintenance of Cached Queries</strong>: Managing the cache of allowed queries and keeping them in sync with evolving client needs can become a maintenance burden, especially in a fast-changing environment.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="automatic-persisted-queries-apqs">Automatic Persisted Queries (APQs)<a class="hash-link" aria-label="Direct link to Automatic Persisted Queries (APQs)" title="Direct link to Automatic Persisted Queries (APQs)" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#automatic-persisted-queries-apqs">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apqs-vs-pqs">APQs vs PQs<a class="hash-link" aria-label="Direct link to APQs vs PQs" title="Direct link to APQs vs PQs" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#apqs-vs-pqs">‚Äã</a></h4>
<p>APQs are a supposed improvement over PQs. In a PQ setup, the server runs with a known set of queries, meaning client changes require server updates. This has implications for maintenance costs, particularly in supporting multiple versions of queries and making a server deployment for every change in the client query. APQs were introduced to overcome these challenges.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-apqs-work">How APQs Work<a class="hash-link" aria-label="Direct link to How APQs Work" title="Direct link to How APQs Work" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#how-apqs-work">‚Äã</a></h4>
<p>The APQ process is a two-step approach:</p>
<ol>
<li>
<p><strong>Hash Request</strong>: The client sends a request with the hash of the query. If the server recognizes the hash, it returns the corresponding response:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">curl -X GET -H "Content-Type: application/json" \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --data-urlencode 'extensions={"persistedQuery":{"version":1,"sha256Hash":"&lt;SHA 256&gt;"}}' \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  http://your-graphql-server.com/graphql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
</li>
<li>
<p><strong>Full Query Request</strong>: If the server does not recognize the hash, it returns an error. The client then sends a new request that includes both the hash and the full query string:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="https://tailcall.run/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token plain">curl --get http://localhost:4000/graphql \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --header 'content-type: application/json' \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --data-urlencode '{"query": "{ largeQuery { field1 field2 ... } }"}' \</span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  --data-urlencode 'extensions={"persistedQuery":{"version":1,"sha256Hash":"&lt;HASH&gt;"}}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>The server parses the full query, caches it for future use, and returns the GraphQL response. Subsequent requests use the hash.</p>
</li>
</ol>
<p>This process optimizes network performance while allowing flexibility in the queries that can be run. You can read more about APQ <a href="https://www.apollographql.com/docs/apollo-server/performance/apq/" target="_blank" rel="noopener noreferrer">here</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="problems-with-apqs">Problems with APQs<a class="hash-link" aria-label="Direct link to Problems with APQs" title="Direct link to Problems with APQs" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#problems-with-apqs">‚Äã</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="thundering-herd-problem">Thundering Herd Problem<a class="hash-link" aria-label="Direct link to Thundering Herd Problem" title="Direct link to Thundering Herd Problem" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#thundering-herd-problem">‚Äã</a></h4>
<p>Consider a situation where a server has just been deployed or restarted, and the cache is empty. Now, multiple clients send hash requests for queries that are not yet cached.</p>
<ol>
<li>
<p><strong>Massive Error Responses</strong>: Since the cache is empty, the server returns errors for all hash requests, signaling the clients to send the full query strings.</p>
</li>
<li>
<p><strong>Simultaneous Full Query Requests</strong>: All clients now simultaneously send full query requests, causing a sudden surge in demand.</p>
</li>
<li>
<p><strong>Server Strain</strong>: The server must parse and cache each unique query, placing significant strain on its resources. This can lead to increased latency and even server failure if the demand is too high.</p>
</li>
<li>
<p><strong>Repeated Pattern</strong>: If the server struggles to cache the queries quickly enough, the clients may continue to receive errors and retry the full query requests, perpetuating the problem.</p>
</li>
</ol>
<p>In an environment with many clients and dynamically changing queries, the system can become vulnerable to sudden surges in demand. This vulnerability can undermine the performance benefits APQs are designed to provide, leading to potential system instability.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cache-limitations">Cache Limitations<a class="hash-link" aria-label="Direct link to Cache Limitations" title="Direct link to Cache Limitations" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#cache-limitations">‚Äã</a></h4>
<p>Queries are typically cached in memory, requiring cache warmup on each instance, hindering deployment on server-less solutions. An alternative could be using a centralized cache, but it typically nullifies performance gains due to serialization, deserialization, and IO call overhead.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="security-concerns">Security Concerns<a class="hash-link" aria-label="Direct link to Security Concerns" title="Direct link to Security Concerns" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#security-concerns">‚Äã</a></h4>
<p>Automatically persisting queries can cause memory leaks, as clients can send varying query combinations, exhausting server memory. Mitigation through cache size limits and eviction mechanisms may lead to frequent cache misses, leading to doubling request numbers.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-solution">Possible Solution<a class="hash-link" aria-label="Direct link to Possible Solution" title="Direct link to Possible Solution" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#possible-solution">‚Äã</a></h3>
<p>Persistent queries are a great improvement over regular queries. They clearly improve performance and are more secure. APQs on the other hand though try to give more flexibility they can become quite messy to deal with as you scale. One alternative that is significantly more effective, is to run GraphQL on Edge itself. Essentially write your own CDN layer that is smart enough to understand that it's a graphQL and deploy it on edge with caching and whatnot! This is hard, and that's exactly what <a href="https://tailcall.run/" target="_blank" rel="noopener noreferrer">Tailcall</a> helps solve.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" href="https://tailcall.run/blog/the-truth-about-scaling-automatic-persisted-queries/#conclusion">‚Äã</a></h3>
<p>Automatic persisted queries, while offering some advantages in network performance, reveal significant challenges when it comes to scaling. The complexities of caching, potential security risks, and the inherent problems with automatic persistence highlight that persisted queries may not be the one-size-fits-all solution they are often portrayed as.</p>
<p>The question of whether to implement PQ or APQ must be approached with caution, taking into account the specific requirements and potential scalability issues of your system. While they may serve as a useful tool in certain scenarios, understanding the limitations and conducting thorough analysis is vital to avoid falling into the trap of a solution that doesn't truly scale. This blog post has aimed to shed light on these complexities, encouraging a more nuanced perspective on a topic that is often oversimplified.</p>]]></content>
        <author>
            <name>Tushar Mathur</name>
            <uri>https://github.com/tusharmath</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Unraveling the Challenges of BFF Federation]]></title>
        <id>https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/</id>
        <link href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/"/>
        <updated>2023-06-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A different take on GraphQL Federation.]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="Cover Image for Unraveling the Challenges of BFF Federation" src="https://tailcall.run/assets/images/bff-cover-c9ec59f703ed412633f17b4840449416.png" width="1600" height="840" class="img_ev3q">
In our <a href="https://blog.tailcall.run/no-one-talks-about-api-orchestration" target="_blank" rel="noopener noreferrer">previous</a> blog post, we discussed the challenges of API Orchestration and its often overlooked role in a microservices architecture. We explored how, while it serves as an abstraction for frontend apps and websites, this abstraction's performance is very sensitive to network latency and device performance thus directly impacting end-user experience. One proposed solution was to create a Backend for Frontend (BFF) layer, essentially moving the frontend abstraction to powerful servers within your VPC. Although this approach effectively addresses the user experience problem and simplifies the work of front-end engineers, it introduces a new set of challenges for the backend, leading to difficulties in scaling the monolithic solution. Here's what the BFF architecture looked like:</p>
<!-- -->
<p><img decoding="async" loading="lazy" alt="Architecture Diagram for BFF" src="https://tailcall.run/assets/images/bff-architecture-0959791cdd1670dccdb85324b4a9319f.png" width="3616" height="2224" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="using-a-bff-federation">Using a BFF Federation<a class="hash-link" aria-label="Direct link to Using a BFF Federation" title="Direct link to Using a BFF Federation" href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/#using-a-bff-federation">‚Äã</a></h2>
<p>Federation, as a concept, is not exclusive to GraphQL. In essence, it's about abstracting multiple data sources or services into a unified, single API interface that can be consumed by clients. This approach is not unique to any particular technology or framework and can be implemented with various tools and languages.</p>
<p>However, GraphQL has played a significant role in popularizing the concept of federation. With its strong typing, introspective capabilities, and its natural fit for defining schemas across distributed services, it has provided an elegant solution to the challenge of federating APIs.</p>
<p>While this blog discusses federation in the context of GraphQL, it's essential to understand that the core principles and challenges of the federation can be applied beyond GraphQL. Remember, the implementation of federation is not about a specific technology, but about the architectural approach to create a unified interface from multiple data sources.</p>
<p>With this in mind, let's delve into the pros and cons of the federation, using GraphQL as our main context for the discussion. As you'll see, the benefits and pitfalls of federation are relevant, whether you're using GraphQL or not.</p>
<p>Federation is a concept that originates from the philosophy of microservices. This approach promotes the partitioning of large monolithic systems into smaller, more manageable components. In a federated architecture, instead of having a monolithic Backend-for-Frontend (BFF) handling all requests, you have multiple smaller BFFs that handle different aspects of the request.</p>
<p>Imagine a client makes a request to your system. This request still goes through an API gateway, which serves as the entry point to your system. However, instead of hitting a monolithic BFF, it now meets a BFF Router, specifically designed to understand and route requests to the appropriate BFFs.</p>
<p>The Router is smart. It understands the client's request and can break it down into smaller parts. It then delegates these smaller tasks to the appropriate services, each responsible for a specific aspect of the request. These services work in parallel, handling their part of the request, which often involves calling downstream microservices and orchestrating their responses.</p>
<p>Once the BFFs have finished their tasks, they send their responses back to the Router. The Router, in turn, takes these individual responses, combines them into a single response that fulfils the original request, and sends it back to the client.</p>
<p>This system, where individual services handle specific parts of a request in a coordinated manner, is often referred to as a Federation. The term "Apollo Federation" or "Super Graph" is commonly used to describe this setup when it's implemented with Apollo, a popular GraphQL implementation, but the concept is not limited to any specific technology or tool.</p>
<p><img decoding="async" loading="lazy" alt="BFF Federation Architecture" src="https://tailcall.run/assets/images/bff-federation-efe05c2d3720294982686f6f12b97745.png" width="4267" height="2340" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="federation-benefits">Federation Benefits<a class="hash-link" aria-label="Direct link to Federation Benefits" title="Direct link to Federation Benefits" href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/#federation-benefits">‚Äã</a></h2>
<p>Many large organizations using GraphQL in production have transitioned to this architecture to accommodate their scaling needs. The primary selling points of this architecture are:</p>
<ol>
<li>
<p><strong>Enhanced Team Ownership</strong>: GraphQL Federation fosters a sense of ownership among teams by allowing each team to own and maintain its GraphQL service. With Federation, teams can operate independently, focusing on their specific domain without worrying about the overall schema. This separation of concerns leads to more maintainable code, faster development cycles, and increased productivity. It empowers teams to work in parallel, each owning a piece of the larger schema while ensuring that the entire system operates as a cohesive whole. This significantly enhances team efficiency and collaboration, particularly in larger organizations with multiple teams working on different services. This alone is by far the most significant aspect of using GraphQL Federation.</p>
</li>
<li>
<p><strong>Incremental Adoption</strong>: A major advantage of GraphQL Federation is its ability to support incremental adoption. This means teams can gradually wrap their domain-specific microservices with a GraphQL layer, one at a time, and integrate it into the federated schema without disrupting the entire system. This flexible approach minimizes the impact on existing workflows and reduces the risks associated with large-scale changes.<br>
<!-- -->From the frontend perspective, GraphQL Federation offers a unified interface for querying the data. This simplifies the frontend code and enables the development of rich, interactive UIs with less effort. As soon as the first services are federated, frontend developers can begin transitioning their queries to the federated schema, reducing disruption and allowing for a smoother adoption process.<br>
<!-- -->This incremental approach also allows teams to evaluate and demonstrate the value of federation at each step, building confidence and promoting buy-in across the organization. It ensures teams are not overwhelmed by the complexity of new technology or architecture and can adjust their practices as they learn.</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="federation-vs-bff">Federation vs BFF<a class="hash-link" aria-label="Direct link to Federation vs BFF" title="Direct link to Federation vs BFF" href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/#federation-vs-bff">‚Äã</a></h2>
<p><img decoding="async" loading="lazy" alt="BFF vs Federation" src="https://tailcall.run/assets/images/bff-vs-federation-2267cf494c2490cd59f32fe04b146c96.png" width="1024" height="1024" class="img_ev3q"></p>
<p>It's not hard to see that GraphQL Federation carries some serious muscle over its monolithic adversary, the BFF. But before we declare a champion, let's take a few rounds to scrutinize the <a href="https://blog.tailcall.run/no-one-talks-about-api-orchestration#heading-highly-specialized" target="_blank" rel="noopener noreferrer">limitations</a> we've come across in our BFF solution, and see how the GraphQL Federation stands up under pressure. It's time for a head-to-head comparison!</p>
<ol>
<li>
<p><strong>Specialization</strong>: Both BFF and GraphQL Federation require a certain amount of manual intervention. In the BFF approach, the entire layer is custom-built, meaning there's no ready-to-use solution, which necessitates significant manual management. On the other hand, GraphQL Federation provides an open-source, ready-to-use Apollo Router. However, it's not an all-inclusive solution, as the individual GraphQL services still need to be manually maintained and written by hand for specific use cases. While it's still a tough fight, the federation manages to land a jab here and gets a few extra points in this round.</p>
</li>
<li>
<p><strong>Fragility</strong>: Federation offers an enhanced strategy. In a federated architecture, when a GraphQL service malfunction, only its segment of the graph becomes inaccessible to the user. This results in a more resilient system, less prone to total failure, demonstrating the ability to continue the fight even after taking a hit. In this round, Federation steps up and delivers a solid punch.</p>
</li>
<li>
<p><strong>Performance</strong>: When it comes to Performance, the Federation architecture introduces an extra journey for each packet. The request has to travel through the router, then to the individual GraphQL services, before finally reaching the domain service. This journey can add a few milliseconds of latency, a difference that may not be perceptible to the end user. However, this seemingly small delay has a broader impact on the performance of the entire architecture. The addition of the router introduces a requirement for more infrastructure and increases the frequency of data serialization and deserialization. This increased complexity affects both the system's throughput and infrastructure costs. In this round, the Federation architecture might not be the clear knockout winner we were hoping for.</p>
</li>
<li>
<p><strong>Monolith Tendency</strong>: It's a clear knockout in this round for the Federation! It elegantly sidesteps the monolith tendency, keeping the architecture agile and modular. BFF, in contrast, takes a heavy fall with its tendency to become a monolithic layer over time.</p>
</li>
<li>
<p><strong>Canary Release:</strong> Federation, unlike BFF, reveals graph dependencies and compatibility issues at runtime, not compile time. This amps up the need for first-class canary releases. However, when it comes to canary support, it's a draw. Both fighters are still in the ring, each showing resilience in their own way. No knockout here, folks!</p>
</li>
<li>
<p><strong>Coupled Release</strong>: In the Federation architecture, each GraphQL service operates independently, significantly reducing the coupling between services and the router. This independence allows each team to manage its own release cycles, putting an end to the wide-scale halts that were commonplace with the BFF layer. However, it's important to note that each GraphQL service still maintains a tight connection with its corresponding downstream domain service. While this is a form of coupling, it's considerably less invasive than the BFF approach, where the entire layer was intertwined. Despite this necessary connection to the domain services, the Federation architecture proves to be more agile. In this round, GraphQL Federation edges out the BFF approach.</p>
</li>
<li>
<p><strong>Organizational Friction:</strong> With Federation, the responsibility for managing the architecture often falls squarely on the shoulders of backend engineers. The reason is simple: the complexity of the architecture and its intimate ties with downstream domain services necessitate a deep level of technical understanding. This is a departure from the BFF paradigm, where frontend teams could claim ownership of this part of the infrastructure. The intricate nature of the Federation, however, makes this almost untenable. When put head-to-head with BFFs, the Federation seems to take a step back in this regard. The power to control abstraction slips away from the consumer. In this round, BFFs manage to hold their ground.</p>
</li>
<li>
<p><strong>Legacy Gateway:</strong> Just as in the BFF model, the API gateway maintains its place in the Federation architecture, and rightfully so. However, we find ourselves reestablishing a substantial amount of resiliency and caching logic within these new layers, duplicating efforts previously expended on a traditional gateway. This redundancy marks a lack of efficiency in the Federation approach, signaling a tie in this round.</p>
</li>
</ol>
<p>Overall, this round favors GraphQL Federation. It proves to be a significantly more robust architecture when evaluated based on the aforementioned criteria. Let's explore further and assess how it performs in isolation and as the company expands.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pitfalls-of-graphql-federation">Pitfalls of GraphQL Federation<a class="hash-link" aria-label="Direct link to Pitfalls of GraphQL Federation" title="Direct link to Pitfalls of GraphQL Federation" href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/#pitfalls-of-graphql-federation">‚Äã</a></h2>
<p>While GraphQL Federation has numerous benefits, it is not without its downsides. Here are some points of caution that should be considered when deciding to use this architecture:</p>
<ol>
<li>
<p><strong>Cost and Complexity:</strong> GraphQL Federation introduces significant complexity into the architecture. Setting up, maintaining, and testing a federated graph can be a challenge as it requires a deep understanding of both GraphQL and distributed systems. Additionally, this architecture demands more infrastructure and a larger team for maintenance. As such, the adoption and migration process can be complex and costly. Typically, only large organizations with platform teams, robust budgets, and a governing body to maintain the schema's sanctity and system reliability, tend to consider adopting this approach. The inherent complexity and cost implications make the Federation a less likely choice for small to medium-sized organizations.</p>
</li>
<li>
<p><strong>Ownership Challenges:</strong> It is often argued that domain service owners maintain their individual GraphQL layers. However, this doesn't always reflect the reality. Services can frequently be divided or merged, leading to uncertainty about how to modify the GraphQL layer. This results in a complex web of requests from GraphQL services to domain services outside the team's control.</p>
</li>
<li>
<p><strong>Infrastructure Scaling:</strong> Each subgraph in a federated architecture operates on a separate piece of infrastructure, scaling independently. This brings its own set of challenges. For instance, when a subgraph is divided or merged, computing and scaling requirements need to be re-evaluated. Moreover, a deployment in another subgraph can trigger a substantial increase in load from the router on your subgraph, potentially causing unexpected stress on your infrastructure. This underscores the need for robust scaling and load-balancing strategies within a federated architecture.</p>
</li>
</ol>
<p>While GraphQL Federation has the potential to solve some issues of traditional BFF architecture, it brings in its own set of challenges. Therefore, it's important to evaluate these considerations based on the specific requirements and constraints of your project before deciding to implement this architecture.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="we-are-onto-something">We are onto something<a class="hash-link" aria-label="Direct link to We are onto something" title="Direct link to We are onto something" href="https://tailcall.run/blog/unraveling-the-challenges-of-bff-federation/#we-are-onto-something">‚Äã</a></h2>
<p>When examining the underlying issue, the debate essentially revolves around microservices and monoliths. Undoubtedly, the federated solution offers better scalability compared to a monolithic architecture; however, it also introduces a myriad of distinct challenges related to maintenance and costs that warrant careful consideration. This is not the end of the discussion, as client requests pass through CDNs and the Gateway before reaching the router, and we have yet to explore those components of the infrastructure. In the following sections, we will delve into these components and further investigate how they interact, as well as delve deeper into GraphQL.</p>]]></content>
        <author>
            <name>Tushar Mathur</name>
            <uri>https://github.com/tusharmath</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[No one talks about API Orchestration]]></title>
        <id>https://tailcall.run/blog/no-one-talks-about-api-orchestration/</id>
        <link href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/"/>
        <updated>2023-06-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A Forsaken Piece Of Every Microservice Architecture]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" alt="bff-architecture.png" src="https://tailcall.run/assets/images/bff-architecture-0959791cdd1670dccdb85324b4a9319f.png" width="3616" height="2224" class="img_ev3q"></p>
<!-- -->
<p>Being in the industry for many years, building and consuming microservices, I have realized that there is one problem that no one really talks about when it comes to microservices ie. API Orchestration. As engineers, we love our microservices, small independent components that are responsible for doing just one thing. The promise that was sold when I was a kid was you can build these small independent services and compose them together to build an app, very fast and reliably. It took me years to realize that the necessary tooling for "composing" just doesn't exist! There are tools for distributed tracing, observability, caching, discovery, etc. But to compose services to build a product is completely offloaded to front-end engineers! There were two things that were happening in the tech ecosystem:</p>
<ol>
<li>
<p><strong>Rich User Interfaces:</strong> Responsive websites that worked on desktop and mobile are dead. To build a successful B2C business, you need to build for all three platforms viz. Android, iOS, and Web (Desktop/PWA). The applications need to look slick, rich in information, and have snappy response times. Development on multiple platforms requires a nuanced understanding of the stack and a lot of duplication of code.</p>
</li>
<li>
<p><strong>Microservice Proliferation:</strong> Companies these days bootstrap themselves on microservices instead of monoliths. This is because the tooling to build microservices has gotten a lot better, and reusable components are available either in open-source or as a SAAS solution. This allows developers to focus on their core business logic and move fast.</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="microservice">Microservice<a class="hash-link" aria-label="Direct link to Microservice" title="Direct link to Microservice" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#microservice">‚Äã</a></h2>
<p>Microservices architecture is a design pattern in which a large application is built as a suite of modular services, each of which runs its process and communicates with other services through well-defined interfaces, typically using a lightweight messaging protocol. This approach has several benefits over a monolithic architecture, including improved scalability, resilience, and maintainability. In a microservices architecture, each service has a specific role and is independently deployable, so developers can work on different services in parallel and deploy them independently of each other. This can make the development process more agile and allow for faster deployment of new features.</p>
<p><img decoding="async" loading="lazy" alt="Microservices Architecture" src="https://tailcall.run/assets/images/microservices-architecture-373858c0bdbfd396116ac4ffe4280f9d.png" width="3010" height="2260" class="img_ev3q"></p>
<p>An API gateway is a server that acts as a single point of entry for certain types of requests. It can receive requests from the client, route them to the appropriate backend service, and then return the response from the backend service to the client. An API gateway can also perform tasks such as authentication, rate limiting, and caching. This makes it a useful component in a microservices architecture, where each service has its API and the API gateway acts as the "front door" for clients to access the services.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="api-composition">API Composition<a class="hash-link" aria-label="Direct link to API Composition" title="Direct link to API Composition" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#api-composition">‚Äã</a></h2>
<p>API composition refers to the process of combining multiple APIs to create a new API or a new functionality. This can be done by sending requests to multiple APIs and combining the results, or by creating a new API that acts as a fa√ßade for the underlying APIs.</p>
<blockquote>
<p>üí° API Composition is also known as API Orchestration. This is however vastly different from Microservice Orchestration.</p>
</blockquote>
<p>For example, consider a scenario where a client application wants to display a user's profile information and recent posts on a social media platform. In this case, the client can send two separate requests to two different APIs: one to retrieve the user's profile information, and another to retrieve their recent posts. The client can then combine the results from these two APIs to create a single response that contains all the required information. This new response can be considered as the output of the composed API.</p>
<p>To build a rich user interface, API composition is necessary on the client side. One of the main challenges with API composition on the client side is that it can lead to increased complexity in the client application. This is because the client needs to handle the process of sending requests to multiple APIs and combining the results, which can add to the overall size and complexity of the client code.</p>
<p>Another challenge with API composition on the client side is that it can result in reduced performance and increased latency. This is because the client needs to make multiple separate requests to different APIs, which can take more time and result in a slower response from the composed API.</p>
<p>In addition, API composition on the client side can also lead to increased security risks. This is because the client needs to handle sensitive information, such as API keys and authentication credentials, which can be vulnerable to attacks if not properly secured. The client doesn't have access to powerful CPUs or a reliable network either. This makes the composition problem even more challenging to implement and manage. It is therefore often more efficient and effective to perform API composition on the server side instead.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="backend-for-frontend">Backend For Frontend<a class="hash-link" aria-label="Direct link to Backend For Frontend" title="Direct link to Backend For Frontend" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#backend-for-frontend">‚Äã</a></h2>
<p>A BFF layer can help to solve the challenges of API composition by providing a separate backend service that is optimized for each specific frontend client. This can enable the BFF to perform API composition on behalf of the client, which can help to improve the performance and reliability of the composed API. The BFF layer typically sits as a separate component in the overall architecture, between the frontend client and the microservices. It can communicate with both the frontend client and the microservices using well-defined interfaces and protocols, such as REST or gRPC.</p>
<p>The BFF can take advantage of a powerful CPU and access to a fast network to improve the performance and reliability of the composed API. It can also provide added flexibility and control over the composition process. This can make it a useful tool for developers who want to create new APIs by combining the functionality of multiple underlying APIs.</p>
<p><img decoding="async" loading="lazy" alt="BFF Architecture" src="https://tailcall.run/assets/images/bff-architecture-0959791cdd1670dccdb85324b4a9319f.png" width="3616" height="2224" class="img_ev3q"></p>
<p>BFFs truly solve the problems mentioned above to a great extent, however they introduce new set of challenges viz.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="highly-specialized">Highly Specialized<a class="hash-link" aria-label="Direct link to Highly Specialized" title="Direct link to Highly Specialized" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#highly-specialized">‚Äã</a></h3>
<p>One of the challenges with using a BFF layer is that it is a highly specialized solution that requires a significant amount of hand-written code. Unlike an API gateway, there is no standard BFF solution that can be deployed out-of-the-box, and each BFF implementation must be custom-tailored to the specific requirements of the frontend client. This lack of standardization and reusability can make the BFF solution more complex and difficult to maintain.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fragile">Fragile<a class="hash-link" aria-label="Direct link to Fragile" title="Direct link to Fragile" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#fragile">‚Äã</a></h3>
<p>Another challenge with using a BFF layer is that it can be fragile and susceptible to failure. The BFF solution is dependent on the developers to follow best practices and handle all error scenarios, and if these steps are not taken, the solution can be prone to bugs and performance issues. Additionally, the BFF solution must be thoroughly tested, including performance testing, unit testing, and integration testing, to ensure that it is reliable and performs well in production. This can require significant effort and expertise, and if these steps are not properly followed, the BFF solution can be fragile and prone to failure. Also, it's worth mentioning that a BFF layer is an entry point to all your backend, it going down basically means nothing is accessible for the user so this layer needs to be robust and resilient to exceptions.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance">Performance<a class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#performance">‚Äã</a></h3>
<p>Because BFF layers are typically custom-written for each use case, it can be difficult to predict the performance impact of a small code change. Issues such as unoptimized algorithms, inefficient caching, and unnecessary downstream requests can go unnoticed and only be discovered very late in the development cycle. Typically companies perform thorough benchmarking and load testing before anything goes live. This results in a very high time to market even for minor changes.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="monolith">Monolith<a class="hash-link" aria-label="Direct link to Monolith" title="Direct link to Monolith" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#monolith">‚Äã</a></h3>
<p>Eventually, this layer turns out to be a big monolith touching every service in your backend. The layer contains a lot of handwritten spaghetti code that's hard to maintain. Onboarding new engineers also becomes harder and upgrading libraries or architecture gets costlier. Any tiny change requires a full-fledged deployment on your infrastructure.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="canary-support-or-lack-thereof">Canary Support (or lack thereof)<a class="hash-link" aria-label="Direct link to Canary Support (or lack thereof)" title="Direct link to Canary Support (or lack thereof)" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#canary-support-or-lack-thereof">‚Äã</a></h3>
<p>Every change that happens in the backend requires the deployment of the BFF layer. In fact, any feature that is built on the client also requires changes on the BFF layer. Such frequent changes can not be exposed to 100% of users because the reliability and performance of this system are unknown. A common way to solve this problem is to use <a href="https://www.redhat.com/en/topics/devops/what-is-blue-green-deployment" target="_blank" rel="noopener noreferrer">blue-green</a> deployments. This requires additional infrastructure and complex routing mechanisms. First-class support to do canary releases is very important and should be part of a modern BFF layer, however, most companies rely on DevOps for its support.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="coupled-release">Coupled Release<a class="hash-link" aria-label="Direct link to Coupled Release" title="Direct link to Coupled Release" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#coupled-release">‚Äã</a></h3>
<p>BFF layers can't be deployed independently since they act as a bridge between the clients and the services. Generally, the services need to go live first, and they need to make sure that the change is compatible with the current version of the BFF layer running in production. The interesting problem is in case there is a bug in the microservice and it needs to be reverted, even the BFF layer needs to be reverted. This kind of coupling makes it operationally very expensive to manage.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="organizational-friction">Organizational Friction<a class="hash-link" aria-label="Direct link to Organizational Friction" title="Direct link to Organizational Friction" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#organizational-friction">‚Äã</a></h3>
<p>The Backends for Frontends (BFF) pattern is designed to create a tailor-made backend service for each user interface (e.g., desktop, mobile, etc.), with the aim of simplifying the client-side and improving the user experience.</p>
<p>However, in practice, this architecture sometimes creates friction within the organization, particularly when BFFs are developed and maintained by the backend team. Here are a few reasons why:</p>
<ol>
<li>
<p><strong>Communication and Responsiveness:</strong> As the backend team is typically in charge of the BFF, front-end teams often have to wait for them to make necessary changes. This slows down the development process, especially when backlogs are high or priorities differ.</p>
</li>
<li>
<p><strong>Different Skillsets:</strong> Backend and frontend developers often specialize in different programming languages and paradigms. If the backend team is in charge of the BFF, they might not be as comfortable or efficient at dealing with issues that are more closely related to the frontend.</p>
</li>
<li>
<p><strong>Lack of Ownership:</strong> Frontend teams often feel that they lack ownership and control over the part of the system that directly impacts their work. This leads to decreased motivation and productivity.</p>
</li>
</ol>
<p>One potential solution to these issues is to shift the ownership of the BFFs to the front-end teams. Since these teams are the primary consumers of the BFFs, they could be better placed to design, implement, and maintain them. This would not only empower the front-end teams but also free up backend teams to focus on their core responsibilities.</p>
<p>However, this solution is not without its own challenges. For one, front-end teams would need to upskill to handle their new responsibilities. Also, the organization would need to ensure that there are clear lines of communication between the front-end and backend teams, so that any changes to shared resources can be coordinated effectively.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="legacy-gateway">Legacy Gateway<a class="hash-link" aria-label="Direct link to Legacy Gateway" title="Direct link to Legacy Gateway" href="https://tailcall.run/blog/no-one-talks-about-api-orchestration/#legacy-gateway">‚Äã</a></h3>
<p>BFF layers often end up implementing some of the cross-cutting concerns of an API gateway such as rate limiting, authentication, throttling, etc. This makes its purpose quite confusing in the sense that do we need an API gateway if we are using a BFF layer. Moreover, it's not very clear if we use an API gateway with a BFF layer, where should we place it? Should we place it between the clients and the BFF layer or the BFF layer and the service mesh? These are subjective decisions that each company ends up making as there is no standard way of doing this. However, it's worth mentioning that legacy gateways do introduce a gap that's being attempted to be filled by a BFF layer.</p>
<blockquote>
<p>BFF, Presentation Layer, Facade, Middleware, UI Layer, Orchestration Layer, API Adapter ‚Äî Are all different nomenclatures used for the same thing.</p>
</blockquote>
<p>To summarize, BFFs do indeed address the issues of API orchestration to a significant extent; however, they also present a new set of challenges for organizations to tackle. Clearly, there is more to the story. In our <a href="https://blog.tailcall.run/unraveling-the-challenges-of-bff-federation" target="_blank" rel="noopener noreferrer">next blog post</a>, we will discuss some of the solutions that large organizations with unlimited budgets have implemented to overcome this problem. So, please subscribe if you haven't already.</p>]]></content>
        <author>
            <name>Tushar Mathur</name>
            <uri>https://github.com/tusharmath</uri>
        </author>
    </entry>
</feed>